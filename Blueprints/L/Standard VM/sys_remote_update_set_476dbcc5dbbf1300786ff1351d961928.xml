<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2018-08-06 15:23:04">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<application_name>Cloud Management Platform</application_name>
<application_scope>sn_cmp</application_scope>
<application_version>1.0.0</application_version>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>Standard VM1 2018-08-06 15:22:38</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>256d3cc5dbbf1300786ff1351d961993</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>476dbcc5dbbf1300786ff1351d961928</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_0a120579931813004a9032bfa67ffb86</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Stop">3a114939931813004a9032bfa67ffb9d</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceInterface</name><order>30</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Interface</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:50</sys_created_on><sys_id>0a120579931813004a9032bfa67ffb86</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Interface</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_0a120579931813004a9032bfa67ffb86</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:50</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=0a120579931813004a9032bfa67ffb86"/><fx_price action="delete_multiple" query="id=0a120579931813004a9032bfa67ffb86"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>0a120579931813004a9032bfa67ffb86</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:50</sys_created_on><sys_id>4a124579931813004a9032bfa67ffb74</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:50</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>0a120579931813004a9032bfa67ffb86</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:50</sys_created_on><sys_id>ca120579931813004a9032bfa67ffb87</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:50</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-948471558</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>0b6dbcc5dbbf1300786ff1351d961929</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd544f00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Interface</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>7d6d3cc55fbf130063bf398437cb3bbb</update_guid>
<update_guid_history>7d6d3cc55fbf130063bf398437cb3bbb:-948471558,a91bdcc5a73f1300a8762c889a0c863c:-948471558</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_ca3541bd931813004a9032bfa67ffb1c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Virtual Server - Start"&gt;4fa40d7d931813004a9032bfa67ffb1b&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Hide operation variables&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[// System generatend script, please do not change
function onLoad() {
	g_form.setDisplay('resourceBlock', false);
	g_form.setDisplay('resourceId', false);
	g_form.setDisplay('resourceInterface', false);
	g_form.setDisplay('operationName', false);
	g_form.setDisplay('credential', false);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-02-16 00:12:30&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;ca3541bd931813004a9032bfa67ffb1c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Hide operation variables&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_ca3541bd931813004a9032bfa67ffb1c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-16 00:12:30&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1812004453</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>0f6dbcc5dbbf1300786ff1351d961928</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547660000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Hide operation variables</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>426d3cc5f4bf130074b23c2303c869d9</update_guid>
<update_guid_history>426d3cc5f4bf130074b23c2303c869d9:-1812004453,a11bdcc5be3f1300b5caa92f4a995a5b:-1812004453</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_c5224579931813004a9032bfa67ffb10</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Deprovision">cf618d39931813004a9032bfa67ffb0a</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceInterface</name><order>30</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Interface</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:03</sys_created_on><sys_id>c5224579931813004a9032bfa67ffb10</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Interface</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_c5224579931813004a9032bfa67ffb10</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:03</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=c5224579931813004a9032bfa67ffb10"/><fx_price action="delete_multiple" query="id=c5224579931813004a9032bfa67ffb10"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>c5224579931813004a9032bfa67ffb10</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:03</sys_created_on><sys_id>cd228579931813004a9032bfa67ffb0a</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:03</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>c5224579931813004a9032bfa67ffb10</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:03</sys_created_on><sys_id>85228579931813004a9032bfa67ffb0a</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:03</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>2126273019</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96192b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd546250000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Interface</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>fd6d3cc54dbf1300c1cb4d796939a1ca</update_guid>
<update_guid_history>fd6d3cc54dbf1300c1cb4d796939a1ca:2126273019,a51bdcc5613f13000fb0c3cf552b944c:2126273019</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_acc8fab7db5313002c87f1771d9619bd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Provision">82041598db9f1f00786ff1351d961960</blueprint_stage_op><child_operation display_value="Virtual Server.Provision">2c145598db9f1f00786ff1351d961992</child_operation><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.Provision">4b041598db9f1f00786ff1351d9619c4</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:30</sys_created_on><sys_id>acc8fab7db5313002c87f1771d9619bd</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_acc8fab7db5313002c87f1771d9619bd</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:30</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>2045831353</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96192e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd540d80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>ed6d3cc5e4bf1300ec45e6bd1fda0f9b</update_guid>
<update_guid_history>ed6d3cc5e4bf1300ec45e6bd1fda0f9b:2045831353</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_1191fd300b903200668daac125673acc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Discovery Interface">9c7039300b903200668daac125673ad8</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:30:08</sys_created_on><sys_id>1191fd300b903200668daac125673acc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_1191fd300b903200668daac125673acc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-11 08:30:08</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1406610183</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961931</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553e10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>766d7cc557bf13002c7a7ba326cf32c3</update_guid>
<update_guid_history>766d7cc557bf13002c7a7ba326cf32c3:1406610183,1a1bdcc52e3f130065dfbefb4ed8e5ea:1406610183</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_e26048440b632200668daac125673a68</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Storage Interface">e26044440b632200668daac125673a4b</guestinterface><resource display_value="Storage Volume">266048440b632200668daac125673a63</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-02 09:33:07</sys_created_on><sys_id>e26048440b632200668daac125673a68</sys_id><sys_mod_count>0</sys_mod_count><sys_name>266048440b632200668daac125673a63</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_e26048440b632200668daac125673a68</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-02 09:33:07</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-671610813</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961934</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547960000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>266048440b632200668daac125673a63</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>426d3cc508bf13000616ffd420b6b0db</update_guid>
<update_guid_history>426d3cc508bf13000616ffd420b6b0db:-671610813,251bdcc5933f1300bcc82745258afe5d:-671610813</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcehost_ee6048440b632200668daac125673a6b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcehost"><sn_cmp_rb_resourcehost action="INSERT_OR_UPDATE"><guestresource display_value="Storage Volume">266048440b632200668daac125673a63</guestresource><hostresource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</hostresource><sys_class_name>sn_cmp_rb_resourcehost</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-02 09:33:07</sys_created_on><sys_id>ee6048440b632200668daac125673a6b</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcehost_ee6048440b632200668daac125673a6b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-02 09:33:07</sys_updated_on></sn_cmp_rb_resourcehost></record_update>]]></payload>
<payload_hash>628584811</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961937</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547cc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Host</type>
<update_domain>global</update_domain>
<update_guid>0e6d3cc5babf1300109bb8dc1bb68add</update_guid>
<update_guid_history>0e6d3cc5babf1300109bb8dc1bb68add:628584811,b11bdcc5693f1300fcbbf26851741060:628584811</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1679b35e0be622009e620bcb15673a88</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_VPN_Connections_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>1679b35e0be622009e620bcb15673a88</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_VPN_Connections_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_1679b35e0be622009e620bcb15673a88</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1323310626</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96193a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54db50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_VPN_Connections_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>9e6d7cc546bf1300050945bf8c896f2f</update_guid>
<update_guid_history>9e6d7cc546bf1300050945bf8c896f2f:1323310626,4e1bdcc5c43f1300f0f6498f0a930aa9:1323310626</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_3e6048440b632200668daac125673a7c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Attach_Storage_Volume_Virtual_Server&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeAttachments = global.JSON.parse(response);&amp;#13;
    //var endPointId = volumeAttachments.instanceId.concat( "-" , volumeAttachments.volumeId );&amp;#13;
	var endPointId = volumeAttachments.volumeId + '_block_endpoint';&amp;#13;
	var volumeAttachInfo = {&amp;#13;
		"cmdb_ci_vm_instance": {&amp;#13;
			"validator": "volume_attach_vm",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeAttachments.instanceId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeAttachments.instanceId,&amp;#13;
				"disks": getDiskCount(volumeAttachments.instanceId)&amp;#13;
			},&amp;#13;
			"bindings":[&amp;#13;
              {&amp;#13;
                "attach_to": {&amp;#13;
                  "used_by": {&amp;#13;
                    "endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
                    "endpoint_identification": {&amp;#13;
                      "object_id": endPointId&amp;#13;
                    }&amp;#13;
                  }&amp;#13;
                }&amp;#13;
              }&amp;#13;
		    ]&amp;#13;
		}&amp;#13;
	};&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
    function getDiskCount(instanceId){&amp;#13;
		var disks;&amp;#13;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");&amp;#13;
		diskCount.addQuery('object_id',instanceId);&amp;#13;
	    diskCount.query();&amp;#13;
	if (diskCount.next()){ &amp;#13;
		disks = parseInt(diskCount.getValue("disks"))+1;&amp;#13;
	}&amp;#13;
		return disks;&amp;#13;
	}&amp;#13;
	cloudModelString.push(volumeAttachInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeAttachments = global.JSON.parse(response);
    //var endPointId = volumeAttachments.instanceId.concat( "-" , volumeAttachments.volumeId );
	var endPointId = volumeAttachments.volumeId + '_block_endpoint';
	var volumeAttachInfo = {
		"cmdb_ci_vm_instance": {
			"validator": "volume_attach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": volumeAttachments.instanceId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachments.instanceId,
				"disks": getDiskCount(volumeAttachments.instanceId)
			},
			"bindings":[
              {
                "attach_to": {
                  "used_by": {
                    "endpoint_ci": "cmdb_ci_endpoint_block",
                    "endpoint_identification": {
                      "object_id": endPointId
                    }
                  }
                }
              }
		    ]
		}
	};
	// Defensive Code to handle Empty Volumes Info
    function getDiskCount(instanceId){
		var disks;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");
		diskCount.addQuery('object_id',instanceId);
	    diskCount.query();
	if (diskCount.next()){ 
		disks = parseInt(diskCount.getValue("disks"))+1;
	}
		return disks;
	}
	cloudModelString.push(volumeAttachInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-02 09:33:08&lt;/sys_created_on&gt;&lt;sys_id&gt;3e6048440b632200668daac125673a7c&lt;/sys_id&gt;&lt;sys_mod_count&gt;22&lt;/sys_mod_count&gt;&lt;sys_name&gt;Attach_Storage_Volume_Virtual_Server&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_3e6048440b632200668daac125673a7c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-06 12:19:23&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-737284090</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96193e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54ea20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Attach_Storage_Volume_Virtual_Server</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2e6d7cc5fbbf13009e4cb1356b478037</update_guid>
<update_guid_history>2e6d7cc5fbbf13009e4cb1356b478037:-737284090,061bdcc5513f1300c91cc9b3be2e42b2:-737284090</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_50c9c1360b632200e937c97193673ace</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_Containers</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>50c9c1360b632200e937c97193673ace</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_Containers</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_50c9c1360b632200e937c97193673ace</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>426996619</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961941</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549310000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_Containers</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ce6d3cc58ebf1300d8ba359f08e443ef</update_guid>
<update_guid_history>ce6d3cc58ebf1300d8ba359f08e443ef:426996619,791bdcc5ce3f1300118588bcb11ab573:426996619</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5d0543139f60320048111f80a57fcf5d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Resource_Groups_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API');
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Resources/resourceGroups',
											   'resource_group_create_update_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-31 19:15:46&lt;/sys_created_on&gt;&lt;sys_id&gt;5d0543139f60320048111f80a57fcf5d&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Resource_Groups_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_5d0543139f60320048111f80a57fcf5d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-17 19:31:20&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1134505097</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961944</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5565c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Resource_Groups_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>726d7cc5a1bf1300c56337121985b4df</update_guid>
<update_guid_history>726d7cc5a1bf1300c56337121985b4df:1134505097,e21b1009003f1300d23bb5216f68d208:1134505097</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_679ea1b80b0132003969a387b6673a0e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Subnet_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){
	var cloudModelString = [];
	var subnetResponse = global.JSON.parse(response);
	
	var subnetInfo = {
		"cmdb_ci_cloud_subnet": {
			"validator": "subnet_create_update_validator",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_network": {
					"criterion": {
						"object_id": subnetResponse.networkId
					}
				},
				"cmdb_ci_cloud_subnet": {
					"criterion": {
						"object_id": subnetResponse.subnetId
					}
				}
			},
			"attributes": {
				"object_id": subnetResponse.subnetId,
				"name": subnetResponse.subnetName,
				"subnet_mask": subnetResponse.netMask,
				"cidr": subnetResponse.cidrBlock,
				"available_ip_count": subnetResponse.availableIpAddressCount,
				"broadcast_address": subnetResponse.networkAddress,
				"primary_dns": subnetResponse.dnsNameServers,
				"ipam_provider": subnetResponse.ipamProvider,
				"gateway": subnetResponse.gatewayIP,
				"state":"available"
			},
			"references": {
				"cmdb_ci_resource_group": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_resource_group": {
							"criterion": {
								"object_id": subnetResponse.resourceGroup
							}
						}
					},
					"attributes": {
						"object_id": subnetResponse.resourceGroup
					}
				}
			}
		}
	};
	cloudModelString.push(subnetInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-17 15:04:38&lt;/sys_created_on&gt;&lt;sys_id&gt;679ea1b80b0132003969a387b6673a0e&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Subnet_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_679ea1b80b0132003969a387b6673a0e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-30 10:59:50&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1271863835</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961947</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5571b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Subnet_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>cf6d7cc55abf1300b2c3269d18f83ee6</update_guid>
<update_guid_history>cf6d7cc55abf1300b2c3269d18f83ee6:-1271863835,aa1b1009083f13001500f25f62506f10:-1271863835</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7596c2569f85320048111f80a57fcfa8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Deprovision_Azure_Stack&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new AzureDeprovisionResponseProcessor(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId);

	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var processedResponses = processor.processResponse(responseObj, cloudServiceAccountId, ldc, 
													   correlationId, step, requestorContext, stackId);
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-22 08:39:50&lt;/sys_created_on&gt;&lt;sys_id&gt;7596c2569f85320048111f80a57fcfa8&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Deprovision_Azure_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7596c2569f85320048111f80a57fcfa8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-22 21:35:04&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>327155561</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96194a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557bb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Deprovision_Azure_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>076d7cc56ebf1300aadb9dd869db84fb</update_guid>
<update_guid_history>076d7cc56ebf1300aadb9dd869db84fb:327155561,621b1009223f13009988ad48286d1b19:327155561</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103cb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_LB_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>7df501abd722220097eb6ccf6e6103cb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_LB_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103cb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>594576092</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96194d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558a90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_LB_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>876dbcc54ebf1300cafbd832da852908</update_guid>
<update_guid_history>876dbcc54ebf1300cafbd832da852908:594576092,221b1009b93f130006d49aa8a9025b40:594576092</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_969d36820ba32200668daac125673a7b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_Security_Group_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var secGroupResponse = global.JSON.parse(response);
	var secGroup = {
		"cmdb_ci_compute_security_group": {
			"validator": "storage_volume_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_compute_security_group": {
					"criterion": {
						"object_id": secGroupResponse.firewallId
					}
				}
			},
			"attributes": {
				"state": "terminated"
			}
		}
	};
	cloudModelString.push(secGroup);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-09 04:27:30&lt;/sys_created_on&gt;&lt;sys_id&gt;969d36820ba32200668daac125673a7b&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_Security_Group_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_969d36820ba32200668daac125673a7b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-04 10:23:13&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-673035204</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961951</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551c60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_Security_Group_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ea6d7cc57abf13000c98b9c9d7d28d93</update_guid>
<update_guid_history>ea6d7cc57abf13000c98b9c9d7d28d93:-673035204,921bdcc5203f13003a25d21cc8a918d2:-673035204</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ac05c6e50b632200e937c97193673a1d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Route_Table_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {

      var cloudModelString = [];
      var routeTableResponse = global.JSON.parse(response);
      var reqContext = global.JSON.parse(requestorContext);
      var routerObjectIdBuilder = new sn_cmp.RouterObjectIdBuilder();
      var routerId = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
      var routeTable = {
        "cmdb_ci_route_table": {
          "validator": "route_table_create_validator",
          "validator_overrides": { },
          "identification": {
            "cmdb_ci_cloud_service_account": {
              "criterion": {
                "object_id": cloudServiceAccountId
              }
            },
            "cmdb_ci_aws_datacenter": {
              "criterion": {
                "object_id": ldc
              }
            },
            "cmdb_ci_router": {
              "criterion": {
                "object_id": routerId
              }
            },
            "cmdb_ci_route_table": {
              "criterion": {
                "object_id":routeTableResponse.routeTableId
              }
            }
          },
          "attributes": {
            "object_id":routeTableResponse.routeTableId,
            "route_table_id":routeTableResponse.routeTableId,
            "name":routeTableResponse.routeTableId,
            "network_id":routeTableResponse.networkId,
            "assigned_to":reqContext.userId,
            "assignment_group":reqContext.groupId,
            "state":"available"
          }
        }
      };
      cloudModelString.push(routeTable);
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routeTableResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var routerObjectIdBuilder = new sn_cmp.RouterObjectIdBuilder();
	var routerId = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
	var routeTable = {
		"cmdb_ci_route_table": {
			"validator": "route_table_create_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_router": {
					"criterion": {
						"object_id": routerId
					}
				},
				"cmdb_ci_route_table": {
					"criterion": {
						"object_id":routeTableResponse.routeTableId
					}
				}
			},
			"attributes": {
				"object_id":routeTableResponse.routeTableId,
				"route_table_id":routeTableResponse.routeTableId,
				"name":routeTableResponse.routeTableId,
			    "network_id":routeTableResponse.networkId,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId,
				"state":"available"
			}
		}
	};
	cloudModelString.push(routeTable);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-07 11:03:19&lt;/sys_created_on&gt;&lt;sys_id&gt;ac05c6e50b632200e937c97193673a1d&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Route_Table_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_ac05c6e50b632200e937c97193673a1d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 02:26:30&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1088356500</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552300000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Route_Table_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2a6d7cc5d3bf13008415ec6da3d6f5a4</update_guid>
<update_guid_history>2a6d7cc5d3bf13008415ec6da3d6f5a4:-1088356500,5e1bdcc5a43f13005e4a86488dea9bd6:-1088356500</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_cb81f6400b6003003246ad4363673a12</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_AWS_Topics&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {&amp;#13;
&amp;#13;
	var cloudModelString = [];&amp;#13;
	var topicResponse = global.JSON.parse(response);&amp;#13;
	if ((!isEmpty(topicResponse.ListTopicsResult)) &amp;amp;&amp;amp; (!isEmpty(topicResponse.ListTopicsResult.Topics)) &amp;amp;&amp;amp; (!isEmpty(topicResponse.ListTopicsResult.Topics.member))) {&amp;#13;
		var topics = convertMapToList(topicResponse.ListTopicsResult.Topics.member);&amp;#13;
		for (var i = 0; i &amp;lt; topics.length; i++) {&amp;#13;
			var topicARNValue=topics[i].TopicArn;&amp;#13;
			var name=topicARNValue.split(':')[5];&amp;#13;
			var topicInfo = {&amp;#13;
				"cmdb_ci_cloud_topic": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_aws_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_cloud_topic": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": topics[i].TopicArn&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"name": name&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			cloudModelString.push(topicInfo);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&amp;#13;
&amp;#13;
//Following Function converts Map to List&amp;#13;
function convertMapToList(value) {&amp;#13;
	if (!(Array.isArray(value))) {&amp;#13;
		//Converting to List to Map&amp;#13;
		var loadList = [];&amp;#13;
		loadList.push(value);&amp;#13;
		return loadList;&amp;#13;
	}&amp;#13;
	else&amp;#13;
		return value;&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)&amp;#13;
function isEmpty(value) {&amp;#13;
	return (value == null || value.length === 0);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {

	var cloudModelString = [];
	var topicResponse = global.JSON.parse(response);
	if ((!isEmpty(topicResponse.ListTopicsResult)) &amp;&amp; (!isEmpty(topicResponse.ListTopicsResult.Topics)) &amp;&amp; (!isEmpty(topicResponse.ListTopicsResult.Topics.member))) {
		var topics = convertMapToList(topicResponse.ListTopicsResult.Topics.member);
		for (var i = 0; i &lt; topics.length; i++) {
			var topicARNValue=topics[i].TopicArn;
			var name=topicARNValue.split(':')[5];
			var topicInfo = {
				"cmdb_ci_cloud_topic": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_cloud_topic": {
							"criterion": {
								"object_id": topics[i].TopicArn
							}
						}
					},
					"attributes": {
						"name": name
					}
				}
			};
			cloudModelString.push(topicInfo);
		}
	}
	return global.JSON.stringify(cloudModelString);
}

//Following Function converts Map to List
function convertMapToList(value) {
	if (!(Array.isArray(value))) {
		//Converting to List to Map
		var loadList = [];
		loadList.push(value);
		return loadList;
	}
	else
		return value;
}


//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)
function isEmpty(value) {
	return (value == null || value.length === 0);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 11:56:14&lt;/sys_created_on&gt;&lt;sys_id&gt;cb81f6400b6003003246ad4363673a12&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_AWS_Topics&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_cb81f6400b6003003246ad4363673a12&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-08 13:27:26&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-184625899</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d961957</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552a70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Create_AWS_Topics</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ba6d7cc555bf1300c0d54850657091aa</update_guid>
<update_guid_history>ba6d7cc555bf1300c0d54850657091aa:-184625899,961bdcc55e3f13008f06d143132bb1dd:-184625899</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_dcc9c1360b632200e937c97193673aca</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Virtual_Servers_To_LDC</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>dcc9c1360b632200e937c97193673aca</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Virtual_Servers_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_dcc9c1360b632200e937c97193673aca</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-988935509</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96195a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54ba80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Associate_Virtual_Servers_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>de6d7cc5afbf13006bd6f123fcbb4a1c</update_guid>
<update_guid_history>de6d7cc5afbf13006bd6f123fcbb4a1c:-988935509,b11bdcc5a93f1300f8e4a0e5c6b41389:-988935509</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_fe9b54abdb6043008e29d65fdf961998</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Azure alert template</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script>{
  "$schema": "https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "activityLogAlertName": {
      "type": "string",
      "metadata": {
        "description": "Unique name (within the Resource Group) for the Activity log alert."
      }
    },
    "activityLogAlertEnabled": {
      "type": "bool",
      "defaultValue": true,
      "metadata": {
        "description": "Indicates whether or not the alert is enabled."
      }
    },
    "operationNameCondition": {
      "type": "array",
      "metadata": {
        "description": "condition for Operation Name."
      }
    },
    "actionGroupName": {
      "type": "string",
      "metadata": {
        "description": "Unique name (within the Resource Group) for the Action group."
      }
    },
    "actionGroupShortName": {
      "type": "string",
      "metadata": {
        "description": "Short name (maximum 12 characters) for the Action group."
      }
    },
    "webhookReceiverName": {
      "type": "string",
      "metadata": {
        "description": "Webhook receiver service URI."
      }
    },
    "webhookServiceUri": {
      "type": "string",
      "metadata": {
        "description": "Webhook receiver service URI."
      }
    }
  },
  "resources": [
    {
      "type": "Microsoft.Insights\/activityLogAlerts",
      "apiVersion": "2017-04-01",
      "name": "[parameters('activityLogAlertName')]",
      "location": "Global",
      "dependsOn": [
        "[concat('Microsoft.Insights\/actionGroups\/', parameters('actionGroupName'))]"
      ],
      "properties": {
        "enabled": "[parameters('activityLogAlertEnabled')]",
        "scopes": [
          "[subscription().id]"
        ],
        "condition": {
          "allOf": [
            {
              "field": "category",
              "equals": "Administrative"
            },
            {
              "field": "status",
              "equals": "Succeeded",
              "containsAny": null
            },
            {
              "anyOf": "[parameters('operationNameCondition')]"
            }
          ]
        },
        "actions": {
          "actionGroups": [
            {
              "actionGroupId": "[resourceId('Microsoft.Insights\/actionGroups', parameters('actionGroupName'))]"
            }
          ]
        }
      }
    },
    {
      "type": "Microsoft.Insights\/actionGroups",
      "apiVersion": "2017-04-01",
      "name": "[parameters('actionGroupName')]",
      "location": "Global",
      "properties": {
        "groupShortName": "[parameters('actionGroupShortName')]",
        "enabled": true,
        "smsReceivers": [
          
        ],
        "emailReceivers": [
          
        ],
        "webhookReceivers": [
          {
            "name": "[parameters('webhookReceiverName')]",
            "serviceUri": "[parameters('webhookServiceUri')]"
          }
        ]
      }
    }
  ]
}</script><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>yuedong.huang@snc</sys_created_by><sys_created_on>2017-08-18 21:45:50</sys_created_on><sys_id>fe9b54abdb6043008e29d65fdf961998</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Azure alert template</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_fe9b54abdb6043008e29d65fdf961998</sys_update_name><sys_updated_by>yuedong.huang@snc</sys_updated_by><sys_updated_on>2017-08-18 22:32:45</sys_updated_on><type>18</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-299704138</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>136dbcc5dbbf1300786ff1351d96195d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd55a3f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure alert template</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c36dbcc5edbf1300de886ac7d9008427</update_guid>
<update_guid_history>c36dbcc5edbf1300de886ac7d9008427:-299704138,f61b10090e3f13008aa3b60c70e6fa85:-299704138</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_63d44d7d931813004a9032bfa67ffba6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Start">4fa40d7d931813004a9032bfa67ffb1b</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>operationName</name><order>40</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Operation Name</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:57</sys_created_on><sys_id>63d44d7d931813004a9032bfa67ffba6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Operation Name</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_63d44d7d931813004a9032bfa67ffba6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:57</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=63d44d7d931813004a9032bfa67ffba6"/><fx_price action="delete_multiple" query="id=63d44d7d931813004a9032bfa67ffba6"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>63d44d7d931813004a9032bfa67ffba6</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:57</sys_created_on><sys_id>a3d48d7d931813004a9032bfa67ffb94</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:57</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>63d44d7d931813004a9032bfa67ffba6</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:57</sys_created_on><sys_id>6bd48d7d931813004a9032bfa67ffb93</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:57</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>1594938397</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d96192a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd546da0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Operation Name</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>466d3cc57fbf130013590495646c0dd3</update_guid>
<update_guid_history>466d3cc57fbf130013590495646c0dd3:1594938397,a11bdcc5993f13007c431c3c79b45a55:1594938397</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_a8c8fab7db5313002c87f1771d9619ac</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Start">5a041598db9f1f00786ff1351d961973</blueprint_stage_op><child_operation display_value="Blueprint Container Resource.Start">acf4951cdb9f1f00786ff1351d961950</child_operation><in_degree>0</in_degree><parent_operation/><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>a8c8fab7db5313002c87f1771d9619ac</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_a8c8fab7db5313002c87f1771d9619ac</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>1134461624</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d96192d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd540b30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>616d3cc5e3bf1300070eee54433fe19a</update_guid>
<update_guid_history>616d3cc5e3bf1300070eee54433fe19a:1134461624</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_cdd4ff990b0232009e620bcb15673afb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_subnet</endpoint><relation_type>2</relation_type><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 07:10:30</sys_created_on><sys_id>cdd4ff990b0232009e620bcb15673afb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_cdd4ff990b0232009e620bcb15673afb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 07:10:30</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>1828255607</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961930</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542fd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>f96d3cc5dbbf13006d5dda5cdb32a5b3</update_guid>
<update_guid_history>f96d3cc5dbbf13006d5dda5cdb32a5b3:1828255607,a11bdcc57c3f130018092ae52a498734:1828255607</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_ce79b35e0be622009e620bcb15673a58</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Storage Server Interface">ca79b35e0be622009e620bcb15673a29</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>ce79b35e0be622009e620bcb15673a58</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_ce79b35e0be622009e620bcb15673a58</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>298428400</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961933</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d2c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>5e6d7cc531bf13008cd7bbb39e79b928</update_guid>
<update_guid_history>5e6d7cc531bf13008cd7bbb39e79b928:298428400,061bdcc5173f13003ae4e1f9fe44c5a2:298428400</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcehost_3ee854ae0b6032003ad5c73ef6673ab3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcehost"><sn_cmp_rb_resourcehost action="INSERT_OR_UPDATE"><guestresource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</guestresource><hostresource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</hostresource><sys_class_name>sn_cmp_rb_resourcehost</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-28 22:47:58</sys_created_on><sys_id>3ee854ae0b6032003ad5c73ef6673ab3</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcehost_3ee854ae0b6032003ad5c73ef6673ab3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-28 22:47:58</sys_updated_on></sn_cmp_rb_resourcehost></record_update>]]></payload>
<payload_hash>2121856620</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961936</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5415b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Host</type>
<update_domain>global</update_domain>
<update_guid>e96d3cc5d1bf1300f7be87b6188650a2</update_guid>
<update_guid_history>e96d3cc5d1bf1300f7be87b6188650a2:2121856620,dd1bdcc5613f1300b44a37cb56310321:2121856620</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1279b35e0be622009e620bcb15673a9b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Delete_Storage_Container_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>1279b35e0be622009e620bcb15673a9b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Delete_Storage_Container_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_1279b35e0be622009e620bcb15673a9b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>79557026</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961939</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54da70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_Storage_Container_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>126d7cc56ebf13003409dc801a4e842f</update_guid>
<update_guid_history>126d7cc56ebf13003409dc801a4e842f:79557026,8e1bdcc5263f13005bf657111f01eca8:79557026</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_2f0785140b9132000747a387b6673aea</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Stop_Virtual_Machine_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc){&amp;#13;
	var cloudModelString = [];&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
	&amp;#13;
	var vmResponses = [];&amp;#13;
	&amp;#13;
	if (vmResponse.hasOwnProperty('successfullyDone'))&amp;#13;
		vmResponses = vmResponse.successfullyDone;&amp;#13;
	else&amp;#13;
		vmResponses.push(vmResponse);&amp;#13;
	&amp;#13;
	for (var i = 0; i &amp;lt; vmResponses.length; i++) {&amp;#13;
		var vmData = vmResponses[i];&amp;#13;
		&amp;#13;
		var publicIP = '';&amp;#13;
		if (vmData.publicIps &amp;amp;&amp;amp; vmData.publicIps.length &amp;gt; 0)&amp;#13;
			publicIP = vmData.publicIps[0];&amp;#13;
	&amp;#13;
		var vmInfo ={&amp;#13;
			"cmdb_ci_vm_instance": {&amp;#13;
				"validator": "virtual_machine_create_update_validator",&amp;#13;
				"validator_overrides": { },&amp;#13;
				"identification": {&amp;#13;
					"cmdb_ci_cloud_service_account": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": cloudServiceAccountId&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_azure_datacenter": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": ldc&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_vm_instance": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": vmData.nodeId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"attributes": {&amp;#13;
					"object_id": vmData.nodeId,&amp;#13;
					"ip_address":publicIP,&amp;#13;
					"state": "off"&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		cloudModelString.push(vmInfo);&amp;#13;
	}&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	
	var vmResponses = [];
	
	if (vmResponse.hasOwnProperty('successfullyDone'))
		vmResponses = vmResponse.successfullyDone;
	else
		vmResponses.push(vmResponse);
	
	for (var i = 0; i &lt; vmResponses.length; i++) {
		var vmData = vmResponses[i];
		
		var publicIP = '';
		if (vmData.publicIps &amp;&amp; vmData.publicIps.length &gt; 0)
			publicIP = vmData.publicIps[0];
	
		var vmInfo ={
			"cmdb_ci_vm_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_vm_instance": {
						"criterion": {
							"object_id": vmData.nodeId
						}
					}
				},
				"attributes": {
					"object_id": vmData.nodeId,
					"ip_address":publicIP,
					"state": "off"
				}
			}
		};
		cloudModelString.push(vmInfo);
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-28 09:11:19&lt;/sys_created_on&gt;&lt;sys_id&gt;2f0785140b9132000747a387b6673aea&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Stop_Virtual_Machine_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_2f0785140b9132000747a387b6673aea&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-08 11:34:33&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-270853563</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d96193d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Stop_Virtual_Machine_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fe6d7cc5c2bf1300e13bdc790fe229d1</update_guid>
<update_guid_history>fe6d7cc5c2bf1300e13bdc790fe229d1:-270853563,921bdcc5563f1300a713ae6823967efa:-270853563</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4e79b35e0be622009e620bcb15673a70</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_Volumes</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>4e79b35e0be622009e620bcb15673a70</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_Volumes</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_4e79b35e0be622009e620bcb15673a70</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1798128564</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961940</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f190000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_Volumes</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a26d7cc55dbf1300bdfaee0a02c4463c</update_guid>
<update_guid_history>a26d7cc55dbf1300bdfaee0a02c4463c:1798128564,ce1bdcc5863f1300b4dbac32b197d8b6:1798128564</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5a2c18bd0b6132003969a387b6673a26</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_RouteTable_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
      var cloudModelString = [];
      var routeTableResponse = global.JSON.parse(response);
      var router = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
      var routeTable = {
        "cmdb_ci_route_table": {
          "validator": "route_table_create_validator",
          "validator_overrides": { },
          "identification": {
            "cmdb_ci_cloud_service_account": {
              "criterion": {
                "object_id": cloudServiceAccountId
              }
            },
            "cmdb_ci_azure_datacenter": {
              "criterion": {
                "object_id": ldc
              }
            },
            "cmdb_ci_router": {
              "criterion": {
                "object_id": router
              }
            },
            "cmdb_ci_route_table": {
              "criterion": {
                "object_id":routeTableResponse.id
              }
            }
          },
          "attributes": {
            "object_id":routeTableResponse.id,
            "route_table_id":routeTableResponse.id,
            "state":"terminated"
          }
        }
      };
      cloudModelString.push(routeTable);
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routeTableResponse = global.JSON.parse(response);
	var router = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
	var routeTable = {
		"cmdb_ci_route_table": {
			"validator": "route_table_create_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_router": {
					"criterion": {
						"object_id": router
					}
				},
				"cmdb_ci_route_table": {
					"criterion": {
						"object_id":routeTableResponse.id
					}
				}
			},
			"attributes": {
				"object_id":routeTableResponse.id,
				"route_table_id":routeTableResponse.id,
				"state":"terminated"
			}
		}
	};
	cloudModelString.push(routeTable);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-17 08:13:19&lt;/sys_created_on&gt;&lt;sys_id&gt;5a2c18bd0b6132003969a387b6673a26&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_RouteTable_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_5a2c18bd0b6132003969a387b6673a26&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 03:10:05&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1662685879</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961943</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556460000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Delete_RouteTable_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f26d7cc521bf1300210a6768fff8edde</update_guid>
<update_guid_history>f26d7cc521bf1300210a6768fff8edde:1662685879,261b1009d13f13002098c253f6fdeb07:1662685879</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103b5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Subnets_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>65f501abd722220097eb6ccf6e6103b5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Subnets_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103b5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1358392518</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961946</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556d70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Subnets_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>476d7cc5d5bf1300bcc95a594ae191e4</update_guid>
<update_guid_history>476d7cc5d5bf1300bcc95a594ae191e4:-1358392518,6e1b1009c13f13000019eb142062620d:-1358392518</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7203eb1f0b7332003ffe0bcb15673a64</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_LaunchConfiguration_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
&amp;#13;
var launchConfigResponse = global.JSON.parse(response);&amp;#13;
&amp;#13;
//Checking whether CAPI returned valid Response&amp;#13;
if(!(isEmpty(launchConfigResponse))){	&amp;#13;
	if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult)))&amp;#13;
		if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations)))&amp;#13;
			if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations.member))){&amp;#13;
				&amp;#13;
				var launchConfigArr = convertMapToList(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations.member);&amp;#13;
				&amp;#13;
				for(var i=0;i&amp;lt;launchConfigArr.length;i++){&amp;#13;
					var imageIdTrim = launchConfigArr[i].ImageId.substring(launchConfigArr[i].ImageId.indexOf("/")+1,launchConfigArr[i].ImageId.length);&amp;#13;
					var hardwareId = launchConfigArr[i].InstanceType;&amp;#13;
					var monitoring = false;&amp;#13;
					if(!(isEmpty(launchConfigArr[i].InstanceMonitoring)))&amp;#13;
						if(!(isEmpty(launchConfigArr[i].InstanceMonitoring.Enabled)))&amp;#13;
							monitoring = launchConfigArr[i].InstanceMonitoring.Enabled;&amp;#13;
					&amp;#13;
					var launchConfigInfo ={&amp;#13;
						"cmdb_ci_sa_launch_config": {&amp;#13;
							"identification": {&amp;#13;
								"cmdb_ci_cloud_service_account": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": cloudServiceAccountId&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_aws_datacenter": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": ldc&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_sa_launch_config": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": launchConfigArr[i].LaunchConfigurationName&amp;#13;
									}&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"attributes": {&amp;#13;
								"name": launchConfigArr[i].LaunchConfigurationName,&amp;#13;
								"object_id": launchConfigArr[i].LaunchConfigurationName,&amp;#13;
								"launch_config_arn": launchConfigArr[i].LaunchConfigurationARN,&amp;#13;
								"kernel_id": launchConfigArr[i].KernelId,&amp;#13;
								"ram_disk_id": launchConfigArr[i].RamdiskId,&amp;#13;
								"ebs_optimized": launchConfigArr[i].EbsOptimized,&amp;#13;
								"user_data": launchConfigArr[i].UserData,&amp;#13;
								"monitoring": monitoring&amp;#13;
							},&amp;#13;
							"references": {&amp;#13;
								"cmdb_ci_os_template": {&amp;#13;
									"identification": {&amp;#13;
										"cmdb_ci_cloud_service_account": {&amp;#13;
											"criterion": {&amp;#13;
												"object_id": cloudServiceAccountId&amp;#13;
											}&amp;#13;
										},&amp;#13;
										"cmdb_ci_aws_datacenter": {&amp;#13;
											"criterion": {&amp;#13;
												"object_id": ldc&amp;#13;
											}&amp;#13;
										},&amp;#13;
										"cmdb_ci_os_template": {&amp;#13;
											"criterion": {&amp;#13;
												"object_id": imageIdTrim&amp;#13;
											}&amp;#13;
										}&amp;#13;
									},&amp;#13;
									"attributes": {&amp;#13;
										"object_id": imageIdTrim&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_compute_template": {&amp;#13;
									"identification": {&amp;#13;
										"cmdb_ci_cloud_service_account": {&amp;#13;
											"criterion": {&amp;#13;
												"object_id": cloudServiceAccountId&amp;#13;
											}&amp;#13;
										},&amp;#13;
										"cmdb_ci_aws_datacenter": {&amp;#13;
											"criterion": {&amp;#13;
												"object_id": ldc&amp;#13;
											}&amp;#13;
										},&amp;#13;
										"cmdb_ci_compute_template": {&amp;#13;
											"criterion": {&amp;#13;
												"object_id": hardwareId&amp;#13;
											}&amp;#13;
										}&amp;#13;
									},&amp;#13;
									"attributes": {&amp;#13;
										"object_id": hardwareId&amp;#13;
									}&amp;#13;
								}&amp;#13;
							},&amp;#13;
						}&amp;#13;
					};&amp;#13;
					launchConfigInfo.cmdb_ci_sa_launch_config["relationships"] = {};&amp;#13;
&amp;#13;
					var securityGrpMapArr = [];&amp;#13;
					//Checking If Object named "SecurityGroups" exists in the CAPI response&amp;#13;
					if(!(isEmpty(launchConfigArr[i].SecurityGroups))){&amp;#13;
						//Checking If Object named "member" exists in the "SecurityGroups" object of CAPI response&amp;#13;
						if(!(isEmpty(launchConfigArr[i].SecurityGroups.member))){&amp;#13;
							securityGrpMapArr = convertMapToList(launchConfigArr[i].SecurityGroups.member);&amp;#13;
&amp;#13;
							if(securityGrpMapArr.length&amp;gt;0)&amp;#13;
								launchConfigInfo.cmdb_ci_sa_launch_config.relationships['cmdb_ci_compute_security_group'] = [];&amp;#13;
							&amp;#13;
							for(var j=0;j&amp;lt;securityGrpMapArr.length;j++){&amp;#13;
								var securityGroupMapping = {&amp;#13;
									  "identification": {&amp;#13;
											"cmdb_ci_cloud_service_account": {&amp;#13;
												"criterion": {&amp;#13;
													"object_id": cloudServiceAccountId&amp;#13;
												}&amp;#13;
											},&amp;#13;
											"cmdb_ci_aws_datacenter": {&amp;#13;
												"criterion": {&amp;#13;
													"object_id": ldc&amp;#13;
													}&amp;#13;
												},&amp;#13;
											"cmdb_ci_sa_launch_config": {&amp;#13;
												"criterion": {&amp;#13;
													"object_id": launchConfigArr[i].LaunchConfigurationName&amp;#13;
												}&amp;#13;
											},&amp;#13;
											"cmdb_ci_compute_security_group": {&amp;#13;
												"criterion": {&amp;#13;
													"object_id": securityGrpMapArr[j]&amp;#13;
												}&amp;#13;
											}&amp;#13;
										},&amp;#13;
										"attributes": {&amp;#13;
											"object_id": securityGrpMapArr[j]&amp;#13;
										}&amp;#13;
								};&amp;#13;
								launchConfigInfo.cmdb_ci_sa_launch_config.relationships.cmdb_ci_compute_security_group.push(securityGroupMapping);&amp;#13;
							}&amp;#13;
						}&amp;#13;
					}&amp;#13;
&amp;#13;
					cloudModelString.push(launchConfigInfo);&amp;#13;
				}&amp;#13;
			}&amp;#13;
		return global.JSON.stringify(cloudModelString);&amp;#13;
	}&amp;#13;
}&amp;#13;
&amp;#13;
//Following Function converts Map to List&amp;#13;
function convertMapToList(value){&amp;#13;
	if(!(Array.isArray(value))){&amp;#13;
		//Converting to List to Map&amp;#13;
		var loadList = [];&amp;#13;
		loadList.push(value);&amp;#13;
		return loadList;&amp;#13;
	}&amp;#13;
	else&amp;#13;
		return value;&amp;#13;
}&amp;#13;
&amp;#13;
//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)&amp;#13;
function isEmpty(value){&amp;#13;
  return (value == null || value.length === 0);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];

var launchConfigResponse = global.JSON.parse(response);

//Checking whether CAPI returned valid Response
if(!(isEmpty(launchConfigResponse))){	
	if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult)))
		if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations)))
			if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations.member))){
				
				var launchConfigArr = convertMapToList(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations.member);
				
				for(var i=0;i&lt;launchConfigArr.length;i++){
					var imageIdTrim = launchConfigArr[i].ImageId.substring(launchConfigArr[i].ImageId.indexOf("/")+1,launchConfigArr[i].ImageId.length);
					var hardwareId = launchConfigArr[i].InstanceType;
					var monitoring = false;
					if(!(isEmpty(launchConfigArr[i].InstanceMonitoring)))
						if(!(isEmpty(launchConfigArr[i].InstanceMonitoring.Enabled)))
							monitoring = launchConfigArr[i].InstanceMonitoring.Enabled;
					
					var launchConfigInfo ={
						"cmdb_ci_sa_launch_config": {
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_sa_launch_config": {
									"criterion": {
										"object_id": launchConfigArr[i].LaunchConfigurationName
									}
								}
							},
							"attributes": {
								"name": launchConfigArr[i].LaunchConfigurationName,
								"object_id": launchConfigArr[i].LaunchConfigurationName,
								"launch_config_arn": launchConfigArr[i].LaunchConfigurationARN,
								"kernel_id": launchConfigArr[i].KernelId,
								"ram_disk_id": launchConfigArr[i].RamdiskId,
								"ebs_optimized": launchConfigArr[i].EbsOptimized,
								"user_data": launchConfigArr[i].UserData,
								"monitoring": monitoring
							},
							"references": {
								"cmdb_ci_os_template": {
									"identification": {
										"cmdb_ci_cloud_service_account": {
											"criterion": {
												"object_id": cloudServiceAccountId
											}
										},
										"cmdb_ci_aws_datacenter": {
											"criterion": {
												"object_id": ldc
											}
										},
										"cmdb_ci_os_template": {
											"criterion": {
												"object_id": imageIdTrim
											}
										}
									},
									"attributes": {
										"object_id": imageIdTrim
									}
								},
								"cmdb_ci_compute_template": {
									"identification": {
										"cmdb_ci_cloud_service_account": {
											"criterion": {
												"object_id": cloudServiceAccountId
											}
										},
										"cmdb_ci_aws_datacenter": {
											"criterion": {
												"object_id": ldc
											}
										},
										"cmdb_ci_compute_template": {
											"criterion": {
												"object_id": hardwareId
											}
										}
									},
									"attributes": {
										"object_id": hardwareId
									}
								}
							},
						}
					};
					launchConfigInfo.cmdb_ci_sa_launch_config["relationships"] = {};

					var securityGrpMapArr = [];
					//Checking If Object named "SecurityGroups" exists in the CAPI response
					if(!(isEmpty(launchConfigArr[i].SecurityGroups))){
						//Checking If Object named "member" exists in the "SecurityGroups" object of CAPI response
						if(!(isEmpty(launchConfigArr[i].SecurityGroups.member))){
							securityGrpMapArr = convertMapToList(launchConfigArr[i].SecurityGroups.member);

							if(securityGrpMapArr.length&gt;0)
								launchConfigInfo.cmdb_ci_sa_launch_config.relationships['cmdb_ci_compute_security_group'] = [];
							
							for(var j=0;j&lt;securityGrpMapArr.length;j++){
								var securityGroupMapping = {
									  "identification": {
											"cmdb_ci_cloud_service_account": {
												"criterion": {
													"object_id": cloudServiceAccountId
												}
											},
											"cmdb_ci_aws_datacenter": {
												"criterion": {
													"object_id": ldc
													}
												},
											"cmdb_ci_sa_launch_config": {
												"criterion": {
													"object_id": launchConfigArr[i].LaunchConfigurationName
												}
											},
											"cmdb_ci_compute_security_group": {
												"criterion": {
													"object_id": securityGrpMapArr[j]
												}
											}
										},
										"attributes": {
											"object_id": securityGrpMapArr[j]
										}
								};
								launchConfigInfo.cmdb_ci_sa_launch_config.relationships.cmdb_ci_compute_security_group.push(securityGroupMapping);
							}
						}
					}

					cloudModelString.push(launchConfigInfo);
				}
			}
		return global.JSON.stringify(cloudModelString);
	}
}

//Following Function converts Map to List
function convertMapToList(value){
	if(!(Array.isArray(value))){
		//Converting to List to Map
		var loadList = [];
		loadList.push(value);
		return loadList;
	}
	else
		return value;
}

//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)
function isEmpty(value){
  return (value == null || value.length === 0);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-07-12 10:50:50&lt;/sys_created_on&gt;&lt;sys_id&gt;7203eb1f0b7332003ffe0bcb15673a64&lt;/sys_id&gt;&lt;sys_mod_count&gt;41&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_LaunchConfiguration_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7203eb1f0b7332003ffe0bcb15673a64&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-08 11:32:32&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2126112044</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961949</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5501c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_LaunchConfiguration_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2a6d7cc5dabf1300c1f5e8f3b0acf377</update_guid>
<update_guid_history>2a6d7cc5dabf1300c1f5e8f3b0acf377:-2126112044,061bdcc5d33f1300d6b98c4d516198c1:-2126112044</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103bf</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Networks_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Network/virtualnetworks',
											   'network_create_update_validator');
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by/&gt;&lt;sys_created_on/&gt;&lt;sys_id&gt;7df501abd722220097eb6ccf6e6103bf&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Networks_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103bf&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-15 21:22:59&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1133439764</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d96194c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558670000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Networks_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8f6dbcc572bf1300c9fb9d64130e6604</update_guid>
<update_guid_history>8f6dbcc572bf1300c9fb9d64130e6604:1133439764,261b1009c63f1300742d0b936698013c:1133439764</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_929d36820ba32200668daac125673a78</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Security_Group_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var secGroupResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var secGroup = {
		"cmdb_ci_compute_security_group": {
			"validator":"compute_security_group_create_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_compute_security_group": {
					"criterion": {
						"object_id": secGroupResponse.firewallId
					}
				}
			},
			"attributes": {
				"object_id": secGroupResponse.firewallId,
				"compute_security_group_id":secGroupResponse.firewallId,
				"name":secGroupResponse.firewallName,
				"short_description":secGroupResponse.description,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			}
		}
	};
	
	if (!gs.nil(secGroupResponse.tagValues)) {
		secGroup["cmdb_ci_compute_security_group"].tagValues = global.JSON.stringify(secGroupResponse.tagValues);
	}
	
	cloudModelString.push(secGroup);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-09 04:27:30&lt;/sys_created_on&gt;&lt;sys_id&gt;929d36820ba32200668daac125673a78&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Security_Group_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_929d36820ba32200668daac125673a78&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-31 10:46:56&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1948429119</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961950</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5517a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Security_Group_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>626d7cc518bf1300f503afb64e11e791</update_guid>
<update_guid_history>626d7cc518bf1300f503afb64e11e791:-1948429119,561bdcc5463f1300b42cc84b371607cf:-1948429119</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a83f35500bf13200668daac125673af6</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_EBS_BlockEP&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeAttachments = global.JSON.parse(response);
	//var endPointId = volumeAttachments.instanceId.concat( "-" , volumeAttachments.volumeId );
	var endPointId = volumeAttachments.volumeId + '_block_endpoint';
	var state = null;
	if(volumeAttachments.volumeState == 'attached' || volumeAttachments.volumeState == 'in-use')
		state = 'in_use';
	var volumeAttachInfo = {
		"cmdb_ci_storage_volume": {
			"validator": "volume_attach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeAttachments.volumeId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachments.volumeId,
				"state": state,
				"device":volumeAttachments.device
			},
			"bindings":[
            {
               "attach_to":{
                  "implemented_by":{
                     "endpoint_ci":"cmdb_ci_endpoint_block",
                     "endpoint_identification":{
                        "object_id": endPointId
                     },
                     "attributes":{
                     "attachment_info": volumeAttachments.volumeAttachmentState,
                      "mount_point": volumeAttachments.device,
                      "attach_time": volumeAttachments.attachTime,
                      "host": volumeAttachments.instanceId,
                      "name": endPointId
                      }
                  }
               }
            }
        ]
	}
  };
  cloudModelString.push(volumeAttachInfo);
  return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-25 09:48:25&lt;/sys_created_on&gt;&lt;sys_id&gt;a83f35500bf13200668daac125673af6&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_EBS_BlockEP&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a83f35500bf13200668daac125673af6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-25 13:01:57&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>195195349</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961953</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5521c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_EBS_BlockEP</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>aa6d7cc59cbf13008465e29b10cb3aa3</update_guid>
<update_guid_history>aa6d7cc59cbf13008465e29b10cb3aa3:195195349,9e1bdcc5fd3f1300f09039e20c140fd5:195195349</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_c279b35e0be622009e620bcb15673a7a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_RouteTables_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>c279b35e0be622009e620bcb15673a7a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_RouteTables_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_c279b35e0be622009e620bcb15673a7a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>645667290</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552710000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_RouteTables_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>226d7cc5c3bf1300a8cfb72170cdb0a8</update_guid>
<update_guid_history>226d7cc5c3bf1300a8cfb72170cdb0a8:645667290,5a1bdcc59d3f1300f89604bbb2a16bda:645667290</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_da79b35e0be622009e620bcb15673a86</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Customer_Gateways_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>da79b35e0be622009e620bcb15673a86</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Customer_Gateways_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_da79b35e0be622009e620bcb15673a86</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-77591082</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d961959</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5530e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Customer_Gateways_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>766d7cc54dbf1300ac627eccfd5a09bc</update_guid>
<update_guid_history>766d7cc54dbf1300ac627eccfd5a09bc:-77591082,121bdcc5033f130037dc2b6656b361e3:-77591082</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_f5615a4a0b8132003969a387b6673a0f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Security_Group_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var secGroupResponse = global.JSON.parse(response);
	var secGroup = {
		"cmdb_ci_compute_security_group": {
			"validator":"compute_security_group_create_validator",
			"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_compute_security_group": {
						"criterion": {
							"object_id": secGroupResponse.id
						}
					}
				},
				"attributes": {
					"object_id": secGroupResponse.id,
					"compute_security_group_id":secGroupResponse.id,
					"name":secGroupResponse.name,
					"short_description":secGroupResponse.description,
					"state":"available"
				},
				"references": {
					"cmdb_ci_resource_group": {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_azure_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_resource_group": {
								"criterion": {
									"object_id": secGroupResponse.resourceGroup
								}
							}
						},
						"attributes": {
							"object_id":secGroupResponse.resourceGroup
						}
					}
				}
			}
		};
	
	cloudModelString.push(secGroup);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-21 14:49:30&lt;/sys_created_on&gt;&lt;sys_id&gt;f5615a4a0b8132003969a387b6673a0f&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Security_Group_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_f5615a4a0b8132003969a387b6673a0f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-01-15 12:26:51&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2027523521</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>176dbcc5dbbf1300786ff1351d96195c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd55a1f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure_Create_Security_Group_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c76dbcc5f2bf1300f40d1d8ad774da25</update_guid>
<update_guid_history>c76dbcc5f2bf1300f40d1d8ad774da25:-2027523521,b21b1009ab3f1300b4cc258e1ad26b77:-2027523521</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_60c8fab7db5313002c87f1771d961996</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Deprovision">9e041598db9f1f00786ff1351d961975</blueprint_stage_op><child_operation display_value="Blueprint Container Resource.Deprovision">2bf4191cdb9f1f00786ff1351d96193c</child_operation><in_degree>0</in_degree><parent_operation/><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>60c8fab7db5313002c87f1771d961996</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_60c8fab7db5313002c87f1771d961996</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>-711200117</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96192c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd540ea0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>ad6d3cc579bf13004003b4e8da40f39c</update_guid>
<update_guid_history>ad6d3cc579bf13004003b4e8da40f39c:-711200117</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_451567d10b0232009e620bcb15673ab1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_nfs</endpoint><relation_type>2</relation_type><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:01:43</sys_created_on><sys_id>451567d10b0232009e620bcb15673ab1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_451567d10b0232009e620bcb15673ab1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:01:43</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>664643509</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96192f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542d40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>fd6d3cc570bf1300044fa97e1f29cbb1</update_guid>
<update_guid_history>fd6d3cc570bf1300044fa97e1f29cbb1:664643509,251bdcc50a3f1300efcfb86856659c32:664643509</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_8a79b35e0be622009e620bcb15673a5a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Firewall Interface">4279b35e0be622009e620bcb15673a2b</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>8a79b35e0be622009e620bcb15673a5a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_8a79b35e0be622009e620bcb15673a5a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>679701777</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961932</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d1b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>9e6d7cc582bf13009dd46d1d20189427</update_guid>
<update_guid_history>9e6d7cc582bf13009dd46d1d20189427:679701777,061bdcc5883f1300632de13a8f44c8a1:679701777</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourceblock_5cc941360b632200e937c97193673a1a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sn_cmp_rb_resourceblock"><sn_cmp_rb_resourceblock action="INSERT_OR_UPDATE"><active>true</active><description/><guestinterface display_value="Discovery Interface">9c7039300b903200668daac125673ad8</guestinterface><hostinterface/><is_system_defined>true</is_system_defined><is_tlr>false</is_tlr><layer>4</layer><name>vSphere Datacenter</name><refcitype>cmdb_ci_vcenter_datacenter</refcitype><resource_template/><status>1</status><sys_class_name>sn_cmp_rb_resourceblock</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_domain>global</sys_domain><sys_id>5cc941360b632200e937c97193673a1a</sys_id><sys_mod_count>7</sys_mod_count><sys_name>vSphere Datacenter</sys_name><sys_overrides/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourceblock_5cc941360b632200e937c97193673a1a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-03-02 09:01:00</sys_updated_on><type display_value="ServiceNow Blueprint">ab1f81e49f00320048111f80a57fcf30</type></sn_cmp_rb_resourceblock></record_update>]]></payload>
<payload_hash>-1565263600</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961935</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548130000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>vSphere Datacenter</target_name>
<type>ResourceBlock</type>
<update_domain>global</update_domain>
<update_guid>0a6d3cc5edbf1300c680c297f7ce5de1</update_guid>
<update_guid_history>0a6d3cc5edbf1300c680c297f7ce5de1:-1565263600,b11bdcc5293f130045c855f292ac6364:-1565263600</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0e79b35e0be622009e620bcb15673a62</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Images_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) { 
	var json = new global.JSON();
	var responseObject = json.decode(response);
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, ldc, 'Cloud API');
	var cloudModelObject = responseProcessor.processResponseArray(responseObject,
																  'AWS::EC2::Image',
																  'os_template_create_validator');
	return json.encode(cloudModelObject);	
}
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:47&lt;/sys_created_on&gt;&lt;sys_id&gt;0e79b35e0be622009e620bcb15673a62&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Images_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_0e79b35e0be622009e620bcb15673a62&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-01-12 08:32:14&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1530149213</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961938</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d780000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Images_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>966d7cc57cbf13001cf86a4c293c672c</update_guid>
<update_guid_history>966d7cc57cbf13001cf86a4c293c672c:1530149213,421bdcc5313f13001e2ea9d3e77b52a6:1530149213</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_24c9c1360b632200e937c97193673adf</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Clusters_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>24c9c1360b632200e937c97193673adf</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Clusters_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_24c9c1360b632200e937c97193673adf</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-401770773</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96193c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548de0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Clusters_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c66d3cc5e6bf13007ca9809ff4b365ec</update_guid>
<update_guid_history>c66d3cc5e6bf13007ca9809ff4b365ec:-401770773,7d1bdcc5bd3f1300f125b7efecc5d96f:-401770773</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4a79b35e0be622009e620bcb15673a6a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_SecGrps_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'Cloud API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::SecurityGroup',
											   'compute_security_groups_list_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;4a79b35e0be622009e620bcb15673a6a&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_SecGrps_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4a79b35e0be622009e620bcb15673a6a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-16 02:29:22&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-226834636</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96193f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54edc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_SecGrps_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a66d7cc5dbbf13001ea7c2a61d79413a</update_guid>
<update_guid_history>a66d7cc5dbbf13001ea7c2a61d79413a:-226834636,421bdcc5083f1300111a2deca34ae3b5:-226834636</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5679b35e0be622009e620bcb15673a96</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Volume_Templates_To_Profiles</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>5679b35e0be622009e620bcb15673a96</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Volume_Templates_To_Profiles</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5679b35e0be622009e620bcb15673a96</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>2130564594</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961942</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f600000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Volume_Templates_To_Profiles</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2a6d7cc5bdbf1300042757dafc963670</update_guid>
<update_guid_history>2a6d7cc5bdbf1300042757dafc963670:2130564594,0e1bdcc5653f1300500ae596a880acb9:2130564594</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_64c9c1360b632200e937c97193673ad4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Network_To_LDC</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>64c9c1360b632200e937c97193673ad4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Network_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_64c9c1360b632200e937c97193673ad4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1004441835</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961945</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549ab0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Network_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>426d7cc5d6bf1300e564378c300a620e</update_guid>
<update_guid_history>426d7cc5d6bf1300e564378c300a620e:1004441835,f11bdcc5323f130064e0f2e33c73ac79:1004441835</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103aa</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_SecGrps_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Network/networkSecurityGroups',
											   'compute_security_groups_list_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by/&gt;&lt;sys_created_on/&gt;&lt;sys_id&gt;6df501abd722220097eb6ccf6e6103aa&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_SecGrps_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103aa&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-17 19:41:41&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>79131919</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961948</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557610000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_SecGrps_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c76d7cc5b3bf130047490d750e9e8bea</update_guid>
<update_guid_history>c76d7cc5b3bf130047490d750e9e8bea:79131919,a61b1009fd3f13007ad253d423672214:79131919</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7c035ca60b521300b96ba387b6673a9a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Destroy_Node_Creds_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
  var vmResponse = global.JSON.parse(response);

  var identification = [
    {
        "cmdb_ci_vm_instance":
        {
            "identification":
             {
                "cmdb_ci_cloud_service_account": {
                    "criterion": {
                        "object_id": cloudServiceAccountId
                    }
                },
                "cmdb_ci_azure_datacenter": {
                    "criterion": {
                        "object_id":ldc
                    }
                },
                "cmdb_ci_vm_instance": {
                    "criterion": {
                        "object_id": vmResponse.nodeId
                    }
                }
            }
        }
    }
  ];
	
  var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
  var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
  var ci = global.JSON.parse(ciPayload);
  var nodeSysId = ci.cmdb_ci_vm_instance.sys_id;
  
  if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
	  var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
	  var mgmtCred = sshKeyScript.deleteNodeCredentials(nodeSysId);
  }
  return global.JSON.stringify([]);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-05-28 14:36:00&lt;/sys_created_on&gt;&lt;sys_id&gt;7c035ca60b521300b96ba387b6673a9a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Destroy_Node_Creds_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7c035ca60b521300b96ba387b6673a9a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-28 14:36:00&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-309293726</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96194b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558270000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Destroy_Node_Creds_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>876dbcc5c5bf1300f883d6fe229c0d01</update_guid>
<update_guid_history>876dbcc5c5bf1300f883d6fe229c0d01:-309293726,aa1b1009a13f13006f4859de24631c1f:-309293726</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_90c9c1360b632200e937c97193673ac3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Folders_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>90c9c1360b632200e937c97193673ac3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Folders_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_90c9c1360b632200e937c97193673ac3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-363467725</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96194f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549fb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Folders_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4a6d7cc54cbf13001e8912ea0a027a11</update_guid>
<update_guid_history>4a6d7cc54cbf13001e8912ea0a027a11:-363467725,fd1bdcc5643f13004bbadeb00464c47c:-363467725</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a0b2ad8f67213200790a6c706785ef6c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_vSphere_Node_creds_and_associate_to_mgmt_creds_response_processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
  var vmResponse = global.JSON.parse(response);

  var identification = [
    {
        "cmdb_ci_vmware_instance":
        {
            "identification":
             {
                "cmdb_ci_cloud_service_account": {
                    "criterion": {
                        "object_id": cloudServiceAccountId
                    }
                },
                "cmdb_ci_vcenter_datacenter": {
                    "criterion": {
                        "object_id":getLDC()
                    }
                },
                "cmdb_ci_vmware_instance": {
                    "criterion": {
                        "object_id": vmResponse.objectId
                    }
                }
            }
        }
    }
  ];

  var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
  var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
  var ci = global.JSON.parse(ciPayload);
  var nodeSysId = ci.cmdb_ci_vmware_instance.sys_id;

  if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
	  var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
	  var mgmtCred = sshKeyScript.deleteNodeCredentials(nodeSysId);
  }

  return global.JSON.stringify([]);
}

function getLDC(){
	var stepResponse = global.JSON.parse(step);
	return stepResponse.ldcObjectId;
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-21 10:30:10&lt;/sys_created_on&gt;&lt;sys_id&gt;a0b2ad8f67213200790a6c706785ef6c&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_vSphere_Node_creds_and_associate_to_mgmt_creds_response_processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a0b2ad8f67213200790a6c706785ef6c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-13 20:24:19&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1195605404</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961952</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542370000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_vSphere_Node_creds_and_associate_to_mgmt_creds_response_processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2d6d3cc5b0bf13002331c4a3f544c1aa</update_guid>
<update_guid_history>2d6d3cc5b0bf13002331c4a3f544c1aa:1195605404,591bdcc5243f1300f77cbd0ce80b1d2a:1195605404</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_bc3bbda80b413200668daac125673a93</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Associate_security_Groups_To_Network&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var securityGroupArray = global.JSON.parse(response);
	for (var i = 0; i &lt; securityGroupArray.length; i++){
		var networkInfo = {
					"cmdb_ci_compute_security_group": {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id" : cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id" : ldc
								}
							},
							"cmdb_ci_compute_security_group": {
								"criterion": {
									"object_id": securityGroupArray[i].firewallId
								}
							}
						},
						"attributes": {
							"object_id": securityGroupArray[i].firewallId,
							"compute_security_group_id": securityGroupArray[i].firewallId
						},
					"references": {
						"cmdb_ci_network": {
							"validator": "network_create_update_validator",
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id" : cloudServiceAccountId
									}
								 },
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_network": {
									"criterion": {
										"object_id": securityGroupArray[i].networkId
									}
								}
							},
							"attributes": {
								"object_id": securityGroupArray[i].networkId
							}
						}
					}
				}
		};
		cloudModelString.push(networkInfo);
	}
	return global.JSON.stringify(cloudModelString);
}


			]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-16 21:21:26&lt;/sys_created_on&gt;&lt;sys_id&gt;bc3bbda80b413200668daac125673a93&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Associate_security_Groups_To_Network&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_bc3bbda80b413200668daac125673a93&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-01 12:12:47&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>516686984</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552430000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_security_Groups_To_Network</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a66d7cc584bf1300579849e29a40bfa5</update_guid>
<update_guid_history>a66d7cc584bf1300579849e29a40bfa5:516686984,1e1bdcc57f3f13009678460035025dd7:516686984</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d679b35e0be622009e620bcb15673a80</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Networks_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'Cloud API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::VPC',
											   'network_create_update_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;d679b35e0be622009e620bcb15673a80&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Networks_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_d679b35e0be622009e620bcb15673a80&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-16 00:53:28&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1270709075</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d961958</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552e80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Networks_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7a6d7cc58fbf13009d4e855a776a09ba</update_guid>
<update_guid_history>7a6d7cc58fbf13009d4e855a776a09ba:-1270709075,921bdcc5363f130060a2156ab944bae1:-1270709075</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ebdebbb20b2032004b1b812f15673a97</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Virtual_Server_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
	var vmBindings = [];&amp;#13;
	var cloudModelString = [];&amp;#13;
	var nodeData = global.JSON.parse(response);&amp;#13;
&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
	var length = "PowerState/".length;&amp;#13;
	var vmState = nodeData.state;&amp;#13;
	vmState = vmState.substring(length,vmState.length);&amp;#13;
&amp;#13;
	switch (vmState){&amp;#13;
		case 'starting':&amp;#13;
			vmState = 'starting';&amp;#13;
			break;&amp;#13;
		case 'running':&amp;#13;
			vmState = 'on';&amp;#13;
			break;&amp;#13;
		case 'stopping':&amp;#13;
			vmState = 'stopping';&amp;#13;
			break;&amp;#13;
		case 'stopped':&amp;#13;
		case 'deallocated':&amp;#13;
			vmState = 'off';&amp;#13;
			break;&amp;#13;
		case 'deleted':&amp;#13;
			vmState = 'terminated';&amp;#13;
			break;&amp;#13;
		default:&amp;#13;
			vmState = 'error';&amp;#13;
	}&amp;#13;
&amp;#13;
	var publicIP = '';&amp;#13;
	if (nodeData.publicIps &amp;amp;&amp;amp; nodeData.publicIps.length &amp;gt; 0)&amp;#13;
		publicIP = nodeData.publicIps[0];&amp;#13;
&amp;#13;
	var vmCPUs = '';&amp;#13;
	var memory = '';&amp;#13;
	var hardwareId = nodeData.hardwareId;&amp;#13;
	var gr = new GlideRecord('cmdb_ci_compute_template');&amp;#13;
	gr.addQuery('name',hardwareId);&amp;#13;
	gr.query();&amp;#13;
	if (gr.next()){&amp;#13;
		vmCPUs = gr.getValue('vcpus');&amp;#13;
		memory = gr.getValue('memory_mb');&amp;#13;
	}&amp;#13;
&amp;#13;
	var vmInfo ={&amp;#13;
		"cmdb_ci_vm_instance": {&amp;#13;
			"validator": "virtual_machine_create_update_validator",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_azure_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": nodeData.nodeId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"name": nodeData.nodeName,&amp;#13;
				"object_id": nodeData.nodeId,&amp;#13;
				"state": vmState,&amp;#13;
				"cpus": vmCPUs,&amp;#13;
				"memory": memory,&amp;#13;
				"disks": nodeData.volumes.length,&amp;#13;
				"disks_size": "",&amp;#13;
				"nics": nodeData.networkInterfaces.length,&amp;#13;
				"terminated_on": "",&amp;#13;
				"termination_protection": "",&amp;#13;
				"ip_address":publicIP,&amp;#13;
				"assigned_to":reqContext.userId,&amp;#13;
				"assignment_group":reqContext.groupId&amp;#13;
			},&amp;#13;
			"references": {&amp;#13;
				"cmdb_ci_os_template": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_os_template": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": nodeData.imageId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": nodeData.imageId,&amp;#13;
						"name": nodeData.imageId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_compute_template": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_compute_template": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": hardwareId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": hardwareId,&amp;#13;
						"name" : hardwareId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_resource_group": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_resource_group": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": nodeData.resourceGroup&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id":  nodeData.resourceGroup&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"bindings": vmBindings&amp;#13;
		}&amp;#13;
	};&amp;#13;
&amp;#13;
	var endPointId;&amp;#13;
	if(nodeData.networkInterfaces &amp;amp;&amp;amp; nodeData.networkInterfaces.length &amp;gt; 0){&amp;#13;
		for (var i=0; i&amp;lt; nodeData.networkInterfaces.length; i++){&amp;#13;
			var nic = nodeData.networkInterfaces[i];&amp;#13;
			var nicId = nic.networkInterfaceId;&amp;#13;
			endPointId = nicId;&amp;#13;
&amp;#13;
			var nicTemp = {&amp;#13;
				"attach_to": {&amp;#13;
					"used_by": {&amp;#13;
						"endpoint_ci": "cmdb_ci_endpoint_vnic",&amp;#13;
						"endpoint_identification": {&amp;#13;
							"object_id": endPointId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			vmBindings.push(nicTemp);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	//Volumes Defensive Code to handle Empty Volumes Info&amp;#13;
	if(nodeData.volumes.length&amp;gt;0){&amp;#13;
		var volume = nodeData.volumes[0];&amp;#13;
		var volumeId = nodeData.volumes[0].volumeId;&amp;#13;
		endPointId = volumeId;&amp;#13;
		var volumeBinding = {&amp;#13;
			"attach_to": {&amp;#13;
				"used_by": {&amp;#13;
					"endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
					"endpoint_identification": {&amp;#13;
						"object_id": endPointId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		vmBindings.push(volumeBinding);&amp;#13;
		var endpoints = [];&amp;#13;
		var enpoint = {&amp;#13;
			"attach_to":{&amp;#13;
				"implemented_by":{&amp;#13;
					"endpoint_ci":"cmdb_ci_endpoint_block",&amp;#13;
					"endpoint_identification":{&amp;#13;
						"object_id": endPointId&amp;#13;
					},&amp;#13;
					"attributes":{&amp;#13;
						"attachment_info": "leased",&amp;#13;
						"mount_point": '',&amp;#13;
						"attach_time": '',&amp;#13;
						"host": nodeData.nodeId,&amp;#13;
						"name": endPointId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		endpoints.push(enpoint);&amp;#13;
		var volumeData = {&amp;#13;
			"cmdb_ci_storage_volume": {&amp;#13;
				"validator": "default_storage_volume_validator",&amp;#13;
				"validator_overrides": { },&amp;#13;
				"identification": {&amp;#13;
					"cmdb_ci_cloud_service_account": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": cloudServiceAccountId&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_azure_datacenter": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": ldc&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_storage_volume": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": volumeId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"attributes": {&amp;#13;
					"object_id": volumeId,&amp;#13;
					"volume_id": volumeId,&amp;#13;
					"name": volume.name,&amp;#13;
					"total_size_gb":volume.diskSizeGB,&amp;#13;
					"size_bytes":volume.diskSizeGB*1024*1024*1024,&amp;#13;
					"storage_type":"PageBlob",&amp;#13;
					"state":"leased",&amp;#13;
					"volume_type":volume.accountType ? volume.accountType : "",&amp;#13;
					"assigned_to":reqContext.userId,&amp;#13;
					"assignment_group":reqContext.groupId&amp;#13;
				},&amp;#13;
				"references": {&amp;#13;
					"cmdb_ci_resource_group": {&amp;#13;
						"identification": {&amp;#13;
							"cmdb_ci_cloud_service_account": {&amp;#13;
								"criterion": {&amp;#13;
									"object_id": cloudServiceAccountId&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"cmdb_ci_azure_datacenter": {&amp;#13;
								"criterion": {&amp;#13;
									"object_id": ldc&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"cmdb_ci_resource_group": {&amp;#13;
								"criterion": {&amp;#13;
									"object_id": nodeData.resourceGroup&amp;#13;
								}&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"attributes": {&amp;#13;
							"object_id": nodeData.resourceGroup&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"bindings": endpoints&amp;#13;
			}&amp;#13;
		};&amp;#13;
&amp;#13;
		// Include tagValues if there are any&amp;#13;
		if (!gs.nil(nodeData.tags))&amp;#13;
			volumeData.cmdb_ci_storage_volume.tagValues= global.JSON.stringify(nodeData.tags);&amp;#13;
		cloudModelString.push(volumeData);&amp;#13;
	}&amp;#13;
&amp;#13;
	if (!gs.nil(nodeData.tags))&amp;#13;
		vmInfo["cmdb_ci_vm_instance"].tagValues = global.JSON.stringify(nodeData.tags);&amp;#13;
&amp;#13;
	if (!gs.nil(nodeData.availabilityZone)){&amp;#13;
		vmInfo.cmdb_ci_vm_instance.references["cmdb_ci_availability_zone"] = {&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_azure_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_availability_zone": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": nodeData.availabilityZone&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": nodeData.availabilityZone&amp;#13;
			}&amp;#13;
		};&amp;#13;
	}&amp;#13;
&amp;#13;
	cloudModelString.push(vmInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var vmBindings = [];
	var cloudModelString = [];
	var nodeData = global.JSON.parse(response);

	var reqContext = global.JSON.parse(requestorContext);
	var length = "PowerState/".length;
	var vmState = nodeData.state;
	vmState = vmState.substring(length,vmState.length);

	switch (vmState){
		case 'starting':
			vmState = 'starting';
			break;
		case 'running':
			vmState = 'on';
			break;
		case 'stopping':
			vmState = 'stopping';
			break;
		case 'stopped':
		case 'deallocated':
			vmState = 'off';
			break;
		case 'deleted':
			vmState = 'terminated';
			break;
		default:
			vmState = 'error';
	}

	var publicIP = '';
	if (nodeData.publicIps &amp;&amp; nodeData.publicIps.length &gt; 0)
		publicIP = nodeData.publicIps[0];

	var vmCPUs = '';
	var memory = '';
	var hardwareId = nodeData.hardwareId;
	var gr = new GlideRecord('cmdb_ci_compute_template');
	gr.addQuery('name',hardwareId);
	gr.query();
	if (gr.next()){
		vmCPUs = gr.getValue('vcpus');
		memory = gr.getValue('memory_mb');
	}

	var vmInfo ={
		"cmdb_ci_vm_instance": {
			"validator": "virtual_machine_create_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": nodeData.nodeId
					}
				}
			},
			"attributes": {
				"name": nodeData.nodeName,
				"object_id": nodeData.nodeId,
				"state": vmState,
				"cpus": vmCPUs,
				"memory": memory,
				"disks": nodeData.volumes.length,
				"disks_size": "",
				"nics": nodeData.networkInterfaces.length,
				"terminated_on": "",
				"termination_protection": "",
				"ip_address":publicIP,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			},
			"references": {
				"cmdb_ci_os_template": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_os_template": {
							"criterion": {
								"object_id": nodeData.imageId
							}
						}
					},
					"attributes": {
						"object_id": nodeData.imageId
					}
				},
				"cmdb_ci_compute_template": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_compute_template": {
							"criterion": {
								"object_id": hardwareId
							}
						}
					},
					"attributes": {
						"object_id": hardwareId,
						"name" : hardwareId
					}
				},
				"cmdb_ci_resource_group": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_resource_group": {
							"criterion": {
								"object_id": nodeData.resourceGroup
							}
						}
					},
					"attributes": {
						"object_id":  nodeData.resourceGroup
					}
				}
			},
			"bindings": vmBindings
		}
	};

	var endPointId;
	if(nodeData.networkInterfaces &amp;&amp; nodeData.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; nodeData.networkInterfaces.length; i++){
			var nic = nodeData.networkInterfaces[i];
			var nicId = nic.networkInterfaceId;
			endPointId = nicId;

			var nicTemp = {
				"attach_to": {
					"used_by": {
						"endpoint_ci": "cmdb_ci_endpoint_vnic",
						"endpoint_identification": {
							"object_id": endPointId
						}
					}
				}
			};
			vmBindings.push(nicTemp);
		}
	}
	//Volumes Defensive Code to handle Empty Volumes Info
	if(nodeData.volumes.length&gt;0){
		var volume = nodeData.volumes[0];
		var volumeId = nodeData.volumes[0].volumeId;
		endPointId = volumeId;
		var volumeBinding = {
			"attach_to": {
				"used_by": {
					"endpoint_ci": "cmdb_ci_endpoint_block",
					"endpoint_identification": {
						"object_id": endPointId
					}
				}
			}
		};
		vmBindings.push(volumeBinding);
		var endpoints = [];
		var enpoint = {
			"attach_to":{
				"implemented_by":{
					"endpoint_ci":"cmdb_ci_endpoint_block",
					"endpoint_identification":{
						"object_id": endPointId
					},
					"attributes":{
						"attachment_info": "leased",
						"mount_point": '',
						"attach_time": '',
						"host": nodeData.nodeId,
						"name": endPointId
					}
				}
			}
		};
		endpoints.push(enpoint);
		var volumeData = {
			"cmdb_ci_storage_volume": {
				"validator": "default_storage_volume_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeId,
					"volume_id": volumeId,
					"name": volume.volumeName,
					"total_size_gb":volume.diskSizeGB,
					"size_bytes":volume.diskSizeGB*1024*1024*1024,
					"storage_type":"PageBlob",
					"state":"leased",
					"volume_type":volume.accountType ? volume.accountType : "",
					"assigned_to":reqContext.userId,
					"assignment_group":reqContext.groupId
				},
				"references": {
					"cmdb_ci_resource_group": {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_azure_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_resource_group": {
								"criterion": {
									"object_id": nodeData.resourceGroup
								}
							}
						},
						"attributes": {
							"object_id": nodeData.resourceGroup
						}
					}
				},
				"bindings": endpoints
			}
		};

		// Include tagValues if there are any
		if (!gs.nil(nodeData.tags))
			volumeData.cmdb_ci_storage_volume.tagValues= global.JSON.stringify(nodeData.tags);
		cloudModelString.push(volumeData);
	}

	if (!gs.nil(nodeData.tags))
		vmInfo["cmdb_ci_vm_instance"].tagValues = global.JSON.stringify(nodeData.tags);

	if (!gs.nil(nodeData.availabilityZone)){
		vmInfo.cmdb_ci_vm_instance.references["cmdb_ci_availability_zone"] = {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_availability_zone": {
					"criterion": {
						"object_id": nodeData.availabilityZone
					}
				}
			},
			"attributes": {
				"object_id": nodeData.availabilityZone
			}
		};
	}

	cloudModelString.push(vmInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-30 10:11:25&lt;/sys_created_on&gt;&lt;sys_id&gt;ebdebbb20b2032004b1b812f15673a97&lt;/sys_id&gt;&lt;sys_mod_count&gt;28&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Virtual_Server_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_ebdebbb20b2032004b1b812f15673a97&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-03-15 21:30:30&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>185899258</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>1b6dbcc5dbbf1300786ff1351d96195b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559e70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure_Create_Virtual_Server_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>cb6dbcc5e4bf13007175c2a49151bb23</update_guid>
<update_guid_history>cb6dbcc5e4bf13007175c2a49151bb23:185899258,361b10095e3f130063feb1fed2f00375:185899258</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_fee4cd7d931813004a9032bfa67ffb0e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Start">4fa40d7d931813004a9032bfa67ffb1b</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceBlock</name><order>10</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Block</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:11:10</sys_created_on><sys_id>fee4cd7d931813004a9032bfa67ffb0e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Block</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_fee4cd7d931813004a9032bfa67ffb0e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:11:10</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=fee4cd7d931813004a9032bfa67ffb0e"/><fx_price action="delete_multiple" query="id=fee4cd7d931813004a9032bfa67ffb0e"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>fee4cd7d931813004a9032bfa67ffb0e</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:11:10</sys_created_on><sys_id>fae4cd7d931813004a9032bfa67ffb10</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:11:10</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>fee4cd7d931813004a9032bfa67ffb0e</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:11:10</sys_created_on><sys_id>b2e4cd7d931813004a9032bfa67ffb10</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:11:10</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-102382035</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96192b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5474f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Block</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>c26d3cc562bf1300d1b550b33f2191d8</update_guid>
<update_guid_history>c26d3cc562bf1300d1b550b33f2191d8:-102382035,e11bdcc5e83f1300188d933275ff0f5a:-102382035</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_07f427d10b0232009e620bcb15673a18</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_iscsi</endpoint><relation_type>2</relation_type><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:01:16</sys_created_on><sys_id>07f427d10b0232009e620bcb15673a18</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_07f427d10b0232009e620bcb15673a18</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:01:16</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>1193854345</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96192e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5429e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>756d3cc56fbf13001779b11eed7539af</update_guid>
<update_guid_history>756d3cc56fbf13001779b11eed7539af:1193854345,e51bdcc56b3f1300233a35a3dd0d282f:1193854345</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_54c941360b632200e937c97193673a1d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Storage Server Interface">ca79b35e0be622009e620bcb15673a29</guestinterface><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>54c941360b632200e937c97193673a1d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>5cc941360b632200e937c97193673a1a</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_54c941360b632200e937c97193673a1d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>2039022410</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961931</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548270000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>5cc941360b632200e937c97193673a1a</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>866d3cc536bf130032ee42d7c7622de2</update_guid>
<update_guid_history>866d3cc536bf130032ee42d7c7622de2:2039022410,711bdcc5433f1300fbbedf4a74891f65:2039022410</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_op_cat_map_337eb33367a132005ca552e457415ad7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_op_cat_map"><sn_cmp_rb_op_cat_map action="INSERT_OR_UPDATE"><cat_item display_value="Virtual Server - Deprovision">cf618d39931813004a9032bfa67ffb0a</cat_item><operation display_value="Deprovision">af5a3bde0be622009e620bcb15673a0a</operation><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_op_cat_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-03-24 06:06:30</sys_created_on><sys_id>337eb33367a132005ca552e457415ad7</sys_id><sys_mod_count>3</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy>read</sys_policy><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_op_cat_map_337eb33367a132005ca552e457415ad7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:03:00</sys_updated_on></sn_cmp_rb_op_cat_map></record_update>]]></payload>
<payload_hash>-527487511</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961934</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5457e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Resource operation catalog mapping</type>
<update_domain>global</update_domain>
<update_guid>7d6d3cc5cabf1300d59fe7a292e921c2</update_guid>
<update_guid_history>7d6d3cc5cabf1300d59fe7a292e921c2:-527487511,ed1bdcc5653f1300e58ca9fd162a1343:-527487511</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_053c411d6791320030066c706785ef70</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_NIC_Subnet_VM_Response_Processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId,ldc) {&amp;#13;
	var nicInfohandler = [];&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
&amp;#13;
	if(vmResponse.networkInterfaces &amp;amp;&amp;amp; vmResponse.networkInterfaces.length &amp;gt; 0){&amp;#13;
		for (var i=0; i&amp;lt; vmResponse.networkInterfaces.length; i++){&amp;#13;
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");&amp;#13;
			var nicId;&amp;#13;
			if (nicIdTrim.length == 2)&amp;#13;
				nicId = nicIdTrim[1];&amp;#13;
			else &amp;#13;
				nicId = nicIdTrim[0];&amp;#13;
			var endPointId = "nic-" + nicId + "_endpoint";&amp;#13;
			var nicInfo = {&amp;#13;
				"cmdb_ci_nic": {&amp;#13;
					"validator": "nic_create_validator",&amp;#13;
					"validator_overrides": { },&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_aws_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_nic":{&amp;#13;
							"criterion":{&amp;#13;
							    "object_id": nicId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes":{&amp;#13;
	                    "object_id": nicId,&amp;#13;
	                    "name": nicId,&amp;#13;
	                    "allocation_id":"",&amp;#13;
	                    "attach_time":"",&amp;#13;
	                    "gateway": vmResponse.networkInterfaces[i].gateway,&amp;#13;
	                    "host_name": vmResponse.nodeName,&amp;#13;
	                    "is_connected":"",&amp;#13;
	                    "is_static":"",&amp;#13;
	                    "netmask": vmResponse.networkInterfaces[i].netmask,&amp;#13;
	                    "owner": vmResponse.networkInterfaces[i].ownerId,&amp;#13;
	                    "private_dns": vmResponse.networkInterfaces[i].privateDnsName,&amp;#13;
	                    "private_ip": vmResponse.networkInterfaces[i].privateIPAddresses[0],&amp;#13;
	                    "public_dns":"",&amp;#13;
	                    "is_source_dest_check": vmResponse.networkInterfaces[i].sourceDestCheck,&amp;#13;
	                    "public_ip": vmResponse.networkInterfaces[i].publicIPAddresses[0],&amp;#13;
	                    "node_id":"",&amp;#13;
	                    "status": vmResponse.networkInterfaces[i].status&amp;#13;
	                },&amp;#13;
					"references": {&amp;#13;
						"cmdb_ci_cloud_subnet": {&amp;#13;
							"identification": {&amp;#13;
								"cmdb_ci_cloud_service_account": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": cloudServiceAccountId&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_aws_datacenter": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": ldc&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_network": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": vmResponse.networkInterfaces[i].networkId&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_cloud_subnet": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": vmResponse.networkInterfaces[i].subnetId&amp;#13;
									}&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"attributes": {&amp;#13;
								"object_id": vmResponse.networkInterfaces[i].subnetId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"bindings":[&amp;#13;
					{&amp;#13;
					   "attach_to":{&amp;#13;
						  "implemented_by":{&amp;#13;
							 "endpoint_ci":"cmdb_ci_endpoint_vnic",&amp;#13;
							 "endpoint_identification":{&amp;#13;
								"object_id": endPointId&amp;#13;
							 },&amp;#13;
							 "attributes":{&amp;#13;
								"name": endPointId,&amp;#13;
								"host": vmResponse.nodeId,&amp;#13;
								"target_port":"",&amp;#13;
								"object_id": endPointId,&amp;#13;
								"uncertain":"",&amp;#13;
								"ip_address":"",&amp;#13;
								"region":"",&amp;#13;
								"dns_suffix":"",&amp;#13;
								"ipam_pool_id":"",&amp;#13;
								"port_id":""&amp;#13;
							}&amp;#13;
						  }&amp;#13;
					   }&amp;#13;
					}&amp;#13;
				  ]&amp;#13;
				}&amp;#13;
			};&amp;#13;
			nicInfohandler.push(nicInfo);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	return global.JSON.stringify(nicInfohandler);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId,ldc) {
	var nicInfohandler = [];
	var vmResponse = global.JSON.parse(response);

	if(vmResponse.networkInterfaces &amp;&amp; vmResponse.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; vmResponse.networkInterfaces.length; i++){
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");
			var nicId;
			if (nicIdTrim.length == 2)
				nicId = nicIdTrim[1];
			else 
				nicId = nicIdTrim[0];
			var endPointId = "nic-" + nicId + "_endpoint";
			var nicInfo = {
				"cmdb_ci_nic": {
					"validator": "nic_create_validator",
					"validator_overrides": { },
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_nic":{
							"criterion":{
							    "object_id": nicId
							}
						}
					},
					"attributes":{
	                    "object_id": nicId,
	                    "name": nicId,
	                    "allocation_id":"",
	                    "attach_time":"",
	                    "gateway": vmResponse.networkInterfaces[i].gateway,
	                    "host_name": vmResponse.nodeName,
	                    "is_connected":"",
	                    "is_static":"",
	                    "netmask": vmResponse.networkInterfaces[i].netmask,
	                    "owner": vmResponse.networkInterfaces[i].ownerId,
	                    "private_dns": vmResponse.networkInterfaces[i].privateDnsName,
	                    "private_ip": vmResponse.networkInterfaces[i].privateIPAddresses[0],
	                    "public_dns":"",
	                    "is_source_dest_check": vmResponse.networkInterfaces[i].sourceDestCheck,
	                    "public_ip": vmResponse.networkInterfaces[i].publicIPAddresses[0],
	                    "node_id":"",
	                    "status": vmResponse.networkInterfaces[i].status
	                },
					"references": {
						"cmdb_ci_cloud_subnet": {
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_network": {
									"criterion": {
										"object_id": vmResponse.networkInterfaces[i].networkId
									}
								},
								"cmdb_ci_cloud_subnet": {
									"criterion": {
										"object_id": vmResponse.networkInterfaces[i].subnetId
									}
								}
							},
							"attributes": {
								"object_id": vmResponse.networkInterfaces[i].subnetId
							}
						}
					},
					"bindings":[
					{
					   "attach_to":{
						  "implemented_by":{
							 "endpoint_ci":"cmdb_ci_endpoint_vnic",
							 "endpoint_identification":{
								"object_id": endPointId
							 },
							 "attributes":{
								"name": endPointId,
								"host": vmResponse.nodeId,
								"target_port":"",
								"object_id": endPointId,
								"uncertain":"",
								"ip_address":"",
								"region":"",
								"dns_suffix":"",
								"ipam_pool_id":"",
								"port_id":""
							}
						  }
					   }
					}
				  ]
				}
			};
			nicInfohandler.push(nicInfo);
		}
	}
	return global.JSON.stringify(nicInfohandler);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-03 14:14:24&lt;/sys_created_on&gt;&lt;sys_id&gt;053c411d6791320030066c706785ef70&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_NIC_Subnet_VM_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_053c411d6791320030066c706785ef70&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-21 11:52:23&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1159683731</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961937</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5419a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_NIC_Subnet_VM_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>296d3cc53cbf13009038d5f13b4d4da5</update_guid>
<update_guid_history>296d3cc53cbf13009038d5f13b4d4da5:-1159683731,dd1bdcc5bf3f13007710b2b4782f4a24:-1159683731</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1cc9c1360b632200e937c97193673ab9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Volumes_To_LDC_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>1cc9c1360b632200e937c97193673ab9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Volumes_To_LDC_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_1cc9c1360b632200e937c97193673ab9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-2076868257</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96193a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548a10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Volumes_To_LDC_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4e6d3cc5bbbf1300ac4076523f3c9fe9</update_guid>
<update_guid_history>4e6d3cc5bbbf1300ac4076523f3c9fe9:-2076868257,311bdcc58c3f13007bab7c1124cc5f6d:-2076868257</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_20c9c1360b632200e937c97193673ad9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Switches_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>20c9c1360b632200e937c97193673ad9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Switches_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_20c9c1360b632200e937c97193673ad9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>36669707</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96193b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548b10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Switches_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ca6d3cc5d6bf130032b74fe90fd838ea</update_guid>
<update_guid_history>ca6d3cc5d6bf130032b74fe90fd838ea:36669707,fd1bdcc5923f1300db2bf6895293336d:36669707</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_44caf13d0b4232000747a387b6673ae2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_Router_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {

			var cloudModelString = [];
			var routerResponse = global.JSON.parse(response);
			var router = {
				"cmdb_ci_router": {
					"validator": "router_create_validator",
					"validator_overrides": { },
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_router": {
							"criterion": {
								"object_id": routerResponse.id
							}
						}
					},
					"attributes": {
						"state":"terminated"
					}
				}
			};
			cloudModelString.push(router);
			return global.JSON.stringify(cloudModelString);
		}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
		var routerResponse = global.JSON.parse(response);
		var router = {
			"cmdb_ci_router": {
				"validator": "router_create_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_router": {
						"criterion": {
							"object_id": routerResponse.id
						}
					}
				},
				"attributes": {
					"state":"terminated"
				}
			}
		};
	cloudModelString.push(router);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-11 11:34:40&lt;/sys_created_on&gt;&lt;sys_id&gt;44caf13d0b4232000747a387b6673ae2&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_Router_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_44caf13d0b4232000747a387b6673ae2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 03:06:58&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1711933217</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96193e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555660000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Delete_Router_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7a6d7cc56ebf13004b429f5898386ed4</update_guid>
<update_guid_history>7a6d7cc56ebf13004b429f5898386ed4:1711933217,ee1bdcc5c33f130022b8a5bfdc9148fc:1711933217</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_55f501abd722220097eb6ccf6e6103a0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Virtual_Servers_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>55f501abd722220097eb6ccf6e6103a0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Virtual_Servers_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_55f501abd722220097eb6ccf6e6103a0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:56</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>198406818</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961941</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555ec0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Virtual_Servers_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fa6d7cc52abf130035cfe108cda4efda</update_guid>
<update_guid_history>fa6d7cc52abf130035cfe108cda4efda:198406818,2a1b1009da3f130046d51743ea227b03:198406818</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5e79b35e0be622009e620bcb15673a89</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Router_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>5e79b35e0be622009e620bcb15673a89</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Router_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5e79b35e0be622009e620bcb15673a89</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1896727918</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961944</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54fb10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Router_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>226d7cc5cdbf1300956468418374e674</update_guid>
<update_guid_history>226d7cc5cdbf1300956468418374e674:-1896727918,0a1bdcc5a83f1300739aac60aaca39bd:-1896727918</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6c8b0d540b9132000747a387b6673a45</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Deprovision_Virtual_Server_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	var vmInfo ={
		"cmdb_ci_vm_instance": {
			"validator": "virtual_machine_create_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": vmResponse.nodeId
					}
				}
			},
			"attributes": {
				"object_id": vmResponse.nodeId,
				"state": "terminated"
			},
			"references": {
			},
			"bindings": [
			]
		}
	};
	cloudModelString.push(vmInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-28 09:30:44&lt;/sys_created_on&gt;&lt;sys_id&gt;6c8b0d540b9132000747a387b6673a45&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Deprovision_Virtual_Server_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_6c8b0d540b9132000747a387b6673a45&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-15 15:52:18&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1987137788</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961947</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5572e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Deprovision_Virtual_Server_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4f6d7cc556bf130030ce1d63e4c8a0e7</update_guid>
<update_guid_history>4f6d7cc556bf130030ce1d63e4c8a0e7:-1987137788,6a1b1009ef3f13000fe56a1053c45511:-1987137788</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103c4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_VPN_Gateways_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>75f501abd722220097eb6ccf6e6103c4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_VPN_Gateways_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103c4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1247218114</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96194a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557f10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_VPN_Gateways_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0f6d7cc526bf13008ad06c33b44166fe</update_guid>
<update_guid_history>0f6d7cc526bf13008ad06c33b44166fe:1247218114,6e1b1009173f13002c62607d1d7ed31c:1247218114</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8679b35e0be622009e620bcb15673a72</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_KeyPairs_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
			var cloudModelString = [];&amp;#13;
			var keyPairsArray = global.JSON.parse(response);&amp;#13;
			var serviceAccountName = getServiceAccount(cloudServiceAccountId);&amp;#13;
			for (var i = 0; i &amp;lt; keyPairsArray.length; i++) {&amp;#13;
			var modifiedKeyPairName = serviceAccountName+':'+ldc+':'+keyPairsArray[i].keyName;&amp;#13;
			var keyPair = {&amp;#13;
			"cmdb_ci_cloud_key_pair": {&amp;#13;
			"validator": "",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
			"cmdb_ci_cloud_service_account": {&amp;#13;
			"criterion": {&amp;#13;
			"account_id": cloudServiceAccountId&amp;#13;
			}&amp;#13;
			},&amp;#13;
			"cmdb_ci_aws_datacenter": {&amp;#13;
			"criterion": {&amp;#13;
			"region": ldc&amp;#13;
			}&amp;#13;
			},&amp;#13;
			"cmdb_ci_cloud_key_pair": {&amp;#13;
			"criterion": {&amp;#13;
			"object_id": keyPairsArray[i].keyName&amp;#13;
			}&amp;#13;
			}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
			"name": modifiedKeyPairName,&amp;#13;
			"object_id": keyPairsArray[i].keyName,&amp;#13;
			"finger_print":keyPairsArray[i].keyFingerprint&amp;#13;
			}&amp;#13;
			}&amp;#13;
			};&amp;#13;
			cloudModelString.push(keyPair);&amp;#13;
			}&amp;#13;
			return global.JSON.stringify(cloudModelString);&amp;#13;
			}&amp;#13;
			&amp;#13;
			function getServiceAccount(cloudServiceAccountId) {&amp;#13;
			&amp;#13;
			try {&amp;#13;
			var serviceAccountGR = new GlideRecord('cmdb_ci_cloud_service_account');&amp;#13;
			serviceAccountGR.addQuery('account_id',cloudServiceAccountId);&amp;#13;
			serviceAccountGR.query();&amp;#13;
			if(serviceAccountGR.next())&amp;#13;
			return serviceAccountGR.getValue('name');&amp;#13;
			} catch(e) {&amp;#13;
			return 0;&amp;#13;
			}&amp;#13;
			}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var keyPairsArray = global.JSON.parse(response);
	var serviceAccountName = getServiceAccount(cloudServiceAccountId);
	for (var i = 0; i &lt; keyPairsArray.length; i++) {
	    var modifiedKeyPairName = serviceAccountName+':'+ldc+':'+keyPairsArray[i].keyName;
 		var keyPair = {
 			"cmdb_ci_cloud_key_pair": {
				"validator": "",
 				"validator_overrides": { },
				"identification": {
 					"cmdb_ci_cloud_service_account": {
 						"criterion": {
 							"account_id": cloudServiceAccountId
 						}
 					},
 					"cmdb_ci_aws_datacenter": {
 						"criterion": {
 							"region": ldc
						}
 					},
 					"cmdb_ci_cloud_key_pair": {
 						"criterion": {
 							"object_id": keyPairsArray[i].keyName
 						}
 					}
 				},
 				"attributes": {
 					"name": modifiedKeyPairName,
					"object_id": keyPairsArray[i].keyName,
					"finger_print":keyPairsArray[i].keyFingerprint
 				}
 			}
 		};
 		cloudModelString.push(keyPair);
 	}
	return global.JSON.stringify(cloudModelString);
}

function getServiceAccount(cloudServiceAccountId) {

	try {
		var serviceAccountGR = new GlideRecord('cmdb_ci_cloud_service_account');
		serviceAccountGR.addQuery('account_id', cloudServiceAccountId);
		serviceAccountGR.query();
		if(serviceAccountGR.next())
			return serviceAccountGR.getValue('name');
	} catch(e) {
		return 0;
	}
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;8679b35e0be622009e620bcb15673a72&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_KeyPairs_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8679b35e0be622009e620bcb15673a72&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-10-10 07:36:00&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-465199372</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96194d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550a70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_KeyPairs_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ae6d7cc50bbf130042238ad978e82a7b</update_guid>
<update_guid_history>ae6d7cc50bbf130042238ad978e82a7b:-465199372,ce1bdcc5973f1300f481e2596a1c21c5:-465199372</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8be10e309fa0720048111f80a57fcf66</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Provision_CloudFormation_Template&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new CloudFormationResponseProcessor();
	processor.topLevel(true);
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var processedResponses = processor.processResponse(responseObj, cloudServiceAccountId, ldc, 
													   correlationId, step, requestorContext, stackId);
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-23 19:57:40&lt;/sys_created_on&gt;&lt;sys_id&gt;8be10e309fa0720048111f80a57fcf66&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Provision_CloudFormation_Template&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8be10e309fa0720048111f80a57fcf66&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-18 15:15:45&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-90611889</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96194e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550e80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Provision_CloudFormation_Template</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>6e6d7cc500bf1300e694afcd6bb6e58b</update_guid>
<update_guid_history>6e6d7cc500bf1300e694afcd6bb6e58b:-90611889,ca1bdcc5be3f1300ed4ea3df7bf400c9:-90611889</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9cc9c1360b632200e937c97193673abc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_L3_Firewalls_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>9cc9c1360b632200e937c97193673abc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_L3_Firewalls_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_9cc9c1360b632200e937c97193673abc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-706695893</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961951</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54a410000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_L3_Firewalls_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c26d7cc5b5bf1300a68a78587e413314</update_guid>
<update_guid_history>c26d7cc5b5bf1300a68a78587e413314:-706695893,3d1bdcc5e33f1300a30a2fc6a647857f:-706695893</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_b42a40fa9f44320048111f80a57fcfa7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_IPAddresses_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, null,//don't pass in LDC as it can be different for azure
														 'Azure API',
														 {"correlationId": correlationId,
													     "step": step,
													     "requestorContext": requestorContext,
													     "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Network/publicIPAddresses',
											   'ip_address_create_update_validator'); 
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-04 19:50:32&lt;/sys_created_on&gt;&lt;sys_id&gt;b42a40fa9f44320048111f80a57fcfa7&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_IPAddresses_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_b42a40fa9f44320048111f80a57fcfa7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-20 08:25:27&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>26925587</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559560000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_IPAddresses_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>076dbcc518bf13008ff503ada9b6ac10</update_guid>
<update_guid_history>076dbcc518bf13008ff503ada9b6ac10:26925587,3e1b10097c3f1300723f6647a4d81b6d:26925587</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d279b35e0be622009e620bcb15673a93</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Zones_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>d279b35e0be622009e620bcb15673a93</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Zones_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_d279b35e0be622009e620bcb15673a93</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1093970574</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d961957</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552d70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Associate_Zones_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>366d7cc519bf13008c90170da3537bad</update_guid>
<update_guid_history>366d7cc519bf13008c90170da3537bad:-1093970574,d21bdcc56f3f1300c2327de1b9ff98e0:-1093970574</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_e4c9c1360b632200e937c97193673ad7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Cluster_Datastores_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>e4c9c1360b632200e937c97193673ad7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Cluster_Datastores_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_e4c9c1360b632200e937c97193673ad7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1269923947</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>1f6dbcc5dbbf1300786ff1351d96195a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54c060000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Cluster_Datastores_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>5a6d7cc585bf13006cdf129abc846e1f</update_guid>
<update_guid_history>5a6d7cc585bf13006cdf129abc846e1f:1269923947,fd1bdcc5da3f130007a8c485343a438b:1269923947</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_08820979931813004a9032bfa67ffbd2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Deprovision">cf618d39931813004a9032bfa67ffb0a</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>operationName</name><order>40</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Operation Name</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:00:36</sys_created_on><sys_id>08820979931813004a9032bfa67ffbd2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Operation Name</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_08820979931813004a9032bfa67ffbd2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:00:36</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=08820979931813004a9032bfa67ffbd2"/><fx_price action="delete_multiple" query="id=08820979931813004a9032bfa67ffbd2"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>08820979931813004a9032bfa67ffbd2</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:00:36</sys_created_on><sys_id>04820979931813004a9032bfa67ffbd4</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:00:36</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>08820979931813004a9032bfa67ffbd2</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:00:36</sys_created_on><sys_id>c8820979931813004a9032bfa67ffbd3</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:00:36</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-809534303</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>476dbcc5dbbf1300786ff1351d961929</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545c00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Operation Name</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>716d3cc5fbbf1300934c6e0bfb60d0c6</update_guid>
<update_guid_history>716d3cc5fbbf1300934c6e0bfb60d0c6:-809534303,651bdcc5893f13000f567172c9baee47:-809534303</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_9db28979931813004a9032bfa67ffb4a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Virtual Server - Deprovision"&gt;cf618d39931813004a9032bfa67ffb0a&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Hide operation variables&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[// System generatend script, please do not change
function onLoad() {
	g_form.setDisplay('resourceBlock', false);
	g_form.setDisplay('resourceId', false);
	g_form.setDisplay('resourceInterface', false);
	g_form.setDisplay('operationName', false);
	g_form.setDisplay('credential', false);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-02-16 00:01:31&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;9db28979931813004a9032bfa67ffb4a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Hide operation variables&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_9db28979931813004a9032bfa67ffb4a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-16 00:01:31&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-54702497</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>4b6dbcc5dbbf1300786ff1351d961928</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5465e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Hide operation variables</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>f56d3cc556bf13008d9aae9e594d7fcd</update_guid>
<update_guid_history>f56d3cc556bf13008d9aae9e594d7fcd:-54702497,211bdcc57a3f1300ff13b96e5e44274f:-54702497</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_46a14179931813004a9032bfa67ffb04</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Deprovision">cf618d39931813004a9032bfa67ffb0a</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceBlock</name><order>10</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Block</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:56:56</sys_created_on><sys_id>46a14179931813004a9032bfa67ffb04</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Block</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_46a14179931813004a9032bfa67ffb04</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:56:56</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=46a14179931813004a9032bfa67ffb04"/><fx_price action="delete_multiple" query="id=46a14179931813004a9032bfa67ffb04"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>46a14179931813004a9032bfa67ffb04</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:56:56</sys_created_on><sys_id>42a14179931813004a9032bfa67ffb06</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:56:56</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>46a14179931813004a9032bfa67ffb04</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:56:56</sys_created_on><sys_id>0aa14179931813004a9032bfa67ffb05</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:56:56</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>1693258673</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d96192a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545e60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Block</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>f96d3cc5e3bf1300479f6bb318ed2ac7</update_guid>
<update_guid_history>f96d3cc5e3bf1300479f6bb318ed2ac7:1693258673,211bdcc58f3f130026d8eb75c8a42f49:1693258673</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_a4c8fab7db5313002c87f1771d9619ad</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Cleanup">1a041598db9f1f00786ff1351d96197a</blueprint_stage_op><child_operation display_value="Blueprint Container Resource.Deprovision">a6f4d51cdb9f1f00786ff1351d961980</child_operation><in_degree>0</in_degree><parent_operation/><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>a4c8fab7db5313002c87f1771d9619ad</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_a4c8fab7db5313002c87f1771d9619ad</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>-825821419</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d96192d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5407f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>216d3cc51dbf1300d0f86c68862d5197</update_guid>
<update_guid_history>216d3cc51dbf1300d0f86c68862d5197:-825821419</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_ca84bf990b0232009e620bcb15673a19</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_comp_security</endpoint><relation_type>2</relation_type><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 07:09:30</sys_created_on><sys_id>ca84bf990b0232009e620bcb15673a19</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_ca84bf990b0232009e620bcb15673a19</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 07:09:30</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>-1484861910</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961930</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542ea0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>7d6d3cc5babf1300f53e7e541dad3ab2</update_guid>
<update_guid_history>7d6d3cc5babf1300f53e7e541dad3ab2:-1484861910,e11bdcc5fb3f130065ad775a47450133:-1484861910</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_a81271700b903200668daac125673ae7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Discovery Interface">9c7039300b903200668daac125673ad8</guestinterface><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:32:17</sys_created_on><sys_id>a81271700b903200668daac125673ae7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>5cc941360b632200e937c97193673a1a</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_a81271700b903200668daac125673ae7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-11 08:32:17</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>899332915</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961933</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548570000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>5cc941360b632200e937c97193673a1a</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>066d3cc5ccbf1300e7113f0d724526e5</update_guid>
<update_guid_history>066d3cc5ccbf1300e7113f0d724526e5:899332915,b11bdcc5df3f13009070a6c75a391f68:899332915</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcehost_2f3dcf480b113200668daac125673ac3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcehost"><sn_cmp_rb_resourcehost action="INSERT_OR_UPDATE"><guestresource display_value="Storage Volume">266048440b632200668daac125673a63</guestresource><hostresource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</hostresource><sys_class_name>sn_cmp_rb_resourcehost</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-02-28 00:18:27</sys_created_on><sys_id>2f3dcf480b113200668daac125673ac3</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcehost_2f3dcf480b113200668daac125673ac3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-02-28 00:18:27</sys_updated_on></sn_cmp_rb_resourcehost></record_update>]]></payload>
<payload_hash>1212069762</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961936</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547a70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Host</type>
<update_domain>global</update_domain>
<update_guid>026d3cc52abf13004c24d73b90bfb9dc</update_guid>
<update_guid_history>026d3cc52abf13004c24d73b90bfb9dc:1212069762,251bdcc5d93f13007f36a0dd6e520c5e:1212069762</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1279b35e0be622009e620bcb15673a82</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Network_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>1279b35e0be622009e620bcb15673a82</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Network_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_1279b35e0be622009e620bcb15673a82</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1863144366</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961939</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d950000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Network_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>926d7cc5c1bf13002552c83b5dd04b2e</update_guid>
<update_guid_history>926d7cc5c1bf13002552c83b5dd04b2e:-1863144366,ce1bdcc52a3f13005394ee9ff637e3a7:-1863144366</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_2e3c4347dbe00700074cf8231f96192b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Start_Azure_Stack&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new AzureStartStopStackResponseProcessor();

	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var processedResponses = processor.processResponse(responseObj, cloudServiceAccountId, ldc, 
													   correlationId, step, requestorContext, stackId, 'start');
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-17 21:19:17&lt;/sys_created_on&gt;&lt;sys_id&gt;2e3c4347dbe00700074cf8231f96192b&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start_Azure_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_2e3c4347dbe00700074cf8231f96192b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-08 11:33:55&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-894915818</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d96193d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555100000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Start_Azure_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>726d7cc55ebf130073d08471abc152d1</update_guid>
<update_guid_history>726d7cc55ebf130073d08471abc152d1:-894915818,d21bdcc5ce3f1300914c78f8439c3af9:-894915818</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4e79b35e0be622009e620bcb15673a5d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Nodes_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
&amp;#13;
	var responseObject = global.JSON.parse(response);&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
														 ldc, &amp;#13;
														 'Cloud API',&amp;#13;
														 {"correlationId": correlationId,&amp;#13;
														  "step": step,&amp;#13;
														  "requestorContext": requestorContext,&amp;#13;
														  "stackId": stackId});&amp;#13;
	&amp;#13;
	var cloudModelObject = &amp;#13;
		responseProcessor.processResponseArray(responseObject,&amp;#13;
											   'AWS::EC2::Instance',&amp;#13;
											   'virtual_machine_create_update_validator');&amp;#13;
	responseObject = [].concat(responseObject);&amp;#13;
	var nicArray = [];&amp;#13;
	var rootVolumeArray = [];&amp;#13;
	for (var index=0; index&amp;lt;responseObject.length; index++) {&amp;#13;
		var object = responseObject[index];&amp;#13;
		var networkInterfaces = object.networkInterfaces;&amp;#13;
		if (networkInterfaces)&amp;#13;
			nicArray = nicArray.concat(networkInterfaces);&amp;#13;
		&amp;#13;
		var volumes = object.volumes;&amp;#13;
		if (volumes.length&amp;gt;0){&amp;#13;
			for (var j=0; j&amp;lt;volumes.length; j++) {&amp;#13;
				var volume = volumes[j];&amp;#13;
				//Save root volume details only when response contains size&amp;#13;
				//Save stroage volume when all volume details are known&amp;#13;
				if(!gs.nil(volume.RootVolume) &amp;amp;&amp;amp; volume.RootVolume &amp;amp;&amp;amp; !gs.nil(volume.Size)){&amp;#13;
					var rootVolumeResp = {&amp;#13;
						 "volumeId": volume.VolumeId,&amp;#13;
						"volumeName": volume.VolumeId,&amp;#13;
						"state":volume.State,&amp;#13;
						 "size":volume.Size,&amp;#13;
						"attachments": [&amp;#13;
							  {&amp;#13;
								"volumeId": volume.VolumeId,&amp;#13;
								"instanceId": object.nodeId&amp;#13;
							  }&amp;#13;
							]&amp;#13;
					};&amp;#13;
					rootVolumeArray = rootVolumeArray.concat(volume);&amp;#13;
				}&amp;#13;
			}&amp;#13;
		}&amp;#13;
	}&amp;#13;
	var nicObject = responseProcessor.processResponseArray(nicArray,&amp;#13;
											   'AWS::EC2::NetworkInterface',&amp;#13;
											   'nic_create_validator');&amp;#13;
	cloudModelObject = cloudModelObject.concat(nicObject);&amp;#13;
	&amp;#13;
	var storageObject = responseProcessor.processResponseArray(rootVolumeArray,&amp;#13;
											   'AWS::EC2::Volume',&amp;#13;
											   'storage_volumes_list_validator');&amp;#13;
	cloudModelObject = cloudModelObject.concat(storageObject);&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
 }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {

	var responseObject = global.JSON.parse(response);
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
														 ldc, 
														 'Cloud API',
														 {"correlationId": correlationId,
														  "step": step,
														  "requestorContext": requestorContext,
														  "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::Instance',
											   'virtual_machine_create_update_validator');
	responseObject = [].concat(responseObject);
	var nicArray = [];
	var rootVolumeArray = [];
	for (var index=0; index&lt;responseObject.length; index++) {
		var object = responseObject[index];
		var networkInterfaces = object.networkInterfaces;
		if (networkInterfaces)
			nicArray = nicArray.concat(networkInterfaces);
		
		var volumes = object.volumes;
		if (volumes.length&gt;0){
			for (var j=0; j&lt;volumes.length; j++) {
				var volume = volumes[j];
				//Save root volume details only when response contains size
				//Save stroage volume when all volume details are known
				if(!gs.nil(volume.RootVolume) &amp;&amp; volume.RootVolume &amp;&amp; !gs.nil(volume.Size)){
					var rootVolumeResp = {
						 "volumeId": volume.VolumeId,
						"volumeName": volume.VolumeId,
						"state":volume.State,
						 "size":volume.Size,
						"attachments": [
							  {
								"volumeId": volume.VolumeId,
								"instanceId": object.nodeId
							  }
							]
					};
					rootVolumeArray = rootVolumeArray.concat(rootVolumeResp);
				}
			}
		}
	}
	var nicObject = responseProcessor.processResponseArray(nicArray,
											   'AWS::EC2::NetworkInterface',
											   'nic_create_validator');
	cloudModelObject = cloudModelObject.concat(nicObject);
	
	var storageObject = responseProcessor.processResponseArray(rootVolumeArray,
											   'AWS::EC2::Volume',
											   'storage_volumes_list_validator');
	cloudModelObject = cloudModelObject.concat(storageObject);
	
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:47&lt;/sys_created_on&gt;&lt;sys_id&gt;4e79b35e0be622009e620bcb15673a5d&lt;/sys_id&gt;&lt;sys_mod_count&gt;41&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Nodes_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4e79b35e0be622009e620bcb15673a5d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-04-25 12:08:39&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-617259980</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961940</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f030000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Nodes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>266d7cc587bf130080d045b80f879b3b</update_guid>
<update_guid_history>266d7cc587bf130080d045b80f879b3b:-617259980,021bdcc5153f1300fb78cfacf47e17b6:-617259980</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_593747b20ba23200222b403f15673acf</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Networks_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
var cloudModelString = [];&amp;#13;
var reqContext = global.JSON.parse(requestorContext);&amp;#13;
var stepObject = new global.JSON().decode(step);&amp;#13;
var ldcObjectId= stepObject.ldcObjectId;&amp;#13;
	&amp;#13;
var identification = [&amp;#13;
    {&amp;#13;
        "cmdb_ci_vcenter_datacenter":&amp;#13;
        {&amp;#13;
            "identification":&amp;#13;
             {&amp;#13;
                "cmdb_ci_cloud_service_account": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id": cloudServiceAccountId&amp;#13;
                    }&amp;#13;
                },&amp;#13;
                "cmdb_ci_vcenter_datacenter": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id":ldcObjectId&amp;#13;
                    }&amp;#13;
                }&amp;#13;
            }&amp;#13;
        }&amp;#13;
    }&amp;#13;
 ];&amp;#13;
&amp;#13;
var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();&amp;#13;
var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");&amp;#13;
var ci = global.JSON.parse(ciPayload);&amp;#13;
var ldcSysId = ci.cmdb_ci_vcenter_datacenter.sys_id;&amp;#13;
	&amp;#13;
var gRelType = new GlideRecord('cmdb_rel_type');&amp;#13;
gRelType.query('name','Hosted on::Hosts');&amp;#13;
if(gRelType.next())&amp;#13;
typeId  = gRelType.getUniqueValue();&amp;#13;
&amp;#13;
var grRel = new GlideRecord('cmdb_ci_port_group');&amp;#13;
var join = grRel.addJoinQuery('cmdb_rel_ci', 'parent', 'sys_id');&amp;#13;
join.addCondition('type',typeId);&amp;#13;
join.addCondition('child',ldcSysId);&amp;#13;
grRel.query();&amp;#13;
	&amp;#13;
while(grRel.next()) {&amp;#13;
	var pgType = grRel.getValue('sys_class_name');&amp;#13;
	//Allow only portGroups of class - VMware Distributed Virtual Port Group&amp;#13;
	if(pgType.equals('cmdb_ci_vcenter_dv_port_group')){&amp;#13;
		var pgName = grRel.getValue('name');&amp;#13;
		//Ignore uplinks &amp;amp; switches&amp;#13;
		if(pgName &amp;amp;&amp;amp; (pgName.toLowerCase().contains('uplinks') || pgName.toLowerCase().contains('switch'))) &amp;#13;
			continue; &amp;#13;
&amp;#13;
		var portGrpObjId=grRel.getValue('object_id');&amp;#13;
&amp;#13;
		var networkIdentification =[{&amp;#13;
		   "cmdb_ci_network":{&amp;#13;
			  "validator":"network_create_validator",&amp;#13;
			  "identification":{&amp;#13;
				 "cmdb_ci_cloud_service_account":{&amp;#13;
					"criterion":{&amp;#13;
					   "object_id":cloudServiceAccountId&amp;#13;
					}&amp;#13;
				 },&amp;#13;
				 "cmdb_ci_vcenter_datacenter":{&amp;#13;
					"criterion":{&amp;#13;
					   "object_id":ldcObjectId&amp;#13;
					}&amp;#13;
				 },&amp;#13;
				  "cmdb_ci_network":{&amp;#13;
					  "criterion":{&amp;#13;
					   "object_id":portGrpObjId&amp;#13;
					}&amp;#13;
				  }&amp;#13;
			  },&amp;#13;
			  "attributes":{&amp;#13;
				 "name":pgName,&amp;#13;
				 "state":"available"&amp;#13;
			  }&amp;#13;
		   }&amp;#13;
		}];&amp;#13;
		cloudModelScript.createOrUpdateCI(cloudServiceAccountId,stepObject.ldcObjectId,networkIdentification);&amp;#13;
	}&amp;#13;
}&amp;#13;
 &amp;#13;
gs.info('Existing LDC relationship of Port Group: ' + current.getValue('object_id') + ' is : ' + ldc);&amp;#13;
return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
var cloudModelString = [];
var reqContext = global.JSON.parse(requestorContext);
var stepObject = new global.JSON().decode(step);
var ldcObjectId= stepObject.ldcObjectId;
	
var identification = [
    {
        "cmdb_ci_vcenter_datacenter":
        {
            "identification":
             {
                "cmdb_ci_cloud_service_account": {
                    "criterion": {
                        "object_id": cloudServiceAccountId
                    }
                },
                "cmdb_ci_vcenter_datacenter": {
                    "criterion": {
                        "object_id":ldcObjectId
                    }
                }
            }
        }
    }
 ];

var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
var ci = global.JSON.parse(ciPayload);
var ldcSysId = ci.cmdb_ci_vcenter_datacenter.sys_id;
	
var gRelType = new GlideRecord('cmdb_rel_type');
gRelType.query('name','Hosted on::Hosts');
if(gRelType.next())
typeId  = gRelType.getUniqueValue();

var grRel = new GlideRecord('cmdb_ci_port_group');
var join = grRel.addJoinQuery('cmdb_rel_ci', 'parent', 'sys_id');
join.addCondition('type',typeId);
join.addCondition('child',ldcSysId);
grRel.query();
	
while(grRel.next()) {
	var pgType = grRel.getValue('sys_class_name');
	//Allow only portGroups of class - VMware Distributed Virtual Port Group
	if(pgType.equals('cmdb_ci_vcenter_dv_port_group')){
		var pgName = grRel.getValue('name');
		//Ignore uplinks &amp; switches
		if(pgName &amp;&amp; (pgName.toLowerCase().contains('uplinks') || pgName.toLowerCase().contains('switch'))) 
			continue; 

		var portGrpObjId=grRel.getValue('object_id');

		var networkIdentification =[{
		   "cmdb_ci_network":{
			  "validator":"network_create_validator",
			  "identification":{
				 "cmdb_ci_cloud_service_account":{
					"criterion":{
					   "object_id":cloudServiceAccountId
					}
				 },
				 "cmdb_ci_vcenter_datacenter":{
					"criterion":{
					   "object_id":ldcObjectId
					}
				 },
				  "cmdb_ci_network":{
					  "criterion":{
					   "object_id":portGrpObjId
					}
				  }
			  },
			  "attributes":{
				 "name":pgName,
				 "state":"available"
			  }
		   }
		}];
		cloudModelScript.createOrUpdateCI(cloudServiceAccountId,stepObject.ldcObjectId,networkIdentification);
	}
}
 
gs.info('Existing LDC relationship of Port Group: ' + current.getValue('object_id') + ' is : ' + ldc);
return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-09 16:14:23&lt;/sys_created_on&gt;&lt;sys_id&gt;593747b20ba23200222b403f15673acf&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Networks_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_593747b20ba23200222b403f15673acf&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-09 04:36:25&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1047364036</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961943</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549640000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Networks_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4a6d3cc53fbf13004c88842ce03fc6f2</update_guid>
<update_guid_history>4a6d3cc53fbf13004c88842ce03fc6f2:1047364036,b51bdcc5103f13000ee83e409ab18076:1047364036</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103af</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Volumes_To_LDC_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>65f501abd722220097eb6ccf6e6103af</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Volumes_To_LDC_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103af</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-2025331064</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961946</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556bf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Volumes_To_LDC_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c76d7cc53cbf1300f14e1a6d63b1c7e3</update_guid>
<update_guid_history>c76d7cc53cbf1300f14e1a6d63b1c7e3:-2025331064,ae1b1009953f1300592019d1145f340c:-2025331064</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103b6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Subnets_To_Networks</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>6df501abd722220097eb6ccf6e6103b6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Subnets_To_Networks</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103b6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1759469116</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961949</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557960000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Subnets_To_Networks</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0b6d7cc5ccbf1300335573bdc3d069f9</update_guid>
<update_guid_history>0b6d7cc5ccbf1300335573bdc3d069f9:1759469116,e21b10090a3f1300f6746f2746d03817:1759469116</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103bc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_IP_To_Subnet</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>7df501abd722220097eb6ccf6e6103bc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_IP_To_Subnet</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103bc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1394879746</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d96194c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5585c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_IP_To_Subnet</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>036dbcc514bf130042d6a7dd6a60a504</update_guid>
<update_guid_history>036dbcc514bf130042d6a7dd6a60a504:1394879746,661b1009e13f130044f8c9aba588253b:1394879746</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_929399fc67532200ff506c706785ef74</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_Network_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
    var cloudModelString = [];
	var networkResponse = global.JSON.parse(response);
	var networkInfo = {
		"cmdb_ci_network": {
			"validator": "network_create_validator",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_network": {
					"criterion": {
						"object_id": networkResponse.networkId
					}
				}
			},
			"attributes": {
				"object_id": networkResponse.networkId,
				"state": "terminated"
			}
		}
	};
    cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-11-22 13:16:17&lt;/sys_created_on&gt;&lt;sys_id&gt;929399fc67532200ff506c706785ef74&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_Network_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_929399fc67532200ff506c706785ef74&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-23 07:38:25&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1772686833</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961950</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5515a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_Network_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>e26d7cc5d7bf13000c4be0d427969c90</update_guid>
<update_guid_history>e26d7cc5d7bf13000c4be0d427969c90:-1772686833,961bdcc52f3f130098107ac0757a4ace:-1772686833</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a64ed6970b6132003969a387b6673a1f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Detach_Storage_Volume_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeAttachment = global.JSON.parse(response);&amp;#13;
	var endPointId = volumeAttachment.volumeId.concat( '_' , 'block_endpoint');&amp;#13;
	var volumeAttachInfo = {&amp;#13;
		"cmdb_ci_vm_instance": {&amp;#13;
			"validator": "volume_detach_vm",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_azure_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeAttachment.nodeId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeAttachment.nodeId,&amp;#13;
				"disks": getDiskCount(volumeAttachment.nodeId)&amp;#13;
			},&amp;#13;
			"bindings": [&amp;#13;
				{&amp;#13;
				    "detach_from": {&amp;#13;
					    "used_by": {&amp;#13;
						    "endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
						    "endpoint_identification": {&amp;#13;
						    "object_id": endPointId&amp;#13;
						    }&amp;#13;
						}&amp;#13;
				    }&amp;#13;
				}&amp;#13;
			]&amp;#13;
		}&amp;#13;
	};&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
    function getDiskCount(instanceId){&amp;#13;
		var disks;&amp;#13;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");&amp;#13;
		diskCount.addQuery('object_id',instanceId);&amp;#13;
	    diskCount.query();&amp;#13;
	if (diskCount.next()){ &amp;#13;
		disks = parseInt(diskCount.getValue("disks"))-1;&amp;#13;
	}&amp;#13;
		return disks;&amp;#13;
	}&amp;#13;
	cloudModelString.push(volumeAttachInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeAttachment = global.JSON.parse(response);
	var endPointId = volumeAttachment.volumeId.concat( '_' , 'block_endpoint');
	var volumeAttachInfo = {
		"cmdb_ci_vm_instance": {
			"validator": "volume_detach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": volumeAttachment.nodeId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachment.nodeId,
				"disks": getDiskCount(volumeAttachment.nodeId)
			},
			"bindings": [
				{
				    "detach_from": {
					    "used_by": {
						    "endpoint_ci": "cmdb_ci_endpoint_block",
						    "endpoint_identification": {
						    "object_id": endPointId
						    }
						}
				    }
				}
			]
		}
	};
	// Defensive Code to handle Empty Volumes Info
    function getDiskCount(instanceId){
		var disks;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");
		diskCount.addQuery('object_id',instanceId);
	    diskCount.query();
	if (diskCount.next()){ 
		disks = parseInt(diskCount.getValue("disks"))-1;
	}
		return disks;
	}
	cloudModelString.push(volumeAttachInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-22 09:30:13&lt;/sys_created_on&gt;&lt;sys_id&gt;a64ed6970b6132003969a387b6673a1f&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Detach_Storage_Volume_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a64ed6970b6132003969a387b6673a1f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-06 12:21:52&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1675421610</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961953</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5591d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Detach_Storage_Volume_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8b6dbcc587bf1300185fb7f2ecd5b60d</update_guid>
<update_guid_history>8b6dbcc587bf1300185fb7f2ecd5b60d:1675421610,ba1b10097b3f1300797e6bf4dc425245:1675421610</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_c279b35e0be622009e620bcb15673a61</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_Nodes</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>c279b35e0be622009e620bcb15673a61</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_Nodes</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_c279b35e0be622009e620bcb15673a61</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>187743780</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552620000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_Nodes</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a26d7cc55dbf1300f1b3ec4e5c0479a7</update_guid>
<update_guid_history>a26d7cc55dbf1300f1b3ec4e5c0479a7:187743780,9a1bdcc5023f1300392f0eb838a365d9:187743780</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d8c9c1360b632200e937c97193673ac4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Hosts_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>d8c9c1360b632200e937c97193673ac4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Hosts_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_d8c9c1360b632200e937c97193673ac4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-349024473</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d961959</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54b8f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Hosts_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>526d7cc50ebf13006f6fda5d061fc71c</update_guid>
<update_guid_history>526d7cc50ebf13006f6fda5d061fc71c:-349024473,f11bdcc5283f130073540f15cf131a88:-349024473</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_f1f2895a0b1132000747a387b6673aa2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_Storage_Volume_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "storage_volume_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeResponse.id
					}
				}
			},
			"attributes": {
				"object_id": volumeResponse.id,
				"volume_id": volumeResponse.id,
				"state": "terminated"
			}
		}
	};
	cloudModelString.push(volume);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-06 14:00:36&lt;/sys_created_on&gt;&lt;sys_id&gt;f1f2895a0b1132000747a387b6673aa2&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_Storage_Volume_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_f1f2895a0b1132000747a387b6673aa2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-16 00:51:24&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>2010438075</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>536dbcc5dbbf1300786ff1351d96195c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd55a0f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure_Delete_Storage_Volume_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4b6dbcc551bf13002612216b892a0c24</update_guid>
<update_guid_history>4b6dbcc551bf13002612216b892a0c24:2010438075,f21b1009833f1300bbb6bdc3220be076:2010438075</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_2cc8fab7db5313002c87f1771d9619b3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Stop">16041598db9f1f00786ff1351d961971</blueprint_stage_op><child_operation display_value="Virtual Server.Stop">dbe4551cdb9f1f00786ff1351d961928</child_operation><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.Stop">0be4551cdb9f1f00786ff1351d961903</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>2cc8fab7db5313002c87f1771d9619b3</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_2cc8fab7db5313002c87f1771d9619b3</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>439171462</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96192c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd540450000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>216d3cc529bf1300361b91f722532895</update_guid>
<update_guid_history>216d3cc529bf1300361b91f722532895:439171462</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_279b2f550b0232009e620bcb15673acd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_vnic</endpoint><relation_type>2</relation_type><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:30:16</sys_created_on><sys_id>279b2f550b0232009e620bcb15673acd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_279b2f550b0232009e620bcb15673acd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:30:16</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>184768428</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96192f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542c20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>716d3cc562bf13005bb5f444648199b1</update_guid>
<update_guid_history>716d3cc562bf13005bb5f444648199b1:184768428,651bdcc5033f130062455b74dd0d2f31:184768428</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_6543e7029f14320048111f80a57fcf84</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Cloud Resource Interface">0ab0efce9fd0320048111f80a57fcf06</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>jimmy.yuan</sys_created_by><sys_created_on>2017-01-15 13:59:16</sys_created_on><sys_id>6543e7029f14320048111f80a57fcf84</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_6543e7029f14320048111f80a57fcf84</sys_update_name><sys_updated_by>jimmy.yuan</sys_updated_by><sys_updated_on>2017-01-15 13:59:16</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-859487761</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961932</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554040000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>366d7cc5fabf1300a43b4df736f0dcc5</update_guid>
<update_guid_history>366d7cc5fabf1300a43b4df736f0dcc5:-859487761,5a1bdcc5513f13008fabb0bca2c881ec:-859487761</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourceblock_266048440b632200668daac125673a63</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sn_cmp_rb_resourceblock"><sn_cmp_rb_resourceblock action="INSERT_OR_UPDATE"><active>true</active><description/><guestinterface display_value="Storage Interface">e26044440b632200668daac125673a4b</guestinterface><hostinterface display_value="Storage Server Interface">ca79b35e0be622009e620bcb15673a29</hostinterface><is_system_defined>true</is_system_defined><is_tlr>false</is_tlr><layer>3</layer><name>Storage Volume</name><refcitype>cmdb_ci_storage_volume</refcitype><resource_template/><status>1</status><sys_class_name>sn_cmp_rb_resourceblock</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-02 09:33:07</sys_created_on><sys_domain>global</sys_domain><sys_id>266048440b632200668daac125673a63</sys_id><sys_mod_count>11</sys_mod_count><sys_name>Storage Volume</sys_name><sys_overrides/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourceblock_266048440b632200668daac125673a63</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-04-04 08:37:22</sys_updated_on><type display_value="ServiceNow Blueprint">ab1f81e49f00320048111f80a57fcf30</type></sn_cmp_rb_resourceblock></record_update>]]></payload>
<payload_hash>-1908491991</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961935</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547860000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Storage Volume</target_name>
<type>ResourceBlock</type>
<update_domain>global</update_domain>
<update_guid>c26d3cc533bf13005767700297b517da</update_guid>
<update_guid_history>c26d3cc533bf13005767700297b517da:-1908491991,651bdcc5cd3f13000b40eee449fb9e5c:-1908491991</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0a79b35e0be622009e620bcb15673a75</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_NetworkInterfaces_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>0a79b35e0be622009e620bcb15673a75</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_NetworkInterfaces_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_0a79b35e0be622009e620bcb15673a75</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-407091802</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961938</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d680000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_NetworkInterfaces_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>1a6d7cc5a4bf1300c67e1cc7495f4f2b</update_guid>
<update_guid_history>1a6d7cc5a4bf1300c67e1cc7495f4f2b:-407091802,821bdcc5d03f13006648b188cb9a11a5:-407091802</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_245671b90b4232000747a387b6673a2e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Router_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
      var cloudModelString = [];
      var routerResponse = global.JSON.parse(response);
      var reqContext = global.JSON.parse(requestorContext);
      var routerId = new sn_cmp.RouterObjectIdBuilder().build(routerResponse.networkId, stackId);
      var router = {
        "cmdb_ci_router": {
          "validator": "router_create_validator",
          "validator_overrides": {},
          "identification": {
            "cmdb_ci_cloud_service_account": {
              "criterion": {
                "object_id": cloudServiceAccountId
              }
            },
            "cmdb_ci_azure_datacenter": {
              "criterion": {
                "object_id": ldc
              }
            },
            "cmdb_ci_router": {
              "criterion": {
                "object_id": routerId
              }
            }
          },
          "attributes": {
            "router_id":routerId,
            "object_id": routerId,
            "name":routerId,
            "assigned_to":reqContext.userId,
            "assignment_group":reqContext.groupId,
            "state":"available"
          }
        }
      };
      cloudModelString.push(router);
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routerResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var routerId = new sn_cmp.RouterObjectIdBuilder().build(routerResponse.networkId, stackId);
	var router = {
		"cmdb_ci_router": {
			"validator": "router_create_validator",
			"validator_overrides": {},
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_router": {
						"criterion": {
							"object_id": routerId
						}
					}
				},
				"attributes": {
					"router_id":routerId,
					"object_id": routerId,
					"name":routerId,
					"assigned_to":reqContext.userId,
					"assignment_group":reqContext.groupId,
					"state":"available"
				}
			}
		};
		cloudModelString.push(router);
		return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-11 11:15:50&lt;/sys_created_on&gt;&lt;sys_id&gt;245671b90b4232000747a387b6673a2e&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Router_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_245671b90b4232000747a387b6673a2e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 02:58:30&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1991313790</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96193c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554e50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Router_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>766d7cc5b1bf13003b25a7bb9a6735cf</update_guid>
<update_guid_history>766d7cc5b1bf13003b25a7bb9a6735cf:1991313790,561bdcc5443f1300bfb08966e3fd13f7:1991313790</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_46f501abd722220097eb6ccf6e6103d0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Folders_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>46f501abd722220097eb6ccf6e6103d0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Folders_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_46f501abd722220097eb6ccf6e6103d0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1452738908</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96193f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555860000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Folders_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>766d7cc512bf1300f5cbddf92df41bd6</update_guid>
<update_guid_history>766d7cc512bf1300f5cbddf92df41bd6:1452738908,6e1bdcc5863f1300fff82829d67bb0fe:1452738908</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5679b35e0be622009e620bcb15673a7d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Internet_Gateways_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>5679b35e0be622009e620bcb15673a7d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Internet_Gateways_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5679b35e0be622009e620bcb15673a7d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-2112606308</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961942</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f4e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Internet_Gateways_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>aa6d7cc5ccbf1300011d2778a954f46f</update_guid>
<update_guid_history>aa6d7cc5ccbf1300011d2778a954f46f:-2112606308,4e1bdcc5f93f13003de5b1aad5a1b8b8:-2112606308</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_62f9031c53e232005acfcdaf33dc34a6</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Update_VDisk_Computer&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script&gt;var volumeAttachments = global.JSON.parse(response);&amp;#13;
	var stepObj = global.JSON.parse(step);&amp;#13;
	//get vm instance's sys id&amp;#13;
	var identification = [&amp;#13;
    {&amp;#13;
        "cmdb_ci_vmware_instance":&amp;#13;
        {&amp;#13;
            "identification":&amp;#13;
             {&amp;#13;
                "cmdb_ci_cloud_service_account": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id": cloudServiceAccountId&amp;#13;
                    }&amp;#13;
                },&amp;#13;
                "cmdb_ci_vcenter_datacenter": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id": stepObj.ldcObjectId&amp;#13;
                    }&amp;#13;
                },&amp;#13;
                "cmdb_ci_vmware_instance": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id": volumeAttachments.instanceId&amp;#13;
                    }&amp;#13;
                }&amp;#13;
            }&amp;#13;
        }&amp;#13;
    }&amp;#13;
  ];&amp;#13;
&amp;#13;
  var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();&amp;#13;
  var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");&amp;#13;
  var ci = global.JSON.parse(ciPayload);&amp;#13;
  var nodeSysId = ci.cmdb_ci_vmware_instance.sys_id;&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
var volumeAttachments = global.JSON.parse(response);
var cloudModelString = [];
	var stepObj = global.JSON.parse(step);
	//get vm instance's sys id
	var identification = [
    {
        "cmdb_ci_vmware_instance":
        {
            "identification":
             {
                "cmdb_ci_cloud_service_account": {
                    "criterion": {
                        "object_id": cloudServiceAccountId
                    }
                },
                "cmdb_ci_vcenter_datacenter": {
                    "criterion": {
                        "object_id": stepObj.ldcObjectId
                    }
                },
                "cmdb_ci_vmware_instance": {
                    "criterion": {
                        "object_id": volumeAttachments.instanceId
                    }
                }
            }
        }
    }
  ];

  var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
  var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
  var ci = global.JSON.parse(ciPayload);
  var nodeSysId = ci.cmdb_ci_vmware_instance.sys_id;


var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": stepObj.ldcObjectId
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeAttachments.volumeId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachments.volumeId,
				"computer": nodeSysId
			}
		}
	};
cloudModelString.push(volume);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-01 22:00:36&lt;/sys_created_on&gt;&lt;sys_id&gt;62f9031c53e232005acfcdaf33dc34a6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Update_VDisk_Computer&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_62f9031c53e232005acfcdaf33dc34a6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-01 22:00:36&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-723405727</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961945</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549910000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_VDisk_Computer</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c26d7cc595bf130033db82011639c10d</update_guid>
<update_guid_history>c26d7cc595bf130033db82011639c10d:-723405727,351bdcc5423f1300fdcb579c3440a178:-723405727</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103a7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Hardwares_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-06-22 17:35:22</sys_created_on><sys_id>6df501abd722220097eb6ccf6e6103a7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Hardwares_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103a7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:56</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-43908926</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961948</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557530000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Hardwares_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4b6d7cc5a6bf130093d23b2c224036e9</update_guid>
<update_guid_history>4b6d7cc5a6bf130093d23b2c224036e9:-43908926,e61b1009e43f13004377d1ec024f0813:-43908926</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7a6048440b632200668daac125673a6d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Storage_Volume_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeResponse.volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeResponse.volumeId,
					"volume_id": volumeResponse.volumeId,
					"name": volumeResponse.volumeName,
					"total_size_gb":volumeResponse.size,
					"size_bytes":volumeResponse.size*1024*1024*1024,
					"storage_type":"Block",
					"state":volumeResponse.state,
					"volume_type":volumeResponse.volumeAccessType,
					"assigned_to":reqContext.userId,
					"assignment_group":reqContext.groupId
				},
				"references" : {}
			}
		};

		if(volumeResponse.availabilityZone.length&gt;0){
			var zoneMap = {
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_availability_zone": {
						"criterion": {
							"object_id": volumeResponse.availabilityZone
						}
					}
				},
				"attributes": {
					"object_id": volumeResponse.availabilityZone
				}
			};
			volume.cmdb_ci_storage_volume.references['cmdb_ci_availability_zone'] = zoneMap;
		}
		
		if (!gs.nil(volumeResponse.tags))
			volume["cmdb_ci_storage_volume"].tagValues = global.JSON.stringify(volumeResponse.tags);
		
		cloudModelString.push(volume);
		return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-02 09:33:07&lt;/sys_created_on&gt;&lt;sys_id&gt;7a6048440b632200668daac125673a6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Storage_Volume_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7a6048440b632200668daac125673a6d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-04-20 07:48:14&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1723108424</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96194b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550510000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Storage_Volume_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>266d7cc523bf13003229a1aee394d879</update_guid>
<update_guid_history>266d7cc523bf13003229a1aee394d879:-1723108424,821bdcc5de3f1300150230a36f12e5c3:-1723108424</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8f3d37780b021300ea38812f15673ac0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_LB_Pool&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var poolResponse = global.JSON.parse(response);&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
&amp;#13;
	var elbResponse = global.JSON.parse(response);&amp;#13;
&amp;#13;
	var loadBalancerName = elbResponse.loadBalancerName;&amp;#13;
&amp;#13;
	var lbPoolInfo = {&amp;#13;
		"cmdb_ci_lb_pool": {&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_cloud_load_balancer": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": loadBalancerName&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_lb_pool": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": loadBalancerName+"-Pool"&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": loadBalancerName+"-Pool",&amp;#13;
				"name": loadBalancerName+"-Pool"&amp;#13;
			}&amp;#13;
		}&amp;#13;
	};&amp;#13;
&amp;#13;
	cloudModelString.push(lbPoolInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
&amp;#13;
&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var poolResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);

	var elbResponse = global.JSON.parse(response);

	var loadBalancerName = elbResponse.loadBalancerName;

	var lbPoolInfo = {
		"cmdb_ci_lb_pool": {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_cloud_load_balancer": {
					"criterion": {
						"object_id": loadBalancerName
					}
				},
				"cmdb_ci_lb_pool": {
					"criterion": {
						"object_id": loadBalancerName+"-Pool"
					}
				}
			},
			"attributes": {
				"object_id": loadBalancerName+"-Pool",
				"name": loadBalancerName+"-Pool"
			}
		}
	};

	cloudModelString.push(lbPoolInfo);
	return global.JSON.stringify(cloudModelString);
}
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-05-11 10:52:53&lt;/sys_created_on&gt;&lt;sys_id&gt;8f3d37780b021300ea38812f15673ac0&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_LB_Pool&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8f3d37780b021300ea38812f15673ac0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-11 16:29:22&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>831366342</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96194f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551090000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_LB_Pool</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>6a6d7cc5a1bf130092b54ca69e2e978d</update_guid>
<update_guid_history>6a6d7cc5a1bf130092b54ca69e2e978d:831366342,5a1bdcc5423f1300aca287f9800815cb:831366342</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a04d9a990b1532000747a387b6673aad</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_Network_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
		var networkResp = global.JSON.parse(response);
		var networkInfo = {
			"cmdb_ci_network": {
				"validator":"network_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_network": {
						"criterion": {
							"object_id": networkResp.id
						}
					}
				},
				"attributes": {
					"object_id": networkResp.id,
					"state":"terminated"
				}
			}
		};
	cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-03 18:03:57&lt;/sys_created_on&gt;&lt;sys_id&gt;a04d9a990b1532000747a387b6673aad&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_Network_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a04d9a990b1532000747a387b6673aad&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-19 11:48:51&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-267535861</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961952</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559000000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Delete_Network_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8f6dbcc530bf13006f0c04c7badc790b</update_guid>
<update_guid_history>8f6dbcc530bf13006f0c04c7badc790b:-267535861,3e1b1009563f13008be4795f982a8d43:-267535861</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_b9f886c80b123200668daac125673a03</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Detach_VDisk_Virtual_Server&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeAttachment = global.JSON.parse(response);&amp;#13;
	var stepObj = global.JSON.parse(step);&amp;#13;
	var endPointId = volumeAttachment.volumeId + '_block_endpoint';&amp;#13;
	var volumeAttachInfo = {&amp;#13;
		"cmdb_ci_vmware_instance": {&amp;#13;
			"validator": "volume_detach_vm",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vcenter_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": stepObj.ldcObjectId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vmware_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeAttachment.instanceId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeAttachment.instanceId,&amp;#13;
				"disks": getDiskCount(volumeAttachment.instanceId)&amp;#13;
			},&amp;#13;
			"bindings": [&amp;#13;
				{&amp;#13;
				    "detach_from": {&amp;#13;
					    "used_by": {&amp;#13;
						    "endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
						    "endpoint_identification": {&amp;#13;
						    "object_id": endPointId&amp;#13;
						    }&amp;#13;
						}&amp;#13;
				    }&amp;#13;
				}&amp;#13;
			]&amp;#13;
		}&amp;#13;
	};&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
    function getDiskCount(instanceId){&amp;#13;
		var disks;&amp;#13;
	    var diskCount = new GlideRecord("cmdb_ci_vmware_instance");&amp;#13;
		diskCount.addQuery('object_id',instanceId);&amp;#13;
	    diskCount.query();&amp;#13;
	if (diskCount.next()){ &amp;#13;
		disks = parseInt(diskCount.getValue("disks"))-1;&amp;#13;
	}&amp;#13;
		return disks;&amp;#13;
	}&amp;#13;
	cloudModelString.push(volumeAttachInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var volumeAttachment = global.JSON.parse(response);
	var stepObj = global.JSON.parse(step);
	var endPointId = volumeAttachment.volumeId + '_block_endpoint';
	var volumeAttachInfo = {
		"cmdb_ci_vmware_instance": {
			"validator": "volume_detach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": stepObj.ldcObjectId
					}
				},
				"cmdb_ci_vmware_instance": {
					"criterion": {
						"object_id": volumeAttachment.instanceId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachment.instanceId,
				"disks": getDiskCount(volumeAttachment.instanceId)
			},
			"bindings": [
				{
				    "detach_from": {
					    "used_by": {
						    "endpoint_ci": "cmdb_ci_endpoint_block",
						    "endpoint_identification": {
						    "object_id": endPointId
						    }
						}
				    }
				}
			]
		}
	};
	// Defensive Code to handle Empty Volumes Info
    function getDiskCount(instanceId){
		var disks;
	    var diskCount = new GlideRecord("cmdb_ci_vmware_instance");
		diskCount.addQuery('object_id',instanceId);
	    diskCount.query();
	if (diskCount.next()){ 
		disks = parseInt(diskCount.getValue("disks"))-1;
	}
		return disks;
	}
	cloudModelString.push(volumeAttachInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-18 12:22:49&lt;/sys_created_on&gt;&lt;sys_id&gt;b9f886c80b123200668daac125673a03&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;Detach_VDisk_Virtual_Server&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_b9f886c80b123200668daac125673a03&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-06 12:20:58&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-911342167</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54ae40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Detach_VDisk_Virtual_Server</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>5a6d7cc51bbf130056e16b079e299e18</update_guid>
<update_guid_history>5a6d7cc51bbf130056e16b079e299e18:-911342167,f51bdcc5b43f13002af955b3d46f5384:-911342167</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d5f5cd6bd722220097eb6ccf6e61034e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Nodes_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	var rps = new sn_cmp_api.ResponseProcessorScript();&amp;#13;
	var responseToProcess = rps.extractResponse(response);&amp;#13;
	var responseObject = global.JSON.parse(responseToProcess);	&amp;#13;
&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
												  null, //don't pass in LDC as it can be different for azure&amp;#13;
												  'Azure API',&amp;#13;
												  {"correlationId": correlationId,&amp;#13;
												   "step": step,&amp;#13;
												   "requestorContext": requestorContext,&amp;#13;
												   "stackId": stackId});&amp;#13;
	&amp;#13;
	var cloudModelObject = &amp;#13;
		responseProcessor.processResponseArray(responseObject,&amp;#13;
											   'Microsoft.Compute/virtualMachines',&amp;#13;
											   'virtual_machine_create_update_validator');&amp;#13;
	&amp;#13;
	var volumesPerLocation = {};&amp;#13;
	for (var i=0; i&amp;lt;responseObject.length; i++) {&amp;#13;
		var vm = responseObject[i];&amp;#13;
		var storageVolumes = [];&amp;#13;
		var dataDisks = vm.properties.storageProfile.dataDisks;&amp;#13;
		if (dataDisks) {&amp;#13;
			for (var index=0; index&amp;lt;dataDisks.length; index++) {&amp;#13;
				var storageVolume = {};&amp;#13;
				var dataDisk = dataDisks[index];&amp;#13;
				storageVolume.Name = dataDisk.name;&amp;#13;
				storageVolume.Properties = {};&amp;#13;
				storageVolume.Properties.LeaseState = 'leased';&amp;#13;
				if (!dataDisk.managedDisk)&amp;#13;
					continue;&amp;#13;
				storageVolume.id = dataDisk.managedDisk.id;&amp;#13;
				storageVolume.Properties["Content-Length"] = dataDisk.diskSizeGB*1024*1024*1024;&amp;#13;
				storageVolume.Properties.BlobType = "PageBlob";&amp;#13;
				storageVolume.containerName = "";&amp;#13;
				storageVolume.storageAccount = "";&amp;#13;
				storageVolumes.push(storageVolume);&amp;#13;
			}		&amp;#13;
		}&amp;#13;
		var osDisk = vm.properties.storageProfile.osDisk;&amp;#13;
		if (osDisk.managedDisk) {&amp;#13;
			var osVolume = {};&amp;#13;
			osVolume.Name = osDisk.name;&amp;#13;
			osVolume.Properties = {};&amp;#13;
			osVolume.Properties.LeaseState = 'leased';&amp;#13;
			osVolume.id = osDisk.managedDisk.id;&amp;#13;
			osVolume.Properties["Content-Length"] = osDisk.diskSizeGB*1024*1024*1024;&amp;#13;
			osVolume.Properties.BlobType = "PageBlob";&amp;#13;
			osVolume.containerName = "";&amp;#13;
			osVolume.storageAccount = "";&amp;#13;
			storageVolumes.push(osVolume);&amp;#13;
		}&amp;#13;
		&amp;#13;
		var location = vm.location;&amp;#13;
		if (!volumesPerLocation[location])&amp;#13;
			volumesPerLocation[location] = [];&amp;#13;
		volumesPerLocation[location] = volumesPerLocation[location].concat(storageVolumes);&amp;#13;
	}&amp;#13;
	&amp;#13;
	for (var volumeLocation in volumesPerLocation) {&amp;#13;
		var volumes = volumesPerLocation[volumeLocation];&amp;#13;
		if (volumes) {&amp;#13;
			responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
													  volumeLocation,&amp;#13;
													  'Azure API',&amp;#13;
													  {"correlationId": correlationId,&amp;#13;
													   "step": step,&amp;#13;
													   "requestorContext": requestorContext,&amp;#13;
													   "stackId": stackId});&amp;#13;
&amp;#13;
			cloudModelObject = cloudModelObject.concat(&amp;#13;
				responseProcessor.processResponseArray(volumes,&amp;#13;
													   'Microsoft.Storage/blobs',&amp;#13;
													   'storage_blob_create_update_validator'));&amp;#13;
		}		&amp;#13;
	}&amp;#13;
	gs.info("cloudModelObjectVM|"+JSON.stringify(cloudModelObject));&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
 }&amp;#13;
		&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Compute/virtualMachines',
											   'virtual_machine_create_update_validator');
	
	var volumesPerLocation = {};
	for (var i=0; i&lt;responseObject.length; i++) {
		var vm = responseObject[i];
		var storageVolumes = [];
		var dataDisks = vm.properties.storageProfile.dataDisks;
		if (dataDisks) {
			for (var index=0; index&lt;dataDisks.length; index++) {
				var storageVolume = {};
				var dataDisk = dataDisks[index];
				storageVolume.Name = dataDisk.name;
				storageVolume.Properties = {};
				storageVolume.Properties.LeaseState = 'leased';
				if (!dataDisk.managedDisk)
					continue;
				storageVolume.id = dataDisk.managedDisk.id;
				storageVolume.Properties["Content-Length"] = dataDisk.diskSizeGB*1024*1024*1024;
				storageVolume.Properties.BlobType = "PageBlob";
				storageVolume.containerName = "";
				storageVolume.storageAccount = "";
				storageVolumes.push(storageVolume);
			}		
		}
		var osDisk = vm.properties.storageProfile.osDisk;
		if (osDisk.managedDisk) {
			var osVolume = {};
			osVolume.Name = osDisk.name;
			osVolume.Properties = {};
			osVolume.Properties.LeaseState = 'leased';
			osVolume.id = osDisk.managedDisk.id;
			osVolume.Properties["Content-Length"] = osDisk.diskSizeGB*1024*1024*1024;
			osVolume.Properties.BlobType = "PageBlob";
			osVolume.containerName = "";
			osVolume.storageAccount = "";
			storageVolumes.push(osVolume);
		}
		
		var location = vm.location;
		if (!volumesPerLocation[location])
			volumesPerLocation[location] = [];
		volumesPerLocation[location] = volumesPerLocation[location].concat(storageVolumes);
	}
	
	for (var volumeLocation in volumesPerLocation) {
		var volumes = volumesPerLocation[volumeLocation];
		if (volumes) {
			responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
													  volumeLocation,
													  'Azure API',
													  {"correlationId": correlationId,
													   "step": step,
													   "requestorContext": requestorContext,
													   "stackId": stackId});

			cloudModelObject = cloudModelObject.concat(
				responseProcessor.processResponseArray(volumes,
													   'Microsoft.Storage/blobs',
													   'storage_blob_create_update_validator'));
		}		
	}
	
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;system&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-12-06 19:47:07&lt;/sys_created_on&gt;&lt;sys_id&gt;d5f5cd6bd722220097eb6ccf6e61034e&lt;/sys_id&gt;&lt;sys_mod_count&gt;58&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Nodes_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_d5f5cd6bd722220097eb6ccf6e61034e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-12-07 00:23:43&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-902001653</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d961958</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559870000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Nodes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>476dbcc55fbf13007235ef83d39c581f</update_guid>
<update_guid_history>476dbcc55fbf13007235ef83d39c581f:-902001653,7a1b1009863f13008e7cd7d5c160fc70:-902001653</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_e9ea1d0d873803008de7483cf6cb0b6a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Assign_Tag_Policy&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	var rps = new sn_cmp_api.ResponseProcessorScript();&amp;#13;
	var responseToProcess = rps.extractResponse(response);&amp;#13;
	var responseObject = global.JSON.parse(responseToProcess);	&amp;#13;
	&amp;#13;
	var error = responseObject.error;&amp;#13;
	if (error) {&amp;#13;
		var statusMessageSummary = gs.getMessage("Error assigning tag policy to resource group");&amp;#13;
		var errorMessage = error + '';
		var statusMessageDetails = gs.getMessage('{0}', errorMessage);&amp;#13;
		createCloudTrail(statusMessageSummary,statusMessageDetails, stackId);&amp;#13;
	}&amp;#13;
	&amp;#13;
	return '[]';&amp;#13;
 }&amp;#13;
&amp;#13;
function createCloudTrail(statusMessageSummary,statusMessageDetails, stackId) {&amp;#13;
	var trailer = new sn_cmp_api.CloudTrailServiceScript();&amp;#13;
	var message = {};&amp;#13;
	message.statusMessageSummary = statusMessageSummary;&amp;#13;
	message.statusMessageDetails = statusMessageDetails;&amp;#13;
	message.messageType = '3'; //Warn&amp;#13;
	message.milestone = false;&amp;#13;
	message.step = 'Handle Cloud API Response';&amp;#13;
	message.orderId = fetchOrderId(stackId);&amp;#13;
	var trailMessage = global.JSON.stringify(message);&amp;#13;
	trailer.createTrail(trailMessage);			&amp;#13;
}&amp;#13;
&amp;#13;
function fetchOrderId(stackId) {&amp;#13;
	var orderGr = new GlideRecord('sn_cmp_order');&amp;#13;
	orderGr.addQuery('stack.sys_id', stackId);&amp;#13;
	orderGr.query();&amp;#13;
&amp;#13;
	if (orderGr.next())&amp;#13;
		return '' + orderGr.sys_id;&amp;#13;
&amp;#13;
	return '';&amp;#13;
}&amp;#13;
		&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	
	
	var error = responseObject.error;
	if (error) {
		var statusMessageSummary = gs.getMessage("Error assigning tag policy to resource group");
		var errorMessage = error + '';
		var statusMessageDetails = gs.getMessage('{0}', errorMessage);
		createCloudTrail(statusMessageSummary,statusMessageDetails, stackId);
	}
	
	return '[]';
 }

function createCloudTrail(statusMessageSummary,statusMessageDetails, stackId) {
	var trailer = new sn_cmp_api.CloudTrailServiceScript();
	var message = {};
	message.statusMessageSummary = statusMessageSummary;
	message.statusMessageDetails = statusMessageDetails;
	message.messageType = '3'; //Warn
	message.milestone = false;
	message.step = 'Handle Cloud API Response';
	message.orderId = fetchOrderId(stackId);
	var trailMessage = global.JSON.stringify(message);
	trailer.createTrail(trailMessage);			
}

function fetchOrderId(stackId) {
	var orderGr = new GlideRecord('sn_cmp_order');
	orderGr.addQuery('stack.sys_id', stackId);
	orderGr.query();

	if (orderGr.next())
		return '' + orderGr.sys_id;

	return '';
}
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-23 18:24:21&lt;/sys_created_on&gt;&lt;sys_id&gt;e9ea1d0d873803008de7483cf6cb0b6a&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Assign_Tag_Policy&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_e9ea1d0d873803008de7483cf6cb0b6a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-04-16 16:31:18&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-424248476</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>576dbcc5dbbf1300786ff1351d96195b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559ca0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure_Assign_Tag_Policy</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4f6dbcc525bf1300f99ea158470ee322</update_guid>
<update_guid_history>4f6dbcc525bf1300f99ea158470ee322:-424248476,761b1009c53f1300c5c39f1653b6de74:-424248476</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_e342c579931813004a9032bfa67ffb1f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Deprovision">cf618d39931813004a9032bfa67ffb0a</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>credential</name><order>50</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Credential</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference>discovery_credentials</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:45</sys_created_on><sys_id>e342c579931813004a9032bfa67ffb1f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Credential</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_e342c579931813004a9032bfa67ffb1f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:45</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=e342c579931813004a9032bfa67ffb1f"/><fx_price action="delete_multiple" query="id=e342c579931813004a9032bfa67ffb1f"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>e342c579931813004a9032bfa67ffb1f</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:45</sys_created_on><sys_id>ef42c579931813004a9032bfa67ffb20</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:45</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>e342c579931813004a9032bfa67ffb1f</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:45</sys_created_on><sys_id>a742c579931813004a9032bfa67ffb20</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:45</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-296201193</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96192b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5464c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Credential</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>796d3cc5adbf1300f9c71cb3c7bf9bcc</update_guid>
<update_guid_history>796d3cc5adbf1300f9c71cb3c7bf9bcc:-296201193,611bdcc5323f13009b5eb08d25173d4e:-296201193</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_endpoint_mapping_d8b0232a0bf722009e620bcb15673acd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_endpoint_mapping"><sn_cmp_rb_endpoint_mapping action="INSERT_OR_UPDATE"><binding_resource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</binding_resource><endpoint>cmdb_ci_endpoint_block</endpoint><op_impl display_value="Storage Volume Detach Virtual Server">1f704c440b632200668daac125673aca</op_impl><op_impl_type>2</op_impl_type><source_resource display_value="Storage Volume">266048440b632200668daac125673a63</source_resource><sys_class_name>sn_cmp_rb_endpoint_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-23 06:33:50</sys_created_on><sys_id>d8b0232a0bf722009e620bcb15673acd</sys_id><sys_mod_count>3</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_endpoint_mapping_d8b0232a0bf722009e620bcb15673acd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-23 07:03:10</sys_updated_on></sn_cmp_rb_endpoint_mapping></record_update>]]></payload>
<payload_hash>1169011176</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96192e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd543220000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Endpoint Operation Mapping</type>
<update_domain>global</update_domain>
<update_guid>3d6d3cc56bbf130006b20333bf0e40b5</update_guid>
<update_guid_history>3d6d3cc56bbf130006b20333bf0e40b5:1169011176,651bdcc5f43f1300fb47294167350936:1169011176</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_4679b35e0be622009e620bcb15673a5c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="LB Server Interface">c679b35e0be622009e620bcb15673a2c</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>4679b35e0be622009e620bcb15673a5c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_4679b35e0be622009e620bcb15673a5c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-1915306498</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961931</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54cf60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>9e6d7cc566bf1300d6af5745d0d03e26</update_guid>
<update_guid_history>9e6d7cc566bf1300d6af5745d0d03e26:-1915306498,c21bdcc5a83f1300842e63ca3ae111a0:-1915306498</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_op_cat_map_0543c84067b132005ca552e457415aad</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_op_cat_map"><sn_cmp_rb_op_cat_map action="INSERT_OR_UPDATE"><cat_item display_value="Virtual Server - Stop">3a114939931813004a9032bfa67ffb9d</cat_item><operation display_value="Stop">856a7bde0be622009e620bcb15673a14</operation><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_op_cat_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-03-24 06:07:06</sys_created_on><sys_id>0543c84067b132005ca552e457415aad</sys_id><sys_mod_count>3</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy>read</sys_policy><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_op_cat_map_0543c84067b132005ca552e457415aad</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:02:38</sys_updated_on></sn_cmp_rb_op_cat_map></record_update>]]></payload>
<payload_hash>877571319</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961934</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd543360000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Resource operation catalog mapping</type>
<update_domain>global</update_domain>
<update_guid>7d6d3cc569bf13009014c0f390e863b6</update_guid>
<update_guid_history>7d6d3cc569bf13009014c0f390e863b6:877571319,e51bdcc5933f1300e0ddf5365b932437:877571319</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0446d5d19f58320048111f80a57fcf8f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Provision_ARM_Template&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new AzureARMResponseProcessor();
	processor.topLevel(true);
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var processedResponses = processor.processResponse(responseObj, cloudServiceAccountId, ldc, 
													   correlationId, step, requestorContext, stackId);
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-12 19:50:40&lt;/sys_created_on&gt;&lt;sys_id&gt;0446d5d19f58320048111f80a57fcf8f&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Provision_ARM_Template&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_0446d5d19f58320048111f80a57fcf8f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-18 15:15:22&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1897614650</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961937</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554930000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Provision_ARM_Template</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7e6d7cc5dcbf13008dcc87b874e895cb</update_guid>
<update_guid_history>7e6d7cc5dcbf13008dcc87b874e895cb:-1897614650,5a1bdcc53d3f1300e89bfece022296f3:-1897614650</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1a79b35e0be622009e620bcb15673a8e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_LBs</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>1a79b35e0be622009e620bcb15673a8e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_LBs</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_1a79b35e0be622009e620bcb15673a8e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-126947140</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96193a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54de10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_LBs</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>9a6d7cc5e5bf13005d8df38e248dce31</update_guid>
<update_guid_history>9a6d7cc5e5bf13005d8df38e248dce31:-126947140,ca1bdcc5d33f13007401c8fb00de6bab:-126947140</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_204bd46867f80300a7526c706785ef50</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Launch_Config_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	
	var cloudModelString = [];
	var launchConfigResponse = global.JSON.parse(response);

	//Checking whether CAPI returned valid Response
	if(!(isEmpty(launchConfigResponse))){	
		if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult))){
			if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations))){
				if(!(isEmpty(launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations.member))){
				
				var launchConfigInfo = launchConfigResponse.DescribeLaunchConfigurationsResult.LaunchConfigurations.member;
				var imageIdTrim = launchConfigInfo.ImageId.substring(launchConfigInfo.ImageId.indexOf("/")+1,launchConfigInfo.ImageId.length);
				var hardwareId = launchConfigInfo.InstanceType;
				var monitoring = false;
				if(!(isEmpty(launchConfigInfo.InstanceMonitoring)))
					if(!(isEmpty(launchConfigInfo.InstanceMonitoring.Enabled)))
						monitoring = launchConfigInfo.InstanceMonitoring.Enabled;
					
				var launchConfigResult ={
					"cmdb_ci_sa_launch_config": {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_sa_launch_config": {
								"criterion": {
									"object_id": launchConfigInfo.LaunchConfigurationName
								}
							}
						},
						"attributes": {
							"name": launchConfigInfo.LaunchConfigurationName,
							"object_id": launchConfigInfo.LaunchConfigurationName,
							"launch_config_arn": launchConfigInfo.LaunchConfigurationARN,
							"kernel_id": launchConfigInfo.KernelId,
							"ram_disk_id": launchConfigInfo.RamdiskId,
							"ebs_optimized": launchConfigInfo.EbsOptimized,
							"user_data": launchConfigInfo.UserData,
							"monitoring": monitoring
						},
						"references": {
							"cmdb_ci_os_template": {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_aws_datacenter": {
										"criterion": {
											"object_id": ldc
										}
									},
									"cmdb_ci_os_template": {
										"criterion": {
											"object_id": imageIdTrim
										}
									}
								},
								"attributes": {
									"object_id": imageIdTrim
								}
							},
							"cmdb_ci_compute_template": {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_aws_datacenter": {
										"criterion": {
											"object_id": ldc
										}
									},
									"cmdb_ci_compute_template": {
										"criterion": {
											"object_id": hardwareId
										}
									}
								},
								"attributes": {
									"object_id": hardwareId
								}
							}
						}
					}
				};
				launchConfigResult.cmdb_ci_sa_launch_config["relationships"] = {};

				var securityGrpMapArr = [];
				//Checking If Object named "SecurityGroups" exists in the CAPI response
				if(!(isEmpty(launchConfigInfo.SecurityGroups))){
					//Checking If Object named "member" exists in the "SecurityGroups" object of CAPI response
					if(!(isEmpty(launchConfigInfo.SecurityGroups.member))){
						securityGrpMapArr = convertMapToList(launchConfigInfo.SecurityGroups.member);

						if(securityGrpMapArr.length&gt;0){
							launchConfigResult.cmdb_ci_sa_launch_config.relationships['cmdb_ci_compute_security_group'] = [];
							
							for(var j=0;j&lt;securityGrpMapArr.length;j++){
								var securityGroupMapping = {
									  "identification": {
											"cmdb_ci_cloud_service_account": {
												"criterion": {
													"object_id": cloudServiceAccountId
												}
											},
											"cmdb_ci_aws_datacenter": {
												"criterion": {
													"object_id": ldc
													}
												},
											"cmdb_ci_sa_launch_config": {
												"criterion": {
													"object_id": launchConfigInfo.LaunchConfigurationName
												}
											},
											"cmdb_ci_compute_security_group": {
												"criterion": {
													"object_id": securityGrpMapArr[j]
												}
											}
										},
										"attributes": {
											"object_id": securityGrpMapArr[j]
										}
								};
								launchConfigResult.cmdb_ci_sa_launch_config.relationships.cmdb_ci_compute_security_group.push(securityGroupMapping);
							}
						}
					}
				}
				cloudModelString.push(launchConfigResult);
			}
			}
		}
	}
	return global.JSON.stringify(cloudModelString);
}


//Following Function converts Map to List
function convertMapToList(value){
	if(!(Array.isArray(value))){
		//Converting to List to Map
		var loadList = [];
		loadList.push(value);
		return loadList;
	}
	else
		return value;
}

//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)
function isEmpty(value){
  return (value == null || value.length === 0);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-22 00:18:06&lt;/sys_created_on&gt;&lt;sys_id&gt;204bd46867f80300a7526c706785ef50&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Launch_Config_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_204bd46867f80300a7526c706785ef50&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-22 07:08:48&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1529009260</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96193b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54e2b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Launch_Config_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>166d7cc514bf130009558e71e6104b34</update_guid>
<update_guid_history>166d7cc514bf130009558e71e6104b34:1529009260,0a1bdcc5233f13004d2b53f66281a7ae:1529009260</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_431a4ec80b123200668daac125673a8d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_VDisk_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var stepObj = global.JSON.parse(step);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "storage_volume_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": stepObj.ldcObjectId
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeResponse.volumeId
					}
				}
			},
			"attributes": {
				"object_id": volumeResponse.volumeId,
				"volume_id": volumeResponse.volumeId,
				"state": "terminated"
			}
		}
	};
	cloudModelString.push(volume);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-18 12:28:17&lt;/sys_created_on&gt;&lt;sys_id&gt;431a4ec80b123200668daac125673a8d&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_VDisk_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_431a4ec80b123200668daac125673a8d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-20 11:07:28&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1137141929</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96193e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548f30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_VDisk_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>466d3cc5b6bf1300f0d1323b9fe8b5ed</update_guid>
<update_guid_history>466d3cc5b6bf1300f0d1323b9fe8b5ed:-1137141929,3d1bdcc5633f130082dd7de0f2debf70:-1137141929</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_54c9c1360b632200e937c97193673abb</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Hardwares_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var json = new global.JSON();
	var responseObject = json.decode(response);
	var stepObject = json.decode(step);
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId,stepObject.ldcObjectId, 'Cloud API');
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'VMware::VirtualMachine::InstanceType',
											   'compute_template_create_validator');
	return json.encode(cloudModelObject);	
}
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-11 03:56:50&lt;/sys_created_on&gt;&lt;sys_id&gt;54c9c1360b632200e937c97193673abb&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Hardwares_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_54c9c1360b632200e937c97193673abb&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-22 01:25:12&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2081051755</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961941</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5493e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Hardwares_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4e6d3cc5e6bf130005c66b091f1afbf0</update_guid>
<update_guid_history>4e6d3cc5e6bf130005c66b091f1afbf0:-2081051755,391bdcc5db3f13003f73e03aafaba374:-2081051755</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5df501abd722220097eb6ccf6e6103a4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Images_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>5df501abd722220097eb6ccf6e6103a4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Images_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5df501abd722220097eb6ccf6e6103a4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:56</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1925380968</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961944</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5568d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Images_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4f6d7cc55cbf13009913ff1c751c56e0</update_guid>
<update_guid_history>4f6d7cc55cbf13009913ff1c751c56e0:-1925380968,621b1009fe3f13004f74891e49402c0a:-1925380968</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_68cffb510b913200dbe7aac125673ae9</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_VDisk_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var stepObj = global.JSON.parse(step);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": stepObj.ldcObjectId
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeResponse.volumeId
					}
				}
			},
			"attributes": {
				"object_id": volumeResponse.volumeId,
				"volume_id": volumeResponse.volumeId,
				"name": volumeResponse.volumeName,
				"total_size_gb":volumeResponse.size,
				"size_bytes":volumeResponse.size*1024*1024*1024,
				"storage_type":"VMware vdisk",
				"state":volumeResponse.state,
				"volume_type":volumeResponse.volumeAccessType,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			}
		}
	};
	cloudModelString.push(volume);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-04 01:11:32&lt;/sys_created_on&gt;&lt;sys_id&gt;68cffb510b913200dbe7aac125673ae9&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_VDisk_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_68cffb510b913200dbe7aac125673ae9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-20 11:25:32&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1427240682</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961947</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549d50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_VDisk_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4e6d7cc57abf1300784b67a4656a020f</update_guid>
<update_guid_history>4e6d7cc57abf1300784b67a4656a020f:-1427240682,711bdcc5633f13009a842d749dd34b7b:-1427240682</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103c1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Network_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>75f501abd722220097eb6ccf6e6103c1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Network_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103c1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1960807326</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96194a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557e20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Network_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8f6d7cc531bf1300ed89dcf157ad64fd</update_guid>
<update_guid_history>8f6d7cc531bf1300ed89dcf157ad64fd:-1960807326,ae1b1009213f1300c32e89e0daed081b:-1960807326</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8279b35e0be622009e620bcb15673a6c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Security_Groups_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>8279b35e0be622009e620bcb15673a6c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Security_Groups_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_8279b35e0be622009e620bcb15673a6c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1365999758</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96194d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550940000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Security_Groups_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>226d7cc5fcbf1300f461691d3d3c247b</update_guid>
<update_guid_history>226d7cc5fcbf1300f461691d3d3c247b:-1365999758,021bdcc5d83f13002b85ed79603bf1c5:-1365999758</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8ac8b8c10b203200668daac125673aa8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_node_creds_and_associate_to_mgmt_creds_response_processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var vmResponse = global.JSON.parse(response);
	
	var identification = [
	{
		"cmdb_ci_vm_instance":
		{
			"identification":
			{
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id":ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": vmResponse.nodeId
					}
				}
			}
		}
	}
	];
	
	var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
	var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
	var ci = global.JSON.parse(ciPayload);
	var nodeSysId = ci.cmdb_ci_vm_instance.sys_id;
	var userId = vmResponse.userId;
	var password = vmResponse.password;
	
	if (userId) {
		var nodeGenScript = new global.GenerateNodeCredentials();
		var nodeCredId = nodeGenScript.generateNodeCredential(nodeSysId, vmResponse.nodeId, userId);
		gs.info("Node Credential ID in Response Processor - " + nodeCredId);
		
		var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
		sshKeyScript.associateToNode(nodeCredId, nodeSysId);
		
		if(password)
			var nodeUserCredId = sshKeyScript.createNodeUserCredential(vmResponse.nodeId, userId, password, nodeSysId);
	}
	
	return global.JSON.stringify([]);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-24 09:16:25&lt;/sys_created_on&gt;&lt;sys_id&gt;8ac8b8c10b203200668daac125673aa8&lt;/sys_id&gt;&lt;sys_mod_count&gt;30&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_node_creds_and_associate_to_mgmt_creds_response_processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8ac8b8c10b203200668daac125673aa8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-25 07:51:49&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1195823522</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96194e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542240000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_node_creds_and_associate_to_mgmt_creds_response_processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ad6d3cc519bf1300c01585e6e51a2da9</update_guid>
<update_guid_history>ad6d3cc519bf1300c01585e6e51a2da9:-1195823522,991bdcc5a83f130078f31a8cc3f67329:-1195823522</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9a79b35e0be622009e620bcb15673a91</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_AvailabilityZones_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[ function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var availabiltyZonesArray = global.JSON.parse(response);
	for (var i = 0; i &lt; availabiltyZonesArray.length; i++) {
 		var image = {
 			"cmdb_ci_availability_zone": {
				"validator": "availability_zone_create_validator",
 				"validator_overrides": { },
				"identification": {
 					"cmdb_ci_cloud_service_account": {
 						"criterion": {
 							"account_id": cloudServiceAccountId
 						}
 					},
 					"cmdb_ci_aws_datacenter": {
 						"criterion": {
 							"region": ldc
						}
 					},
 					"cmdb_ci_availability_zone": {
 						"criterion": {
 							"object_id": availabiltyZonesArray[i].availabilityZone
 						}
 					}
 				},
 				"attributes": {
 					"name": availabiltyZonesArray[i].availabilityZone,
					"object_id": availabiltyZonesArray[i].availabilityZone
 				}
 			}
 		}
 		cloudModelString.push(image);
 	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;9a79b35e0be622009e620bcb15673a91&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_AvailabilityZones_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_9a79b35e0be622009e620bcb15673a91&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-01-22 01:42:14&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-556324603</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961951</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551e50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_AvailabilityZones_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>6a6d7cc58abf13007233058cf8152594</update_guid>
<update_guid_history>6a6d7cc58abf13007233058cf8152594:-556324603,521bdcc5353f130066759dcd6e8107d3:-556324603</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_b24a37de0be622009e620bcb15673aa2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Start_Virtual_Server_Response_Processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	&amp;#13;
	var rawResponseObject = global.JSON.parse(response);&amp;#13;
	var responseObject;&amp;#13;
	if (rawResponseObject.hasOwnProperty('successfullyDone'))&amp;#13;
		responseObject = rawResponseObject.successfullyDone;&amp;#13;
	else&amp;#13;
		responseObject = rawResponseObject;&amp;#13;
		&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
														 ldc, &amp;#13;
														 'Cloud API',&amp;#13;
														 {"correlationId": correlationId,&amp;#13;
														  "step": step,&amp;#13;
														  "requestorContext": requestorContext,&amp;#13;
														  "stackId": stackId});&amp;#13;
	&amp;#13;
	var cloudModelObject = &amp;#13;
		responseProcessor.processResponseArray(responseObject,&amp;#13;
											   '',&amp;#13;
											   'virtual_machine_create_update_validator', &amp;#13;
											   '',&amp;#13;
											   'cmdb_ci_vm_instance');&amp;#13;
	responseObject = [].concat(responseObject);&amp;#13;
	for (var index=0; index&amp;lt;responseObject.length; index++) {&amp;#13;
		var object = responseObject[index];&amp;#13;
		var networkInterfaces = object.networkInterfaces;&amp;#13;
		if (networkInterfaces) {&amp;#13;
			var nicObject = responseProcessor.processResponseArray(networkInterfaces,&amp;#13;
											   '',&amp;#13;
											   'nic_create_validator',&amp;#13;
											   '',&amp;#13;
											   'cmdb_ci_nic');&amp;#13;
			cloudModelObject = cloudModelObject.concat(nicObject);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
 }&amp;#13;
		&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	
	var rawResponseObject = global.JSON.parse(response);
	var responseObject;
	if (rawResponseObject.hasOwnProperty('successfullyDone'))
		responseObject = rawResponseObject.successfullyDone;
	else
		responseObject = rawResponseObject;
		
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
														 ldc, 
														 'Cloud API',
														 {"correlationId": correlationId,
														  "step": step,
														  "requestorContext": requestorContext,
														  "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   '',
											   'virtual_machine_create_update_validator', 
											   '',
											   'cmdb_ci_vm_instance');
	responseObject = [].concat(responseObject);
	for (var index=0; index&lt;responseObject.length; index++) {
		var object = responseObject[index];
		var networkInterfaces = object.networkInterfaces;
		if (networkInterfaces) {
			var nicObject = responseProcessor.processResponseArray(networkInterfaces,
											   '',
											   'nic_create_validator',
											   '',
											   'cmdb_ci_nic');
			cloudModelObject = cloudModelObject.concat(nicObject);
		}
	}
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:28:23&lt;/sys_created_on&gt;&lt;sys_id&gt;b24a37de0be622009e620bcb15673aa2&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start_Virtual_Server_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_b24a37de0be622009e620bcb15673aa2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-08 11:35:45&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>224223265</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5424c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Start_Virtual_Server_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a96d3cc516bf130057611a830cdbb9ab</update_guid>
<update_guid_history>a96d3cc516bf130057611a830cdbb9ab:224223265,191bdcc5b23f1300cdb7aec4ae19132b:224223265</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d20c4e3967f00300a7526c706785ef44</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_Server_Array_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	
	var cloudModelString = [];
	var serverArrayResponse = global.JSON.parse(response);
	
	var serverArrayInfo ={
		"cmdb_ci_sa_server_array": {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_sa_server_array": {
					"criterion": {
						"object_id": serverArrayResponse.AutoScalingGroupName
					}
				}
			},
			"attributes": {
				"object_id": serverArrayResponse.AutoScalingGroupName,
				"status": "8"       //Terminated
			}
		}
	};
	
	cloudModelString.push(serverArrayInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-26 05:42:20&lt;/sys_created_on&gt;&lt;sys_id&gt;d20c4e3967f00300a7526c706785ef44&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_Server_Array_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_d20c4e3967f00300a7526c706785ef44&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-26 06:22:15&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>226168716</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d961957</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552c80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Delete_Server_Array_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>b66d7cc5cfbf130038f028a8b8eb65ac</update_guid>
<update_guid_history>b66d7cc5cfbf130038f028a8b8eb65ac:226168716,161bdcc5993f13006a11f98e468dbfdf:226168716</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_e0c9c1360b632200e937c97193673ad1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_CustomizationSpecs_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>e0c9c1360b632200e937c97193673ad1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_CustomizationSpecs_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_e0c9c1360b632200e937c97193673ad1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>557075435</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96195a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54bea0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_CustomizationSpecs_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>da6d7cc51dbf1300a8d11451a7c24d1e</update_guid>
<update_guid_history>da6d7cc51dbf1300a8d11451a7c24d1e:557075435,311bdcc5fa3f1300cd08489b0784908b:557075435</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rsrc_opr_cat_item_cf618d39931813004a9032bfa67ffb0a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rsrc_opr_cat_item"><sn_cmp_rsrc_opr_cat_item action="INSERT_OR_UPDATE"><active>true</active><availability>on_desktop</availability><billable>false</billable><category/><cost>0</cost><custom_cart/><delivery_plan/><delivery_plan_script/><delivery_time>1970-01-03 00:00:00</delivery_time><description/><entitlement_script/><group/><hide_sp>false</hide_sp><icon/><ignore_price>true</ignore_price><image/><list_price>0</list_price><location/><meta/><mobile_hide_price>false</mobile_hide_price><mobile_picture/><mobile_picture_type>use_no_picture</mobile_picture_type><model/><name>Virtual Server - Deprovision</name><no_cart>false</no_cart><no_order>false</no_order><no_order_now>false</no_order_now><no_proceed_checkout>false</no_proceed_checkout><no_quantity>false</no_quantity><no_search>false</no_search><omit_price>false</omit_price><order>0</order><ordered_item_link/><picture/><preview>JavaScript: popupOpenStandard("com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;sysparm_id=cf618d39931813004a9032bfa67ffb0a&amp;sysparm_preview=true", "summary");</preview><price>0</price><recurring_frequency/><recurring_price>0</recurring_price><roles/><sc_catalogs/><sc_ic_item_staging/><sc_ic_version/><short_description>Are you sure you want to perform this operation?</short_description><show_variable_help_on_load>false</show_variable_help_on_load><start_closed>false</start_closed><sys_class_name>sn_cmp_rsrc_opr_cat_item</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:55:54</sys_created_on><sys_id>cf618d39931813004a9032bfa67ffb0a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Virtual Server - Deprovision</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy>read</sys_policy><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rsrc_opr_cat_item_cf618d39931813004a9032bfa67ffb0a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:55:54</sys_updated_on><template/><type>item</type><use_sc_layout>true</use_sc_layout><vendor/><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><workflow display_value="Cloud Resource Operation Request">c61355e3875032003273f4bbe3e3ec2d</workflow></sn_cmp_rsrc_opr_cat_item><sys_translated_text action="delete_multiple" query="documentkey=cf618d39931813004a9032bfa67ffb0a"/><fx_price action="delete_multiple" query="id=cf618d39931813004a9032bfa67ffb0a"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price</field><id>cf618d39931813004a9032bfa67ffb0a</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:55:54</sys_created_on><sys_id>cb618d39931813004a9032bfa67ffb0b</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:55:54</sys_updated_on><table>sn_cmp_rsrc_opr_cat_item</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>recurring_price</field><id>cf618d39931813004a9032bfa67ffb0a</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:55:54</sys_created_on><sys_id>07618d39931813004a9032bfa67ffb0c</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:55:54</sys_updated_on><table>sn_cmp_rsrc_opr_cat_item</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>2129652508</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>5b6dbcc5dbbf1300786ff1351d96195d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545a20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Virtual Server - Deprovision</target_name>
<type>Resource Operation Catalog Item</type>
<update_domain>global</update_domain>
<update_guid>f56d3cc5bdbf130078ca01aff5f11ac4</update_guid>
<update_guid_history>f56d3cc5bdbf130078ca01aff5f11ac4:2129652508,a91bdcc52a3f1300d92614864e06c945:2129652508</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_9a81cd39931813004a9032bfa67ffbe9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Stop">3a114939931813004a9032bfa67ffb9d</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceBlock</name><order>10</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Block</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:56:23</sys_created_on><sys_id>9a81cd39931813004a9032bfa67ffbe9</sys_id><sys_mod_count>2</sys_mod_count><sys_name>Resource Block</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_9a81cd39931813004a9032bfa67ffbe9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:56:45</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=9a81cd39931813004a9032bfa67ffbe9"/><fx_price action="delete_multiple" query="id=9a81cd39931813004a9032bfa67ffbe9"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>9a81cd39931813004a9032bfa67ffbe9</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:56:23</sys_created_on><sys_id>16810179931813004a9032bfa67ffba6</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:56:23</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>9a81cd39931813004a9032bfa67ffbe9</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:56:23</sys_created_on><sys_id>da810179931813004a9032bfa67ffba5</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:56:23</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-408548432</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d96192a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545540000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Block</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>bd6d3cc5f7bf1300ea064828e69548c0</update_guid>
<update_guid_history>bd6d3cc5f7bf1300ea064828e69548c0:-408548432,ad1bdcc5973f1300872d30e8bb87c941:-408548432</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_acc8fab7db5313002c87f1771d9619ab</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Deprovision">9e041598db9f1f00786ff1351d961975</blueprint_stage_op><child_operation display_value="Virtual Server.Deprovision">eff4191cdb9f1f00786ff1351d961948</child_operation><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.Deprovision">2bf4191cdb9f1f00786ff1351d96193c</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>acc8fab7db5313002c87f1771d9619ab</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_acc8fab7db5313002c87f1771d9619ab</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>564752963</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d96192d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd540fa0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>6d6d3cc53cbf1300564084d7c621aa9d</update_guid>
<update_guid_history>6d6d3cc53cbf1300564084d7c621aa9d:564752963</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_0679b35e0be622009e620bcb15673a57</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Network Service Container Interface">7579b35e0be622009e620bcb15673a28</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>0679b35e0be622009e620bcb15673a57</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_0679b35e0be622009e620bcb15673a57</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>49227829</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961930</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54cc40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>126d7cc543bf13001c8150c267022e25</update_guid>
<update_guid_history>126d7cc543bf13001c8150c267022e25:49227829,c21bdcc59d3f1300f889b1ab23fead9e:49227829</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_ddf5cd6bd722220097eb6ccf6e61034c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Storage Server Interface">ca79b35e0be622009e620bcb15673a29</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-24 18:32:53</sys_created_on><sys_id>ddf5cd6bd722220097eb6ccf6e61034c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_ddf5cd6bd722220097eb6ccf6e61034c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-24 18:32:53</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>706120926</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961933</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554320000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>726d7cc59abf130049e03f075dd74bc8</update_guid>
<update_guid_history>726d7cc59abf130049e03f075dd74bc8:706120926,5a1bdcc56a3f13007b6b52aced9a46ef:706120926</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcehost_ea6048440b632200668daac125673a69</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcehost"><sn_cmp_rb_resourcehost action="INSERT_OR_UPDATE"><guestresource display_value="Storage Volume">266048440b632200668daac125673a63</guestresource><hostresource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</hostresource><sys_class_name>sn_cmp_rb_resourcehost</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-02 09:33:07</sys_created_on><sys_id>ea6048440b632200668daac125673a69</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcehost_ea6048440b632200668daac125673a69</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-02 09:33:07</sys_updated_on></sn_cmp_rb_resourcehost></record_update>]]></payload>
<payload_hash>-1080961221</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961936</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547b80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Host</type>
<update_domain>global</update_domain>
<update_guid>8e6d3cc53ebf13003ef59734cb741bdc</update_guid>
<update_guid_history>8e6d3cc53ebf13003ef59734cb741bdc:-1080961221,f11bdcc50c3f130070a1bb01bc636b5f:-1080961221</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_164c0747dbe00700074cf8231f961968</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Stop_Azure_Stack&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new AzureStartStopStackResponseProcessor();

	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var processedResponses = processor.processResponse(responseObj, cloudServiceAccountId, ldc, 
													   correlationId, step, requestorContext, stackId, 'stop');
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-17 21:19:32&lt;/sys_created_on&gt;&lt;sys_id&gt;164c0747dbe00700074cf8231f961968&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Stop_Azure_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_164c0747dbe00700074cf8231f961968&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-08 11:33:33&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1149260140</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961939</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554ba0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Stop_Azure_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7a6d7cc5b1bf13005fca27e1c08656cd</update_guid>
<update_guid_history>7a6d7cc5b1bf13005fca27e1c08656cd:1149260140,d61bdcc5213f130059ae6e1c099081f5:1149260140</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_3accccfa9f44320048111f80a57fcfdc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Load_Balancers_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Network/loadBalancers',
											   'load_balancer_create_validator');
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-04 20:02:01&lt;/sys_created_on&gt;&lt;sys_id&gt;3accccfa9f44320048111f80a57fcfdc&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Load_Balancers_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_3accccfa9f44320048111f80a57fcfdc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-17 21:34:33&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1603617792</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d96193d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555370000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Load_Balancers_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7e6d7cc5eebf13009796dfdb16e57ed2</update_guid>
<update_guid_history>7e6d7cc5eebf13009796dfdb16e57ed2:-1603617792,521bdcc5713f1300881027318737b9fb:-1603617792</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_504950390b0132003969a387b6673a72</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_RouteTable_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {

      var cloudModelString = [];
      var routeTableResponse = global.JSON.parse(response);
      var routerId = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
      var routeTable = {
        "cmdb_ci_route_table": {
          "validator": "route_table_create_validator",
          "validator_overrides": { },
          "identification": {
            "cmdb_ci_cloud_service_account": {
              "criterion": {
                "object_id": cloudServiceAccountId
              }
            },
            "cmdb_ci_azure_datacenter": {
              "criterion": {
                "object_id": ldc
              }
            },
            "cmdb_ci_router": {
              "criterion": {
                "object_id": routerId
              }
            },
            "cmdb_ci_route_table": {
              "criterion": {
                "object_id":routeTableResponse.routeTableId
              }
            }
          },
          "attributes": {
            "object_id":routeTableResponse.routeTableId,
            "route_table_id":routeTableResponse.routeTableId,
            "name":routeTableResponse.name,
            "network_id":routeTableResponse.networkId,
            "state":"available"
          },
          "references": {
            "cmdb_ci_resource_group": {
              "identification": {
                "cmdb_ci_cloud_service_account": {
                  "criterion": {
                    "object_id": cloudServiceAccountId
                  }
                },
                "cmdb_ci_azure_datacenter": {
                  "criterion": {
                    "object_id": ldc
                  }
                },
                "cmdb_ci_resource_group": {
                  "criterion": {
                    "object_id": routeTableResponse.resourceGroup
                  }
                }
              },
              "attributes": {
                "object_id": routeTableResponse.resourceGroup
              }
            }
          }
        }
      };

      cloudModelString.push(routeTable);
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routeTableResponse = global.JSON.parse(response);
	var routerId = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
	var routeTable = {
		"cmdb_ci_route_table": {
			"validator": "route_table_create_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_router": {
					"criterion": {
						"object_id": routerId
					}
				},
				"cmdb_ci_route_table": {
					"criterion": {
						"object_id":routeTableResponse.routeTableId
					}
				}
			},
			"attributes": {
				"object_id":routeTableResponse.routeTableId,
				"route_table_id":routeTableResponse.routeTableId,
				"name":routeTableResponse.name,
				"network_id":routeTableResponse.networkId,
				"state":"available"
			},
			"references": {
				"cmdb_ci_resource_group": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_resource_group": {
							"criterion": {
								"object_id": routeTableResponse.resourceGroup
							}
						}
					},
					"attributes": {
						"object_id": routeTableResponse.resourceGroup
					}
				}
			}
		}
	};

	cloudModelString.push(routeTable);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-20 11:25:21&lt;/sys_created_on&gt;&lt;sys_id&gt;504950390b0132003969a387b6673a72&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_RouteTable_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_504950390b0132003969a387b6673a72&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 03:01:56&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1795116241</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961940</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555c20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_RouteTable_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fe6d7cc5b0bf1300993911e43da8bbd8</update_guid>
<update_guid_history>fe6d7cc5b0bf1300993911e43da8bbd8:-1795116241,aa1b10092c3f1300dc6dcc862c987501:-1795116241</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5cc9c1360b632200e937c97193673ac7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Populate_VLAN_Pool_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>5cc9c1360b632200e937c97193673ac7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Populate_VLAN_Pool_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5cc9c1360b632200e937c97193673ac7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1185989749</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961943</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549790000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Populate_VLAN_Pool_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>466d7cc5fdbf1300de0e8778b91c820c</update_guid>
<update_guid_history>466d7cc5fdbf1300de0e8778b91c820c:1185989749,751bdcc5a93f130015372ac67f6a0477:1185989749</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_67186cd29f50320048111f80a57fcf23</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Get_Resource&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null,
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	// Expect an array of the same type of things
	if (responseObject.length == 0)
		return [];
	
	var orderId = fetchOrderId(stackId);
	var type = responseObject[0].type;
	var table = getTableForType(type, orderId);
	var cloudModelObject = [];
	
	if (gs.nil(table)) {
		cloudModelObject = 
			responseProcessor.processResponseArray(responseObject,
												   'Cloud Resource',
												   'cloud_resource_create_validator');		
	} else {
		ensureMappings(table, orderId);
		var validator = getValidatorForType(table, orderId);

		cloudModelObject = 
			responseProcessor.processResponseArray(responseObject, type, validator);
	}	
	
	return global.JSON.stringify(cloudModelObject);
 }

function getTableForType(type, orderId) {
	var table = '';
	var gr = new GlideRecord('sn_capi_resource_type');
	if (gr.get('name', type))
		table = '' + gr.ci_class;
		
	log(gs.getMessage('Table \'{0}\' for type \'{1}\'', [table, type]), orderId);
	return table;
}

function getValidatorForType(table, orderId) {
	var validator;

	var insertUpdateType = '4'; // From choice table
	var validatorGr = new GlideRecord('cmdb_cmp_cloud_model_validator');
	validatorGr.addQuery('ci_class', table);
	validatorGr.addQuery('validator_type', insertUpdateType);
	validatorGr.query();
	if (validatorGr.next()) {
		validator = validatorGr.getValue('validator_name');
		log(gs.getMessage('Validator \'{0}\' found for table \'{1}\'', [validator, table]), orderId);
	} else { // create one
		log(gs.getMessage('Validator not found for table \'{0}\', creating one', [table]), orderId);
		validatorGr.initialize();
		validatorGr.ci_class = table;
		validatorGr.validator_type = insertUpdateType;

		var parts = /cmdb_ci_(.*)/.exec(table);
		validator = (gs.nil(parts) ? table : parts[1]) + '_create_update_validator';
		validatorGr.validator_name = validator;

		var payload = {
			table: "INSERT,UPDATE",
			"cmdb_ci_cloud_service_account": "UPDATE",
			"cmdb_ci_logical_datacenter": "UPDATE_WITH_UPGRADE"
		};

		validatorGr.validator_payload = global.JSON.stringify(payload);
		validatorGr.insert();
	}

	return validator;
}

function ensureMappings(table, orderId) {
	var datasource = 'Azure API';
	var OBJECT_ID = 'object_id';
	var NAME = 'name';
	log(gs.getMessage('Checking for mappings for datasource {0} and table {1}', 
						   [datasource, table]), orderId);

	// Get datasource
	var dsGr = new GlideRecord('sn_cmp_datasource');
	if (!dsGr.get('name', datasource))
		return;

	if (!checkMapping(dsGr, table, OBJECT_ID))
		insertMapping(dsGr, table, true, OBJECT_ID, 'id');

	if (!checkMapping(dsGr, table, NAME))
		insertMapping(dsGr, table, false, NAME, 'name');
	
	ensureLocationMapping(dsGr, table);
}

function checkMapping(dsGr, table, field) {
	var mappingExists = false;

	var mappingGr = new GlideRecord('sn_cmp_response_mapping');
	mappingGr.addQuery('ci_class', table);
	mappingGr.addQuery('datasource.sys_id', '' + dsGr.sys_id);
	mappingGr.addQuery('attribute_value_type', 'mapped');
	mappingGr.addQuery('ci_class_field', field);
	mappingGr.query();

	if (mappingGr.hasNext())
		mappingExists = true;

	return mappingExists;
}

function ensureLocationMapping(dsGr, table) {
	var mappingExists = false;

	var mappingGr = new GlideRecord('sn_cmp_response_mapping');
	mappingGr.addQuery('ci_class', table);
	mappingGr.addQuery('datasource.sys_id', '' + dsGr.sys_id);
	mappingGr.addQuery('attribute_value_type', 'mapped');
	mappingGr.addQuery('additional_identifier', true);
	mappingGr.addQuery('identifier_ci_class', 'cmdb_ci_azure_datacenter');
	mappingGr.addQuery('identifier_ci_class_field', 'object_id');
	mappingGr.query();

	if (!mappingGr.hasNext()) {
		mappingGr.initialize();
		mappingGr.ci_class = table;
		mappingGr.datasource = '' + dsGr.sys_id;
		mappingGr.attribute_value_type ='mapped';
		mappingGr.additional_identifier = true;
		mappingGr.identifier_ci_class = 'cmdb_ci_azure_datacenter';
		mappingGr.identifier_ci_class_field = 'object_id';
		mappingGr.source_field = 'location';
		mappingGr.insert();
	}
}

function insertMapping(dsGr, table, isIdField, field, sourceField) {
	var mappingGr = new GlideRecord('sn_cmp_response_mapping');
	mappingGr.initialize();
	mappingGr.ci_class = table;
	mappingGr.datasource = '' + dsGr.sys_id;
	mappingGr.attribute_value_type ='mapped';
	mappingGr.ci_class_field = field;
	mappingGr.source_field = sourceField;
	mappingGr.used_for_identification = isIdField;
	mappingGr.insert();
}

function log(msg, orderId, level, details) {
	gs.info('Get Resource (response processor): ' + msg);
	
	var trailer = new sn_cmp_api.CloudTrailServiceScript();
	var message = {};
	message.statusMessageSummary = msg;
	message.statusMessageDetails = gs.nil(details) ? msg : details;
	message.messageType = gs.nil(level) ? '1' : level; // '1' is debug
	message.milestone = false;
	message.step = 'Handle Cloud API Response';
	message.orderId = orderId;
	var trailMessage = global.JSON.stringify(message);
	trailer.createTrail(trailMessage);		
}

function fetchOrderId(stackId) {
	var orderGr = new GlideRecord('sn_cmp_order');
	orderGr.addQuery('stack.sys_id', stackId);
	orderGr.query();

	if (orderGr.next())
		return '' + orderGr.sys_id;

	return '';
}
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-15 19:00:29&lt;/sys_created_on&gt;&lt;sys_id&gt;67186cd29f50320048111f80a57fcf23&lt;/sys_id&gt;&lt;sys_mod_count&gt;23&lt;/sys_mod_count&gt;&lt;sys_name&gt;Get_Resource&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_67186cd29f50320048111f80a57fcf23&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-01-04 23:05:55&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1500218143</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961946</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557000000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Get_Resource</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>436d7cc5e7bf13002fb524836c38b0e6</update_guid>
<update_guid_history>436d7cc5e7bf13002fb524836c38b0e6:1500218143,ea1b1009813f130078ba19e901556e0f:1500218143</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_754b403e67532200ff506c706785ef09</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_Subnet_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){ 
	var cloudModelString = [];
	var subnetResponse = global.JSON.parse(response); 
	var subnetInfo = { 
		"cmdb_ci_cloud_subnet": {
			"validator": "subnet_create_validator", 
			"validator_overrides": {  
			}, 
			"identification": {
				"cmdb_ci_cloud_service_account": { 
					"criterion": { 
						"object_id": cloudServiceAccountId 
					}
				}, 
				"cmdb_ci_aws_datacenter": { 
					"criterion": { 
						"object_id": ldc 
					} 
				},
				"cmdb_ci_network": { 
					"criterion": { 
						"object_id": subnetResponse.networkId
					} 
				},
				"cmdb_ci_cloud_subnet": { 
					"criterion": { 
						"object_id": subnetResponse.subnetId
					} 
				} 
			},
			"attributes": { 
				"object_id": subnetResponse.subnetId,
				"state": "terminated"
			} 
		}
	};
	cloudModelString.push(subnetInfo);  
	return global.JSON.stringify(cloudModelString); 
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-11-28 13:08:10&lt;/sys_created_on&gt;&lt;sys_id&gt;754b403e67532200ff506c706785ef09&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_Subnet_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_754b403e67532200ff506c706785ef09&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-24 13:37:01&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-515493906</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961949</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5503b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_Subnet_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a66d7cc5fbbf130051b2f67352f1c578</update_guid>
<update_guid_history>a66d7cc5fbbf130051b2f67352f1c578:-515493906,c21bdcc5643f13007e747cf1d7fc30c2:-515493906</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103c8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Router_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>7df501abd722220097eb6ccf6e6103c8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Router_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103c8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1837759138</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d96194c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558990000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Router_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0b6dbcc553bf1300fc1f8134668e0707</update_guid>
<update_guid_history>0b6dbcc553bf1300fc1f8134668e0707:1837759138,621b1009913f130015096d9c1dbc0c3f:1837759138</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_969399fc67532200ff506c706785ef6d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Network_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
    var cloudModelString = [];
	var networkResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var networkInfo = {
		"cmdb_ci_network": {
			"validator": "network_create_update_validator",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_network": {
					"criterion": {
						"object_id": networkResponse.networkId
					}
				}
			},
			"attributes": {
				"object_id": networkResponse.networkId,
				"name": networkResponse.networkName ,
				"cidr": networkResponse.cidrBlock,
				"vm_count": networkResponse.vmCount,
				"host_count": networkResponse.hostCount,
				"is_external": networkResponse.isExternal,
				"admin_state": networkResponse.state,
				"default_gateway": networkResponse.internetGateway,
				"is_shared": networkResponse.shared+"",
				"netmask": networkResponse.netmask,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId,
				"state":"available"
			}
		}
	};
	
	if (!gs.nil(networkResponse.tagValues)) {
		networkInfo["cmdb_ci_network"].tagValues = global.JSON.stringify(networkResponse.tagValues);
	}
	
    cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-11-22 13:16:17&lt;/sys_created_on&gt;&lt;sys_id&gt;969399fc67532200ff506c706785ef6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Network_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_969399fc67532200ff506c706785ef6d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-31 10:47:22&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1804466841</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961950</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551ab0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Network_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>6e6d7cc53fbf1300d460924e3a010092</update_guid>
<update_guid_history>6e6d7cc53fbf1300d460924e3a010092:1804466841,d21bdcc5253f130019933619e07051d1:1804466841</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ab0f69be9f81320048111f80a57fcf80</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_Resource&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	&amp;#13;
	var rps = new sn_cmp_api.ResponseProcessorScript();&amp;#13;
	var responseToProcess = rps.extractResponse(response);&amp;#13;
	var responseObject = global.JSON.parse(responseToProcess);&amp;#13;
	&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
												  null,&amp;#13;
												  'Azure API');&amp;#13;
	&amp;#13;
	// Look up validator for type&amp;#13;
	var validator = 'cloud_resource_create_validator';&amp;#13;
	var gr = new GlideRecord('sn_capi_resource_type');&amp;#13;
	if (gr.get('name', responseObject.type)) {&amp;#13;
		var validatorGr = new GlideRecord('cmdb_cmp_cloud_model_validator');&amp;#13;
		if (validatorGr.get('ci_class', '' + gr.ci_class))&amp;#13;
			validator = '' + validatorGr.validator_name;&amp;#13;
	}&amp;#13;
	&amp;#13;
	var table = getTableForType(responseObject.type);&amp;#13;
	var type = responseObject.type;&amp;#13;
	if (type.toLowerCase() == 'microsoft.compute/disks') {&amp;#13;
		//special handling for disks&amp;#13;
		type = "Microsoft.Storage/blobs";&amp;#13;
		responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
												  responseObject.successfullyDeleted[0].location,&amp;#13;
												  'Azure API');&amp;#13;
	} else&amp;#13;
		type = gs.nil(table) ? 'Cloud Resource' : responseObject.type;&amp;#13;
	&amp;#13;
	var cloudModelObject = &amp;#13;
		responseProcessor.processResponseArray(responseObject.successfullyDeleted,&amp;#13;
											   type,&amp;#13;
											   validator);&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
}&amp;#13;
&amp;#13;
function getTableForType(type) {&amp;#13;
	var table = '';&amp;#13;
	var gr = new GlideRecord('sn_capi_resource_type');&amp;#13;
	if (gr.get('name', type))&amp;#13;
		table = '' + gr.ci_class;&amp;#13;
		&amp;#13;
	return table;&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null,
												  'Azure API');
	
	// Look up validator for type
	var validator = 'cloud_resource_create_validator';
	var gr = new GlideRecord('sn_capi_resource_type');
	if (gr.get('name', responseObject.type)) {
		var validatorGr = new GlideRecord('cmdb_cmp_cloud_model_validator');
		if (validatorGr.get('ci_class', '' + gr.ci_class))
			validator = '' + validatorGr.validator_name;
	}
	
	var table = getTableForType(responseObject.type);
	var type = responseObject.type;
	if (type.toLowerCase() == 'microsoft.compute/disks') {
		//special handling for disks
		type = "Microsoft.Storage/blobs";
		responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  responseObject.successfullyDeleted[0].location,
												  'Azure API');
	} else
		type = gs.nil(table) ? 'Cloud Resource' : responseObject.type;
	
	
	if (type.toLowerCase() == 'microsoft.compute/availabilitysets') {
		//special handling for availability sets
		for (var i = 0; i &lt; responseObject.successfullyDeleted.length; i++) {
			var as = responseObject.successfullyDeleted[i];
			if (as.properties)
				as.properties.provisioningState = 'terminated';
		}
	}
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject.successfullyDeleted,
											   type,
											   validator);
	
	return global.JSON.stringify(cloudModelObject);
}

function getTableForType(type) {
	var table = '';
	var gr = new GlideRecord('sn_capi_resource_type');
	if (gr.get('name', type))
		table = '' + gr.ci_class;
		
	return table;
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-23 20:13:58&lt;/sys_created_on&gt;&lt;sys_id&gt;ab0f69be9f81320048111f80a57fcf80&lt;/sys_id&gt;&lt;sys_mod_count&gt;19&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_Resource&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_ab0f69be9f81320048111f80a57fcf80&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-01-12 19:21:39&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>80005269</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961953</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559310000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_Resource</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0b6dbcc5d9bf13003caf13258441380e</update_guid>
<update_guid_history>0b6dbcc5d9bf13003caf13258441380e:80005269,be1b1009ae3f1300f2759f29268c496b:80005269</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ca79b35e0be622009e620bcb15673a6d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Volumes_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'Cloud API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::Volume',
											   'storage_volumes_list_validator');
	return global.JSON.stringify(cloudModelObject);
 }
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;ca79b35e0be622009e620bcb15673a6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Volumes_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_ca79b35e0be622009e620bcb15673a6d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-16 05:08:15&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-752799393</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552950000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Volumes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>3e6d7cc578bf1300db86e8fe4dd37da9</update_guid>
<update_guid_history>3e6d7cc578bf1300db86e8fe4dd37da9:-752799393,d61bdcc50f3f1300a412240aff1bfddc:-752799393</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_dcbcfa8a0b0132003969a387b6673ada</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_Security_Group_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
		var secGroupResponse = global.JSON.parse(response);
		var secGroup = {
			"cmdb_ci_compute_security_group": {
				"validator":"compute_security_group_create_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_compute_security_group": {
						"criterion": {
							"object_id": secGroupResponse.id
						}
					}
				},
				"attributes": {
					"object_id": secGroupResponse.id,
					"compute_security_group_id":secGroupResponse.id,
					"state":"terminated"
				}
			}
		};
	cloudModelString.push(secGroup);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-21 18:00:49&lt;/sys_created_on&gt;&lt;sys_id&gt;dcbcfa8a0b0132003969a387b6673ada&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_Security_Group_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_dcbcfa8a0b0132003969a387b6673ada&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-15 15:53:41&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1630755135</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d961959</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559b50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure_Delete_Security_Group_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>cf6dbcc534bf1300ba1c8f4d3a8d4421</update_guid>
<update_guid_history>cf6dbcc534bf1300ba1c8f4d3a8d4421:1630755135,b61b1009983f130063a41756e2e34b73:1630755135</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_fe428a6b8793030032b6f4bbe3e3ecd4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;change_storage_volume_state&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeResponse.volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeResponse.volumeId,
					"state": "available"
				},
				"references" : {}
			}
		};
	
		cloudModelString.push(volume);
		return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-01-02 22:06:12&lt;/sys_created_on&gt;&lt;sys_id&gt;fe428a6b8793030032b6f4bbe3e3ecd4&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;change_storage_volume_state&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_fe428a6b8793030032b6f4bbe3e3ecd4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-01-02 23:01:38&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1536532283</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>5f6dbcc5dbbf1300786ff1351d96195c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd55a2f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>change_storage_volume_state</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>476dbcc51cbf13005b8631179e1ada26</update_guid>
<update_guid_history>476dbcc51cbf13005b8631179e1ada26:1536532283,721b1009183f1300d4a683f8d8e93278:1536532283</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_0472c579931813004a9032bfa67ffb90</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Stop">3a114939931813004a9032bfa67ffb9d</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>operationName</name><order>40</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Operation Name</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:00:20</sys_created_on><sys_id>0472c579931813004a9032bfa67ffb90</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Operation Name</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_0472c579931813004a9032bfa67ffb90</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:00:20</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=0472c579931813004a9032bfa67ffb90"/><fx_price action="delete_multiple" query="id=0472c579931813004a9032bfa67ffb90"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>0472c579931813004a9032bfa67ffb90</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:00:21</sys_created_on><sys_id>0072c579931813004a9032bfa67ffb92</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:00:21</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>0472c579931813004a9032bfa67ffb90</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:00:21</sys_created_on><sys_id>c472c579931813004a9032bfa67ffb91</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:00:21</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-1430311520</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>836dbcc5dbbf1300786ff1351d961929</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd544bc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Operation Name</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>b16d3cc546bf13001f786c44fce9d7ba</update_guid>
<update_guid_history>b16d3cc546bf13001f786c44fce9d7ba:-1430311520,ad1bdcc5943f130098167c97aa01173a:-1430311520</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_2c05cd7d931813004a9032bfa67ffb81</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Start">4fa40d7d931813004a9032bfa67ffb1b</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceId</name><order>20</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Id</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:11:34</sys_created_on><sys_id>2c05cd7d931813004a9032bfa67ffb81</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Id</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_2c05cd7d931813004a9032bfa67ffb81</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:11:34</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=2c05cd7d931813004a9032bfa67ffb81"/><fx_price action="delete_multiple" query="id=2c05cd7d931813004a9032bfa67ffb81"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>2c05cd7d931813004a9032bfa67ffb81</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:11:34</sys_created_on><sys_id>2805cd7d931813004a9032bfa67ffb83</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:11:34</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>2c05cd7d931813004a9032bfa67ffb81</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:11:34</sys_created_on><sys_id>ec05cd7d931813004a9032bfa67ffb82</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:11:34</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>1555239580</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>8f6dbcc5dbbf1300786ff1351d961929</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd546b20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Id</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>ca6d3cc5c2bf13009a4ee1f260c40fd1</update_guid>
<update_guid_history>ca6d3cc5c2bf13009a4ee1f260c40fd1:1555239580,e51bdcc54f3f1300b9f96e759bd5fa53:1555239580</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_28c8fab7db5313002c87f1771d9619b7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="ModifyLease">d2041598db9f1f00786ff1351d961978</blueprint_stage_op><child_operation/><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.ModifyLease">fdf4d51cdb9f1f00786ff1351d96190b</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>28c8fab7db5313002c87f1771d9619b7</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_28c8fab7db5313002c87f1771d9619b7</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>2027742617</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96192c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5411c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>e96d3cc5b1bf1300f210c944ead6859f</update_guid>
<update_guid_history>e96d3cc5b1bf1300f210c944ead6859f:2027742617</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_1c2567d10b0232009e620bcb15673ab7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_nfs</endpoint><relation_type>1</relation_type><resource_block display_value="Storage Volume">266048440b632200668daac125673a63</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:01:53</sys_created_on><sys_id>1c2567d10b0232009e620bcb15673ab7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>266048440b632200668daac125673a63</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_1c2567d10b0232009e620bcb15673ab7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:01:53</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>1692355971</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96192f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547e20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>266048440b632200668daac125673a63</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>ca6d3cc5a8bf13009e5e17e695e563de</update_guid>
<update_guid_history>ca6d3cc5a8bf13009e5e17e695e563de:1692355971,b11bdcc5f63f13008afe433f4a955261:1692355971</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_58c941360b632200e937c97193673a1f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Compute Interface">f979b35e0be622009e620bcb15673a26</guestinterface><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>58c941360b632200e937c97193673a1f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>5cc941360b632200e937c97193673a1a</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_58c941360b632200e937c97193673a1f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-1646427563</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961932</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548380000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>5cc941360b632200e937c97193673a1a</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>466d3cc5e9bf1300cc4034e614d815e3</update_guid>
<update_guid_history>466d3cc5e9bf1300cc4034e614d815e3:-1646427563,711bdcc5a53f130043169d3f96494866:-1646427563</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourceblock_0279b35e0be622009e620bcb15673a2e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sn_cmp_rb_resourceblock"><sn_cmp_rb_resourceblock action="INSERT_OR_UPDATE"><active>true</active><description/><guestinterface display_value="Discovery Interface">9c7039300b903200668daac125673ad8</guestinterface><hostinterface/><is_system_defined>true</is_system_defined><is_tlr>false</is_tlr><layer>4</layer><name>AWS Datacenter</name><refcitype>cmdb_ci_aws_datacenter</refcitype><resource_template/><status>1</status><sys_class_name>sn_cmp_rb_resourceblock</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_domain>global</sys_domain><sys_id>0279b35e0be622009e620bcb15673a2e</sys_id><sys_mod_count>19</sys_mod_count><sys_name>AWS Datacenter</sys_name><sys_overrides/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourceblock_0279b35e0be622009e620bcb15673a2e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-01-04 22:43:36</sys_updated_on><type/></sn_cmp_rb_resourceblock></record_update>]]></payload>
<payload_hash>-768610473</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961935</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54c710000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>AWS Datacenter</target_name>
<type>ResourceBlock</type>
<update_domain>global</update_domain>
<update_guid>d26d7cc545bf130057ab11305e222322</update_guid>
<update_guid_history>d26d7cc545bf130057ab11305e222322:-768610473,f11bdcc5533f1300ae519b054868d69b:-768610473</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0679b35e0be622009e620bcb15673a6f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Volumes_To_LDC_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>0679b35e0be622009e620bcb15673a6f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Volumes_To_LDC_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_0679b35e0be622009e620bcb15673a6f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>710429336</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961938</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d530000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Volumes_To_LDC_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>9a6d7cc510bf13007cf61a4614354d2a</update_guid>
<update_guid_history>9a6d7cc510bf13007cf61a4614354d2a:710429336,c21bdcc5223f130087895dfa323e82a4:710429336</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1e79b35e0be622009e620bcb15673a94</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_VolumeTypes_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>1e79b35e0be622009e620bcb15673a94</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_VolumeTypes_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_1e79b35e0be622009e620bcb15673a94</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1301282056</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96193b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54df60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_VolumeTypes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>1a6d7cc519bf1300427f306febf71b32</update_guid>
<update_guid_history>1a6d7cc519bf1300427f306febf71b32:-1301282056,8a1bdcc52c3f1300ce0643d05ba882ac:-1301282056</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_2405c6e50b632200e937c97193673a86</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Destroy_Route_Table_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {

      var cloudModelString = [];
      var routeTableResponse = global.JSON.parse(response);
      var routerId = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
      var routeTable = {
        "cmdb_ci_route_table": {
          "validator": "route_table_create_validator",
          "validator_overrides": { },
          "identification": {
            "cmdb_ci_cloud_service_account": {
              "criterion": {
                "object_id": cloudServiceAccountId
              }
            },
            "cmdb_ci_aws_datacenter": {
              "criterion": {
                "object_id": ldc
              }
            },
            "cmdb_ci_router": {
              "criterion": {
                "object_id": routerId
              }
            },
            "cmdb_ci_route_table": {
              "criterion": {
                "object_id":routeTableResponse.routeTableId
              }
            }
          },
          "attributes": {
            "state":"terminated"
          }
        }
      };
      cloudModelString.push(routeTable);
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routeTableResponse = global.JSON.parse(response);
	var routerId = new sn_cmp.RouterObjectIdBuilder().build(routeTableResponse.networkId, stackId);
	var routeTable = {
		"cmdb_ci_route_table": {
			"validator": "route_table_create_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_router": {
					"criterion": {
						"object_id": routerId
					}
				},
				"cmdb_ci_route_table": {
					"criterion": {
						"object_id":routeTableResponse.routeTableId
					}
				}
			},
			"attributes": {
				"state":"terminated"
			}
		}
	};
	cloudModelString.push(routeTable);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-07 11:03:19&lt;/sys_created_on&gt;&lt;sys_id&gt;2405c6e50b632200e937c97193673a86&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Destroy_Route_Table_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_2405c6e50b632200e937c97193673a86&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 02:29:05&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>882639551</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96193c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54e530000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Destroy_Route_Table_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>926d7cc5ddbf1300b1cc1cdcf77f5e35</update_guid>
<update_guid_history>926d7cc5ddbf1300b1cc1cdcf77f5e35:882639551,c61bdcc5203f130067d85b954c18cfaf:882639551</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_46f501abd722220097eb6ccf6e6103cd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_LBs</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>46f501abd722220097eb6ccf6e6103cd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_LBs</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_46f501abd722220097eb6ccf6e6103cd</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1922657324</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96193f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555780000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_LBs</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f66d7cc5adbf13001b68da78b07d4fd5</update_guid>
<update_guid_history>f66d7cc5adbf13001b68da78b07d4fd5:1922657324,ae1bdcc5413f1300436ac4594de05afd:1922657324</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_55f501abd722220097eb6ccf6e6103a6</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Hardwares_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, ldc, 'Azure API');
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject.value,
											   'Microsoft.Compute/vmSize',
											   'compute_template_create_validator');
	
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by/&gt;&lt;sys_created_on/&gt;&lt;sys_id&gt;55f501abd722220097eb6ccf6e6103a6&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Hardwares_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_55f501abd722220097eb6ccf6e6103a6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-14 06:45:29&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>190371031</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961942</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556100000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Hardwares_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f66d7cc54fbf1300e99f004cb599f4dc</update_guid>
<update_guid_history>f66d7cc54fbf1300e99f004cb599f4dc:190371031,a61b1009943f1300d00f17f2cf22a605:190371031</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_62a52fe69f85030008631f80a57fcf97</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Start_Stop_Stack&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	var rps = new sn_cmp_api.ResponseProcessorScript();&amp;#13;
	var responseToProcess = rps.extractResponse(response);&amp;#13;
	var responseObject = global.JSON.parse(responseToProcess);	&amp;#13;
&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
												  ldc,&amp;#13;
												  'AWS EC2 API');&amp;#13;
	&amp;#13;
	var cloudModelObject = &amp;#13;
		responseProcessor.processResponseArray(responseObject,&amp;#13;
											   'AWS::EC2::Instance',&amp;#13;
											   'virtual_machine_create_update_validator');&amp;#13;
	&amp;#13;
	responseObject = [].concat(responseObject);&amp;#13;
	for (var index=0; index&amp;lt;responseObject.length; index++) {&amp;#13;
		var object = responseObject[index];&amp;#13;
		if (object.hasOwnProperty('networkInterfaceSet') &amp;amp;&amp;amp; object.networkInterfaceSet) {&amp;#13;
			var networkInterfaces = object.networkInterfaceSet.item;&amp;#13;
			if (networkInterfaces) {&amp;#13;
				networkInterfaces = [].concat(networkInterfaces);&amp;#13;
				var nicObject = responseProcessor.processResponseArray(networkInterfaces,&amp;#13;
												   'AWS::EC2::NetworkInterface',&amp;#13;
												   'nic_create_validator');&amp;#13;
				cloudModelObject = cloudModelObject.concat(nicObject);&amp;#13;
			}&amp;#13;
		}&amp;#13;
	}&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
 }&amp;#13;
	&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'AWS EC2 API');
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::Instance',
											   'virtual_machine_create_update_validator');
	
	responseObject = [].concat(responseObject);
	for (var index=0; index&lt;responseObject.length; index++) {
		var object = responseObject[index];
		if (object.hasOwnProperty('networkInterfaceSet') &amp;&amp; object.networkInterfaceSet) {
			var networkInterfaces = object.networkInterfaceSet.item;
			if (networkInterfaces) {
				networkInterfaces = [].concat(networkInterfaces);
				var nicObject = responseProcessor.processResponseArray(networkInterfaces,
												   'AWS::EC2::NetworkInterface',
												   'nic_create_validator');
				cloudModelObject = cloudModelObject.concat(nicObject);
			}
		}
	}
	
	return global.JSON.stringify(cloudModelObject);
 }
	]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-09-10 06:25:37&lt;/sys_created_on&gt;&lt;sys_id&gt;62a52fe69f85030008631f80a57fcf97&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start_Stop_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_62a52fe69f85030008631f80a57fcf97&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-12 19:10:13&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>743378735</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961945</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54fef0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Start_Stop_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2e6d7cc562bf13001a13336d1d22f275</update_guid>
<update_guid_history>2e6d7cc562bf13001a13336d1d22f275:743378735,861bdcc5e53f1300ed68efea35d5c6bf:743378735</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6cc9c1360b632200e937c97193673ae0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Images_To_LDC</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>6cc9c1360b632200e937c97193673ae0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Images_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_6cc9c1360b632200e937c97193673ae0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>989331183</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961948</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549e90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Images_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ca6d7cc5d4bf13004a2761051f0b4710</update_guid>
<update_guid_history>ca6d7cc5d4bf13004a2761051f0b4710:989331183,311bdcc5dd3f13004b1e411a2793107c:989331183</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_794cb3d39fa0320048111f80a57fcfc8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_AvailabilitySets_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Compute/availabilitySets',
											   'availability_zone_create_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-31 23:16:33&lt;/sys_created_on&gt;&lt;sys_id&gt;794cb3d39fa0320048111f80a57fcfc8&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_AvailabilitySets_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_794cb3d39fa0320048111f80a57fcfc8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-17 21:47:03&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1301972419</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96194b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558100000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_AvailabilitySets_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0b6dbcc504bf1300168429a3052a8200</update_guid>
<update_guid_history>0b6dbcc504bf1300168429a3052a8200:-1301972419,ea1b10090b3f1300d09150a164be481e:-1301972419</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8f12a21d0b1532000747a387b6673a13</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_Subnet_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var subnetResponse = global.JSON.parse(response);
	var subnetId = subnetResponse.id;
	var networkId = subnetId.substring(0, subnetId.indexOf('/subnets/'));
	var subnetInfo = {
		"cmdb_ci_cloud_subnet": {
			"validator":"subnet_create_update_validator",
			"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_network": {
						"criterion": {
							"object_id": networkId
						}
					},
					"cmdb_ci_cloud_subnet": {
						"criterion": {
							"object_id": subnetId
						}
					}
				},
				
				"attributes": {
					"object_id": subnetId,
					"state":"terminated"
				}
			}
		};
		cloudModelString.push(subnetInfo);
		return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-03 18:24:13&lt;/sys_created_on&gt;&lt;sys_id&gt;8f12a21d0b1532000747a387b6673a13&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_Subnet_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8f12a21d0b1532000747a387b6673a13&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-19 10:26:38&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1682458482</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96194f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558d10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Delete_Subnet_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>836dbcc5fbbf1300dea06ed32d20390a</update_guid>
<update_guid_history>836dbcc5fbbf1300dea06ed32d20390a:-1682458482,ae1b1009af3f130095d63575bb0a7941:-1682458482</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9e79b35e0be622009e620bcb15673a97</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Create_Storage_Container_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>9e79b35e0be622009e620bcb15673a97</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Create_Storage_Container_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_9e79b35e0be622009e620bcb15673a97</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1661613952</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961952</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552090000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Storage_Container_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2e6d7cc50ebf13008cc12785c29b2ea2</update_guid>
<update_guid_history>2e6d7cc50ebf13008cc12785c29b2ea2:-1661613952,de1bdcc5273f130054fa09dc45c9c0d4:-1661613952</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_b64a37de0be622009e620bcb15673aa5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Stop_Virtual_Server_Response_Processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
		var vmInfo ={
			"cmdb_ci_vm_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_vm_instance": {
						"criterion": {
							"object_id": vmResponse.nodeId
						}
					}
				},
				"attributes": {
					"object_id": vmResponse.nodeId,
					"state": "off"
				}
			}
		};
		cloudModelString.push(vmInfo);
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:28:23&lt;/sys_created_on&gt;&lt;sys_id&gt;b64a37de0be622009e620bcb15673aa5&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Stop_Virtual_Server_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_b64a37de0be622009e620bcb15673aa5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-21 13:38:16&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1870939413</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542600000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Stop_Virtual_Server_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>296d3cc575bf13006713eacbf2b2fbac</update_guid>
<update_guid_history>296d3cc575bf13006713eacbf2b2fbac:-1870939413,d51bdcc5213f13005d676df3b67c562c:-1870939413</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d5e185a10b8232000747a387b6673a2c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Node_Creds_and_Associate_to_Mgmt_Creds_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {&amp;#13;
  var vmResponse = global.JSON.parse(response);&amp;#13;
&amp;#13;
  var identification = [&amp;#13;
    {&amp;#13;
        "cmdb_ci_vm_instance":&amp;#13;
        {&amp;#13;
            "identification":&amp;#13;
             {&amp;#13;
                "cmdb_ci_cloud_service_account": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id": cloudServiceAccountId&amp;#13;
                    }&amp;#13;
                },&amp;#13;
                "cmdb_ci_azure_datacenter": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id":ldc&amp;#13;
                    }&amp;#13;
                },&amp;#13;
                "cmdb_ci_vm_instance": {&amp;#13;
                    "criterion": {&amp;#13;
                        "object_id": vmResponse.nodeId&amp;#13;
                    }&amp;#13;
                }&amp;#13;
            }&amp;#13;
        }&amp;#13;
    }&amp;#13;
  ];&amp;#13;
&amp;#13;
  var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();&amp;#13;
  var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");&amp;#13;
  var ci = global.JSON.parse(ciPayload);&amp;#13;
  var nodeSysId = ci.cmdb_ci_vm_instance.sys_id;&amp;#13;
  var userId = vmResponse.userId;&amp;#13;
&amp;#13;
  if (userId) {&amp;#13;
	  var resourceGrp = vmResponse.resourceGroup.split("/");&amp;#13;
	  var nodeObjectId =  resourceGrp[resourceGrp.length - 1] + '-' + vmResponse.nodeName;&amp;#13;
&amp;#13;
      var nodeGenScript = new global.GenerateNodeCredentials();&amp;#13;
      var nodeCredId = nodeGenScript.generateNodeCredential(nodeSysId, nodeObjectId, userId);&amp;#13;
      gs.info("Node Credential ID in Response Processor - " + nodeCredId);&amp;#13;
&amp;#13;
      var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();&amp;#13;
	  sshKeyScript.associateToNode(nodeCredId, nodeSysId);&amp;#13;
  }&amp;#13;
&amp;#13;
  return global.JSON.stringify([]);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var vmResponse = global.JSON.parse(response);
	
	var identification = [
	{
		"cmdb_ci_vm_instance":
		{
			"identification":
			{
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id":ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": vmResponse.nodeId
					}
				}
			}
		}
	}
	];
	
	var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
	var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
	var ci = global.JSON.parse(ciPayload);
	var nodeSysId = ci.cmdb_ci_vm_instance.sys_id;
	var userId = vmResponse.userId;
	
	if (userId) {
		var resourceGrp = vmResponse.resourceGroup.split("/");
		var nodeObjectId =  resourceGrp[resourceGrp.length - 1] + '-' + vmResponse.nodeName;
		
		var nodeGenScript = new global.GenerateNodeCredentials();
		var nodeCredId = nodeGenScript.generateNodeCredential(nodeSysId, nodeObjectId, userId);
		gs.info("Node Credential ID in Response Processor - " + nodeCredId);
		
		var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
		sshKeyScript.associateToNode(nodeCredId, nodeSysId);
	}
	
	return global.JSON.stringify([]);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-10 12:48:50&lt;/sys_created_on&gt;&lt;sys_id&gt;d5e185a10b8232000747a387b6673a2c&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Node_Creds_and_Associate_to_Mgmt_Creds_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_d5e185a10b8232000747a387b6673a2c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-25 07:53:59&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-499351499</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d961958</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559740000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Azure_Create_Node_Creds_and_Associate_to_Mgmt_Creds_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c76dbcc576bf130051dea1354145a51e</update_guid>
<update_guid_history>c76dbcc576bf130051dea1354145a51e:-499351499,ba1b1009683f13005f6a826f90e1306f:-499351499</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_e8c9c1360b632200e937c97193673add</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_L2_Firewalls_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>e8c9c1360b632200e937c97193673add</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_L2_Firewalls_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_e8c9c1360b632200e937c97193673add</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-579864437</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>936dbcc5dbbf1300786ff1351d96195b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54c230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_L2_Firewalls_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>d66d7cc540bf1300c2d6c380136e3320</update_guid>
<update_guid_history>d66d7cc540bf1300c2d6c380136e3320:-579864437,751bdcc5f23f130021afe12c72e64899:-579864437</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_db1501bd931813004a9032bfa67ffb4a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Start">4fa40d7d931813004a9032bfa67ffb1b</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceInterface</name><order>30</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Interface</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:12:02</sys_created_on><sys_id>db1501bd931813004a9032bfa67ffb4a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Interface</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_db1501bd931813004a9032bfa67ffb4a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:12:02</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=db1501bd931813004a9032bfa67ffb4a"/><fx_price action="delete_multiple" query="id=db1501bd931813004a9032bfa67ffb4a"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>db1501bd931813004a9032bfa67ffb4a</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:12:02</sys_created_on><sys_id>d71501bd931813004a9032bfa67ffb4c</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:12:02</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>db1501bd931813004a9032bfa67ffb4a</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:12:02</sys_created_on><sys_id>9f1501bd931813004a9032bfa67ffb4b</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:12:02</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>258450871</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96192b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547290000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Interface</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>4a6d3cc51dbf13000c664c8d70787ed6</update_guid>
<update_guid_history>4a6d3cc51dbf13000c664c8d70787ed6:258450871,291bdcc58e3f1300e5560b1803ecae58:258450871</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_endpoint_mapping_0e40efe60bf722009e620bcb15673a17</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_endpoint_mapping"><sn_cmp_rb_endpoint_mapping action="INSERT_OR_UPDATE"><binding_resource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</binding_resource><endpoint>cmdb_ci_endpoint_block</endpoint><op_impl display_value="Storage Volume Attach Virtual Server">3e704c440b632200668daac125673a72</op_impl><op_impl_type>1</op_impl_type><source_resource display_value="Storage Volume">266048440b632200668daac125673a63</source_resource><sys_class_name>sn_cmp_rb_endpoint_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-23 06:32:57</sys_created_on><sys_id>0e40efe60bf722009e620bcb15673a17</sys_id><sys_mod_count>1</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_endpoint_mapping_0e40efe60bf722009e620bcb15673a17</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-23 06:33:28</sys_updated_on></sn_cmp_rb_endpoint_mapping></record_update>]]></payload>
<payload_hash>422966687</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96192e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd543100000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Endpoint Operation Mapping</type>
<update_domain>global</update_domain>
<update_guid>3d6d3cc5f5bf1300963a60a90d55ebb4</update_guid>
<update_guid_history>3d6d3cc5f5bf1300963a60a90d55ebb4:422966687,251bdcc5ad3f1300b5dca5b768ab5035:422966687</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_3a4a37de0be622009e620bcb15673a98</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Virtual Server Interface">ee4a735e0be622009e620bcb15673a02</guestinterface><resource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:28:23</sys_created_on><sys_id>3a4a37de0be622009e620bcb15673a98</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_3a4a37de0be622009e620bcb15673a98</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:28:23</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-1683587351</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961931</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541470000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>a96d3cc523bf1300b135209b63fbeda1</update_guid>
<update_guid_history>a96d3cc523bf1300b135209b63fbeda1:-1683587351,5d1bdcc5e73f13007dac4c0432588920:-1683587351</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_fb2d1786d7e0320097eb6ccf6e61035f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Event Interface">113d1786d7e0320097eb6ccf6e6103a9</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-27 23:48:32</sys_created_on><sys_id>fb2d1786d7e0320097eb6ccf6e61035f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_fb2d1786d7e0320097eb6ccf6e61035f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-27 23:48:32</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-165723739</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961934</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554580000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>326d7cc599bf1300b8f603fc7b3500ca</update_guid>
<update_guid_history>326d7cc599bf1300b8f603fc7b3500ca:-165723739,9a1bdcc5b23f1300eca82754b2c597f1:-165723739</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0279b35e0be622009e620bcb15673a69</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Hardwares_To_Profiles</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>0279b35e0be622009e620bcb15673a69</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Hardwares_To_Profiles</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_0279b35e0be622009e620bcb15673a69</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>131354112</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961937</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d3f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Hardwares_To_Profiles</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>1e6d7cc599bf1300f7bdfba960919329</update_guid>
<update_guid_history>1e6d7cc599bf1300f7bdfba960919329:131354112,061bdcc55d3f1300ec2098f3757173a3:131354112</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_199b5e159fc5320048111f80a57fcf76</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Describe_AWS_CloudFormation_Stack&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new CloudFormationResponseProcessor();
	processor.topLevel(false);
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var arrayUtil = new global.ArrayUtil();
	responseObj = arrayUtil.ensureArray(responseObj);
	var processedResponses = [];

	// response can have multiple items - process them one by one
	for (var i = 0; i &lt; responseObj.length; i++) {
		var processed = processor.processResponse(responseObj[i], cloudServiceAccountId, ldc, 
												  correlationId, step, requestorContext, stackId);
		processedResponses = arrayUtil.union(processedResponses, processed);
	}
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-19 07:37:38&lt;/sys_created_on&gt;&lt;sys_id&gt;199b5e159fc5320048111f80a57fcf76&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Describe_AWS_CloudFormation_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_199b5e159fc5320048111f80a57fcf76&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-20 02:26:06&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1108882010</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96193a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54dc70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Describe_AWS_CloudFormation_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>1e6d7cc594bf1300ed09ada8d454cb30</update_guid>
<update_guid_history>1e6d7cc594bf1300ed09ada8d454cb30:-1108882010,0e1bdcc50b3f1300f94cfbdb2bd290aa:-1108882010</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_201a1c40eb81320047f6a5115206fe49</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Datacenters_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var json = new global.JSON();
	var responseObject = json.decode(response);
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, '', 'Cloud API');
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::Datacenter',
											   'datacenter_create_update_validator');
	return json.encode(cloudModelObject);	
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-15 00:59:48&lt;/sys_created_on&gt;&lt;sys_id&gt;201a1c40eb81320047f6a5115206fe49&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Datacenters_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_201a1c40eb81320047f6a5115206fe49&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-15 07:16:37&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-815674058</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96193b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54e0b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Datacenters_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>966d7cc535bf1300b3f3dc85f7bc2833</update_guid>
<update_guid_history>966d7cc535bf1300b3f3dc85f7bc2833:-815674058,4a1bdcc59b3f13006f0971752d9913ad:-815674058</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4279b35e0be622009e620bcb15673a77</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Subnets_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'Cloud API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::Subnet',
											   'subnet_create_update_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;4279b35e0be622009e620bcb15673a77&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Subnets_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4279b35e0be622009e620bcb15673a77&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-16 02:27:55&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-393981606</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96193e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54ebc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Subnets_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>aa6d7cc535bf130082ecb0823dc06538</update_guid>
<update_guid_history>aa6d7cc535bf130082ecb0823dc06538:-393981606,c21bdcc50d3f1300a84e275425a567b3:-393981606</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5279b35e0be622009e620bcb15673a90</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_IP_To_Subnet</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>5279b35e0be622009e620bcb15673a90</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_IP_To_Subnet</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5279b35e0be622009e620bcb15673a90</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-249837390</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961941</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f2f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_IP_To_Subnet</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>226d7cc5a2bf1300cfb9f403505b083d</update_guid>
<update_guid_history>226d7cc5a2bf1300cfb9f403505b083d:-249837390,8e1bdcc5503f13009c3952756031efb7:-249837390</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5df501abd722220097eb6ccf6e6103a1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Images_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	var rps = new sn_cmp_api.ResponseProcessorScript();&amp;#13;
	var responseToProcess = rps.extractResponse(response);&amp;#13;
	var responseObject = global.JSON.parse(responseToProcess);	&amp;#13;
&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
												  null, //don't pass in LDC as it can be different for azure&amp;#13;
												  'Azure API',&amp;#13;
												  {"correlationId": correlationId,&amp;#13;
												   "step": step,&amp;#13;
												   "requestorContext": requestorContext,&amp;#13;
												   "stackId": stackId});&amp;#13;
	&amp;#13;
	var cloudModelObject = &amp;#13;
		responseProcessor.processResponseArray(responseObject,&amp;#13;
											   null,&amp;#13;
											   '',&amp;#13;
											  null,&amp;#13;
											  'cmdb_ci_os_template');&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
 }&amp;#13;
		&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   null,
											   '',
											  null,
											  'cmdb_ci_os_template');
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;system&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-06-22 17:35:22&lt;/sys_created_on&gt;&lt;sys_id&gt;5df501abd722220097eb6ccf6e6103a1&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Images_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_5df501abd722220097eb6ccf6e6103a1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-21 05:15:02&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-51521396</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961944</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556780000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Images_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fe6d7cc504bf130088c5286ef19481df</update_guid>
<update_guid_history>fe6d7cc504bf130088c5286ef19481df:-51521396,a21b10096e3f1300cb2234bb91ee2409:-51521396</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_68c9c1360b632200e937c97193673ada</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Volumes_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>68c9c1360b632200e937c97193673ada</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Volumes_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_68c9c1360b632200e937c97193673ada</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1611527819</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961947</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549c00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Volumes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ce6d7cc56fbf13006bcc79976415b70e</update_guid>
<update_guid_history>ce6d7cc56fbf13006bcc79976415b70e:1611527819,b11bdcc5363f13008c875c9621c8dd7a:1611527819</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103be</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Igws_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>75f501abd722220097eb6ccf6e6103be</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Igws_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103be</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-515029804</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96194a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557d40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Igws_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>036d7cc52abf13009aaf3d932223a0fd</update_guid>
<update_guid_history>036d7cc52abf13009aaf3d932223a0fd:-515029804,ee1b10092b3f1300101642396265351a:-515029804</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_80f683360b5132000747a387b6673a92</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_Network_Interface_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var nicResp = global.JSON.parse(response);

	var networkInfo = {
		"cmdb_ci_nic": {
			"validator": "nic_create_validator",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id" : cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id" : ldc
					}
				},
				"cmdb_ci_nic": {
					"criterion": {
						"object_id": nicResp.id
					}
				}
			},
			"attributes": {
				"object_id": nicResp.id,
				"state": "terminated"
			},
			"references":{
			}
		}
	};
	cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-08 12:55:57&lt;/sys_created_on&gt;&lt;sys_id&gt;80f683360b5132000747a387b6673a92&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_Network_Interface_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_80f683360b5132000747a387b6673a92&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-15 15:50:33&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-65189404</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96194d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558bd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Delete_Network_Interface_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>076dbcc579bf1300c5c81f522a17a509</update_guid>
<update_guid_history>076dbcc579bf1300c5c81f522a17a509:-65189404,ee1b1009a43f1300f4ca8291d8bd0b40:-65189404</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8a80768c67e00300a7526c706785efc2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Associate_ServerArray_VMs_To_Stack&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {&amp;#13;
	&amp;#13;
	var tagsInfo = "";&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
	var nodesResponse = global.JSON.parse(response);&amp;#13;
	&amp;#13;
	for(var i=0; i&amp;lt;nodesResponse.length; i++){&amp;#13;
		var vmGR = getGlideRecord('cmdb_ci_vm_instance','object_id',nodesResponse[i].nodeId);&amp;#13;
		if(!(isEmpty(nodesResponse[i].tags))){&amp;#13;
			tagsInfo = nodesResponse[i].tags;&amp;#13;
			for(var j=0; j&amp;lt; tagsInfo.length; j++){&amp;#13;
				//Checking If VM belong to any Scaling Group&amp;#13;
				if(tagsInfo[j].key == "aws:autoscaling:groupName"){&amp;#13;
					//Fetching Server Array associated for the VM&amp;#13;
					var serverArrayGR = getGlideRecord('cmdb_ci_sa_server_array','object_id',tagsInfo[j].value);&amp;#13;
					//Fetching the Relation of Stack and Server Array from cmdb_rel_ci&amp;#13;
					var relCiGR = getGlideRecord('cmdb_rel_ci','child',serverArrayGR.getValue('sys_id'));&amp;#13;
					//Fetching the Stack to update the VM as Stack Items&amp;#13;
					var stackGR = getGlideRecord('sn_cmp_stack','sys_id',relCiGR.getValue('parent'));&amp;#13;
					vmGR.assigned_to = stackGR.getValue('assigned_to');&amp;#13;
					vmGR.assignment_group = stackGR.getValue('assignment_group');&amp;#13;
					vmGR.update();&amp;#13;
					&amp;#13;
					var gr = new GlideRecord('sn_cmp_stack_item');&amp;#13;
					gr.addQuery('ci_instance_id',vmGR.getValue('sys_id'));&amp;#13;
					gr.query();&amp;#13;
					if(!(gr.hasNext())){&amp;#13;
						gr.initialize();&amp;#13;
						gr.alias = vmGR.getValue('name');&amp;#13;
						gr.ci_instance_id = vmGR.getValue('sys_id');&amp;#13;
						gr.parent_block_id = getGlideRecord('sn_cmp_rb_resourceblock','name','AWS Datacenter').getValue('sys_id');&amp;#13;
						gr.resource_block_id = getGlideRecord('sn_cmp_rb_resourceblock','name','Virtual Server Array').getValue('sys_id');&amp;#13;
						gr.stack = stackGR.getValue('sys_id');&amp;#13;
						gr.status = 2; //'Processed'&amp;#13;
						gr.insert();&amp;#13;
					}&amp;#13;
				}&amp;#13;
			}&amp;#13;
		}&amp;#13;
	}&amp;#13;
}&amp;#13;
&amp;#13;
//Glide Record Query&amp;#13;
function getGlideRecord(tableName,columnValue,expectedValue){&amp;#13;
	var queryGR = new GlideRecord(tableName);&amp;#13;
	queryGR.addQuery(columnValue,expectedValue);&amp;#13;
	queryGR.query();&amp;#13;
	if(queryGR.next())&amp;#13;
		return queryGR;&amp;#13;
}&amp;#13;
&amp;#13;
//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)&amp;#13;
function isEmpty(value){&amp;#13;
	return (value == null || value.length === 0);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	
	var tagsInfo = "";
	var reqContext = global.JSON.parse(requestorContext);
	var nodesResponse = global.JSON.parse(response);
	
	for(var i=0; i&lt;nodesResponse.length; i++){
		var vmGR = getGlideRecord('cmdb_ci_vm_instance','object_id',nodesResponse[i].nodeId);
		if(!(isEmpty(nodesResponse[i].tags))){
			tagsInfo = nodesResponse[i].tags;
			for(var j=0; j&lt; tagsInfo.length; j++){
				//Checking If VM belong to any Scaling Group
				if(tagsInfo[j].key == "aws:autoscaling:groupName"){
					//Fetching Server Array associated for the VM
					var serverArrayGR = getGlideRecord('cmdb_ci_sa_server_array','object_id',tagsInfo[j].value);
					//Fetching the Relation of Stack and Server Array from cmdb_rel_ci
					var relCiGR = getGlideRecord('cmdb_rel_ci','child',serverArrayGR.getValue('sys_id'));
					//Fetching the Stack to update the VM as Stack Items
					var stackGR = getGlideRecord('sn_cmp_stack','sys_id',relCiGR.getValue('parent'));
					vmGR.assigned_to = stackGR.getValue('assigned_to');
					vmGR.assignment_group = stackGR.getValue('assignment_group');
					vmGR.update();
					
					var gr = new GlideRecord('sn_cmp_stack_item');
					gr.addQuery('ci_instance_id',vmGR.getValue('sys_id'));
					gr.query();
					if(!(gr.hasNext())){
						gr.initialize();
						gr.alias = vmGR.getValue('name');
						gr.ci_instance_id = vmGR.getValue('sys_id');
						gr.parent_block_id = getGlideRecord('sn_cmp_rb_resourceblock','name','AWS Datacenter').getValue('sys_id');
						gr.resource_block_id = getGlideRecord('sn_cmp_rb_resourceblock','name','Virtual Server Array').getValue('sys_id');
						gr.stack = stackGR.getValue('sys_id');
						gr.status = 2; //'Processed'
						gr.insert();
					}
				}
			}
		}
	}
}

//Glide Record Query
function getGlideRecord(tableName,columnValue,expectedValue){
	var queryGR = new GlideRecord(tableName);
	queryGR.addQuery(columnValue,expectedValue);
	queryGR.query();
	if(queryGR.next())
		return queryGR;
}

//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)
function isEmpty(value){
	return (value == null || value.length === 0);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 11:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;8a80768c67e00300a7526c706785efc2&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;Associate_ServerArray_VMs_To_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8a80768c67e00300a7526c706785efc2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-08 16:11:59&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>416236378</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96194e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550d80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_ServerArray_VMs_To_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ee6d7cc50fbf1300e7dfb4575c26d38a</update_guid>
<update_guid_history>ee6d7cc50fbf1300e7dfb4575c26d38a:416236378,0e1bdcc5593f1300d8a98be8bfbbb5c8:416236378</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_99f9e1c70bb932003969a387b6673a6c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Network_Interfaces_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var nodeData = global.JSON.parse(response);&amp;#13;
	&amp;#13;
	if(nodeData.networkInterfaces &amp;amp;&amp;amp; nodeData.networkInterfaces.length &amp;gt; 0){&amp;#13;
		for (var i=0; i&amp;lt; nodeData.networkInterfaces.length; i++){&amp;#13;
			var nic = nodeData.networkInterfaces[i];&amp;#13;
			var nicId = nic.networkInterfaceId;&amp;#13;
			&amp;#13;
			var publicIP = '';&amp;#13;
			if (nic.publicIPAddresses &amp;amp;&amp;amp; nic.publicIPAddresses.length &amp;gt; 0)&amp;#13;
				publicIP = nic.publicIPAddresses[0];&amp;#13;
			&amp;#13;
			var state = 'available';&amp;#13;
			var endpoints = [];&amp;#13;
			&amp;#13;
			if(nic.ownerId !== ''){&amp;#13;
				state = 'in_use';&amp;#13;
				var endPointId = nicId;&amp;#13;
				var enpoint = {&amp;#13;
					"attach_to":{&amp;#13;
						"implemented_by":{&amp;#13;
							"endpoint_ci":"cmdb_ci_endpoint_vnic",&amp;#13;
							"endpoint_identification":{&amp;#13;
								"object_id": endPointId&amp;#13;
							},&amp;#13;
							"attributes":{&amp;#13;
								"name": endPointId,&amp;#13;
								"host": nic.ownerId,&amp;#13;
								"target_port":"",&amp;#13;
								"object_id": endPointId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					}&amp;#13;
				};&amp;#13;
				endpoints.push(enpoint);&amp;#13;
			}&amp;#13;
			&amp;#13;
			var networkInfo = {&amp;#13;
				"cmdb_ci_nic": {&amp;#13;
					"validator": "nic_create_validator",&amp;#13;
					"validator_overrides": {&amp;#13;
					},&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id" : cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id" : ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_nic": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": nicId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": nicId,&amp;#13;
						"name": nic.name,&amp;#13;
						"allocation_id":"",&amp;#13;
						"attach_time":"",&amp;#13;
						"gateway": nic.gateway,&amp;#13;
						"host_name": nodeData.nodeName,&amp;#13;
						"is_connected":"",&amp;#13;
						"is_static":"",&amp;#13;
						"net_mask": nic.netmask,&amp;#13;
						"owner": nic.ownerId,&amp;#13;
						"private_dns": nic.privateDnsName,&amp;#13;
						"private_ip": nic.privateIPAddresses[0],&amp;#13;
						"public_dns":"",&amp;#13;
						"is_source_dest_check": nic.sourceDestCheck,&amp;#13;
						"public_ip": publicIP,&amp;#13;
						"node_id": nodeData.nodeId,&amp;#13;
						"network_id": nic.networkId,&amp;#13;
						"network":"",&amp;#13;
						"subnet_id": nic.subnetId,&amp;#13;
						"state": state&amp;#13;
					},&amp;#13;
					"references": {&amp;#13;
						"cmdb_ci_cloud_subnet": {&amp;#13;
							"identification": {&amp;#13;
								"cmdb_ci_cloud_service_account": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": cloudServiceAccountId&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_azure_datacenter": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": ldc&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_network": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": nic.networkId&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_cloud_subnet": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": nic.subnetId&amp;#13;
									}&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"attributes": {&amp;#13;
								"object_id": nic.subnetId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_resource_group": {&amp;#13;
							"identification": {&amp;#13;
								"cmdb_ci_cloud_service_account": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": cloudServiceAccountId&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_azure_datacenter": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": ldc&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"cmdb_ci_resource_group": {&amp;#13;
									"criterion": {&amp;#13;
										"object_id": nic.resourceGroup&amp;#13;
									}&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"attributes": {&amp;#13;
								"object_id": nic.resourceGroup,&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"bindings": endpoints&amp;#13;
				}&amp;#13;
			};&amp;#13;
&amp;#13;
			if(!gs.nil(nic.securitygroups)){&amp;#13;
				networkInfo["cmdb_ci_nic"].references["cmdb_ci_compute_security_group"] = {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_compute_security_group": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": nic.securitygroups&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": nic.securitygroups&amp;#13;
					}&amp;#13;
				};&amp;#13;
			}&amp;#13;
&amp;#13;
			if (!gs.nil(nic.tagSet))&amp;#13;
				networkInfo["cmdb_ci_nic"].tagValues = global.JSON.stringify(nic.tagSet);&amp;#13;
&amp;#13;
			cloudModelString.push(networkInfo);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var nodeData = global.JSON.parse(response);

	if(nodeData.networkInterfaces &amp;&amp; nodeData.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; nodeData.networkInterfaces.length; i++){
			var nic = nodeData.networkInterfaces[i];
			var nicId = nic.networkInterfaceId;

			var publicIP = '';
			if (nic.publicIPAddresses &amp;&amp; nic.publicIPAddresses.length &gt; 0)
				publicIP = nic.publicIPAddresses[0];

			var state = 'available';
			var endpoints = [];

			if(nic.ownerId !== ''){
				state = 'in_use';
				var endPointId = nicId;
				var enpoint = {
					"attach_to":{
						"implemented_by":{
							"endpoint_ci":"cmdb_ci_endpoint_vnic",
							"endpoint_identification":{
								"object_id": endPointId
							},
							"attributes":{
								"name": endPointId,
								"host": nic.ownerId,
								"target_port":"",
								"object_id": endPointId
							}
						}
					}
				};
				endpoints.push(enpoint);
			}

			var networkInfo = {
				"cmdb_ci_nic": {
					"validator": "nic_create_validator",
					"validator_overrides": {
					},
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id" : cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id" : ldc
							}
						},
						"cmdb_ci_nic": {
							"criterion": {
								"object_id": nicId
							}
						}
					},
					"attributes": {
						"object_id": nicId,
						"name": nic.name,
						"allocation_id":"",
						"attach_time":"",
						"gateway": nic.gateway,
						"host_name": nodeData.nodeName,
						"is_connected":"",
						"is_static":"",
						"net_mask": nic.netmask,
						"owner": nic.ownerId,
						"private_dns": nic.privateDnsName,
						"private_ip": nic.privateIPAddresses[0],
						"public_dns":"",
						"is_source_dest_check": nic.sourceDestCheck,
						"public_ip": publicIP,
						"node_id": nodeData.nodeId,
						"network_id": nic.networkId,
						"network":"",
						"subnet_id": nic.subnetId,
						"state": state
					},
					"references": {
						"cmdb_ci_cloud_subnet": {
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_azure_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_network": {
									"criterion": {
										"object_id": nic.networkId
									}
								},
								"cmdb_ci_cloud_subnet": {
									"criterion": {
										"object_id": nic.subnetId
									}
								}
							},
							"attributes": {
								"object_id": nic.subnetId
							}
						},
						"cmdb_ci_resource_group": {
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_azure_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_resource_group": {
									"criterion": {
										"object_id": nic.resourceGroup
									}
								}
							},
							"attributes": {
								"object_id": nic.resourceGroup,
							}
						}
					},
					"bindings": endpoints
				}
			};

			if(!gs.nil(nic.securityGroups)){
				networkInfo["cmdb_ci_nic"].references["cmdb_ci_compute_security_group"] = {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_compute_security_group": {
							"criterion": {
								"object_id": nic.securityGroups
							}
						}
					},
					"attributes": {
						"object_id": nic.securityGroups
					}
				};
			}

			if (!gs.nil(nic.tagSet))
				networkInfo["cmdb_ci_nic"].tagValues = global.JSON.stringify(nic.tagSet);

			cloudModelString.push(networkInfo);
		}
	}

	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-02 21:22:33&lt;/sys_created_on&gt;&lt;sys_id&gt;99f9e1c70bb932003969a387b6673a6c&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Network_Interfaces_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_99f9e1c70bb932003969a387b6673a6c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-03-13 16:19:30&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1654965039</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961951</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558e40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Network_Interfaces_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>036dbcc575bf1300ee612352ba22850b</update_guid>
<update_guid_history>036dbcc575bf1300ee612352ba22850b:-1654965039,6e1b1009993f1300c143bd38ad7f0042:-1654965039</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_b028d9430bb932003969a387b6673a62</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Associate_Network_Interface_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var nicInfoHandler = [];
	var cloudModelString = [];
	var nodeData = global.JSON.parse(response);
		
	if(nodeData.networkInterfaces &amp;&amp; nodeData.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; nodeData.networkInterfaces.length; i++){
			var nic = nodeData.networkInterfaces[i];
			var nicId = nic.networkInterfaceId;
			var endPointId = "nic-" + nicId + "_endpoint";

			var nicTemp = {
				"cmdb_ci_nic": {
					"validator": "nic_create_validator",
					"validator_overrides": {},
					"identification":{
						"cmdb_ci_cloud_service_account":{
							"criterion":{
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter":{
							"criterion":{
								"object_id": ldc
							}
						},
						"cmdb_ci_nic":{
							"criterion":{
								"object_id": nicId
							}
						}
					},
					"attributes":{
						"object_id": nicId,
						"state": "in_use"
					},
					"bindings":[
						{
							"attach_to":{
								"implemented_by":{
									"endpoint_ci":"cmdb_ci_endpoint_vnic",
									"endpoint_identification":{
										"object_id": endPointId
									},
									"attributes":{
										"name": endPointId,
										"host": nodeData.nodeId,
										"target_port":"",
										"object_id": endPointId
									}
								}
							}
						}
					]
				}
			};
			cloudModelString.push(nicTemp);
		}
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-02 20:00:29&lt;/sys_created_on&gt;&lt;sys_id&gt;b028d9430bb932003969a387b6673a62&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Associate_Network_Interface_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_b028d9430bb932003969a387b6673a62&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-02 20:21:29&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1952346528</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559470000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Associate_Network_Interface_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>876dbcc5e0bf130078c18b2a3d6ab10f</update_guid>
<update_guid_history>876dbcc5e0bf130078c18b2a3d6ab10f:1952346528,7e1b10092d3f1300d46e032694ea966c:1952346528</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ce79b35e0be622009e620bcb15673a73</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_IPAddresses_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>ce79b35e0be622009e620bcb15673a73</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_IPAddresses_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_ce79b35e0be622009e620bcb15673a73</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>809343296</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d961957</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552ba0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_IPAddresses_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>3a6d7cc51ebf13004ba206a16a7e0cab</update_guid>
<update_guid_history>3a6d7cc51ebf13004ba206a16a7e0cab:809343296,561bdcc59b3f1300b286a653e12accde:809343296</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_de79b35e0be622009e620bcb15673a8c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_LB_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>de79b35e0be622009e620bcb15673a8c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_LB_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_de79b35e0be622009e620bcb15673a8c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-2123548308</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96195a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553360000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Associate_LB_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>726d7cc588bf1300d4ff152f59cc66be</update_guid>
<update_guid_history>726d7cc588bf1300d4ff152f59cc66be:-2123548308,9e1bdcc5a03f1300687a4858fbb1a6e4:-2123548308</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rsrc_opr_cat_item_4fa40d7d931813004a9032bfa67ffb1b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rsrc_opr_cat_item"><sn_cmp_rsrc_opr_cat_item action="INSERT_OR_UPDATE"><active>true</active><availability>on_desktop</availability><billable>false</billable><category/><cost>0</cost><custom_cart/><delivery_plan/><delivery_plan_script/><delivery_time>1970-01-03 00:00:00</delivery_time><description/><entitlement_script/><group/><hide_sp>false</hide_sp><icon/><ignore_price>true</ignore_price><image/><list_price>0</list_price><location/><meta/><mobile_hide_price>false</mobile_hide_price><mobile_picture/><mobile_picture_type>use_no_picture</mobile_picture_type><model/><name>Virtual Server - Start</name><no_cart>false</no_cart><no_order>false</no_order><no_order_now>false</no_order_now><no_proceed_checkout>false</no_proceed_checkout><no_quantity>false</no_quantity><no_search>false</no_search><omit_price>false</omit_price><order>0</order><ordered_item_link/><picture/><preview>JavaScript: popupOpenStandard("com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;sysparm_id=4fa40d7d931813004a9032bfa67ffb1b&amp;sysparm_preview=true", "summary");</preview><price>0</price><recurring_frequency/><recurring_price>0</recurring_price><roles/><sc_catalogs/><sc_ic_item_staging/><sc_ic_version/><short_description>Are you sure you want to perform this operation?</short_description><show_variable_help_on_load>false</show_variable_help_on_load><start_closed>false</start_closed><sys_class_name>sn_cmp_rsrc_opr_cat_item</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:06</sys_created_on><sys_id>4fa40d7d931813004a9032bfa67ffb1b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Virtual Server - Start</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy>read</sys_policy><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rsrc_opr_cat_item_4fa40d7d931813004a9032bfa67ffb1b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:06</sys_updated_on><template/><type>item</type><use_sc_layout>true</use_sc_layout><vendor/><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><workflow display_value="Cloud Resource Operation Request">c61355e3875032003273f4bbe3e3ec2d</workflow></sn_cmp_rsrc_opr_cat_item><sys_translated_text action="delete_multiple" query="documentkey=4fa40d7d931813004a9032bfa67ffb1b"/><fx_price action="delete_multiple" query="id=4fa40d7d931813004a9032bfa67ffb1b"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price</field><id>4fa40d7d931813004a9032bfa67ffb1b</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:06</sys_created_on><sys_id>cba40d7d931813004a9032bfa67ffb1c</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:06</sys_updated_on><table>sn_cmp_rsrc_opr_cat_item</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>recurring_price</field><id>4fa40d7d931813004a9032bfa67ffb1b</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:06</sys_created_on><sys_id>8ba40d7d931813004a9032bfa67ffb1d</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:06</sys_updated_on><table>sn_cmp_rsrc_opr_cat_item</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>237770758</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>976dbcc5dbbf1300786ff1351d96195d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd546930000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Virtual Server - Start</target_name>
<type>Resource Operation Catalog Item</type>
<update_domain>global</update_domain>
<update_guid>426d3cc5a4bf130014088bfe1f0266d0</update_guid>
<update_guid_history>426d3cc5a4bf130014088bfe1f0266d0:237770758,2d1bdcc5fa3f1300983bcf1a47227751:237770758</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_92f1c179931813004a9032bfa67ffbf0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Deprovision">cf618d39931813004a9032bfa67ffb0a</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceId</name><order>20</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Id</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:18</sys_created_on><sys_id>92f1c179931813004a9032bfa67ffbf0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Id</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_92f1c179931813004a9032bfa67ffbf0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:18</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=92f1c179931813004a9032bfa67ffbf0"/><fx_price action="delete_multiple" query="id=92f1c179931813004a9032bfa67ffbf0"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>92f1c179931813004a9032bfa67ffbf0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:18</sys_created_on><sys_id>9ef1c179931813004a9032bfa67ffbf1</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:18</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>92f1c179931813004a9032bfa67ffbf0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:18</sys_created_on><sys_id>56f1c179931813004a9032bfa67ffbf1</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:18</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>359808696</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d96192a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd546090000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Id</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>756d3cc582bf1300c387cdbdb23e08c9</update_guid>
<update_guid_history>756d3cc582bf1300c387cdbdb23e08c9:359808696,e91bdcc5c73f130068cbcfbfe74c0c4a:359808696</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_a8c8fab7db5313002c87f1771d9619b8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Cleanup">1a041598db9f1f00786ff1351d96197a</blueprint_stage_op><child_operation display_value="Virtual Server.Deprovision">aef4d51cdb9f1f00786ff1351d96198c</child_operation><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.Deprovision">a6f4d51cdb9f1f00786ff1351d961980</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>a8c8fab7db5313002c87f1771d9619b8</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_a8c8fab7db5313002c87f1771d9619b8</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>1140981152</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d96192d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5408e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>216d3cc538bf130049576ed126cb7698</update_guid>
<update_guid_history>216d3cc538bf130049576ed126cb7698:1140981152</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_04cfd2b09f40320048111f80a57fcf1f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Stack Orchestration Interface">64271337d722220097eb6ccf6e6103f5</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>jimmy.yuan</sys_created_by><sys_created_on>2016-12-30 01:36:11</sys_created_on><sys_id>04cfd2b09f40320048111f80a57fcf1f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_04cfd2b09f40320048111f80a57fcf1f</sys_update_name><sys_updated_by>jimmy.yuan</sys_updated_by><sys_updated_on>2016-12-30 01:36:11</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1103654631</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961930</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54ca70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>526d7cc54dbf1300c7b81000e8feb724</update_guid>
<update_guid_history>526d7cc54dbf1300c7b81000e8feb724:1103654631,c21bdcc5263f1300c5097783cf855d9d:1103654631</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_d1f5cd6bd722220097eb6ccf6e610349</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Compute Interface">f979b35e0be622009e620bcb15673a26</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-24 18:32:53</sys_created_on><sys_id>d1f5cd6bd722220097eb6ccf6e610349</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_d1f5cd6bd722220097eb6ccf6e610349</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-24 18:32:53</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>-821734743</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961933</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554220000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>b26d7cc530bf130030bf132d0935d4c7</update_guid>
<update_guid_history>b26d7cc530bf130030bf132d0935d4c7:-821734743,5a1bdcc56c3f1300bf4b021ffd6bc5ee:-821734743</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcehost_ccc313f30b3222009e620bcb15673a12</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcehost"><sn_cmp_rb_resourcehost action="INSERT_OR_UPDATE"><guestresource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</guestresource><hostresource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</hostresource><sys_class_name>sn_cmp_rb_resourcehost</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-11-07 09:46:54</sys_created_on><sys_id>ccc313f30b3222009e620bcb15673a12</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcehost_ccc313f30b3222009e620bcb15673a12</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-11-07 09:46:54</sys_updated_on></sn_cmp_rb_resourcehost></record_update>]]></payload>
<payload_hash>-1580983515</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961936</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541810000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Host</type>
<update_domain>global</update_domain>
<update_guid>696d3cc5bebf130073e6280fa110f5a4</update_guid>
<update_guid_history>696d3cc5bebf130073e6280fa110f5a4:-1580983515,dd1bdcc5a03f1300bc08277e302a4423:-1580983515</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_157334220b7032003969a387b6673a9c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Network_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var networkResponse = global.JSON.parse(response);
	
	var reqContext = global.JSON.parse(requestorContext);
	var networkInfo = {
		"cmdb_ci_network": {
			"validator": "network_create_update_validator",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_network": {
					"criterion": {
						"object_id": networkResponse.networkId
					}
				}
			},
			"attributes": {
				"object_id": networkResponse.networkId,
				"name": networkResponse.networkName ,
				"cidr": networkResponse.cidrBlock,
				"vm_count": networkResponse.vmCount,
				"host_count": networkResponse.hostCount,
				"is_external": networkResponse.isExternal,
				"admin_state": networkResponse.state,
				"default_gateway": networkResponse.internetGateway,
				"is_shared": networkResponse.shared+"",
				"netmask": networkResponse.netmask,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId,
				"state":"available"
			},
			"references": {
				"cmdb_ci_resource_group": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_resource_group": {
							"criterion": {
								"object_id": networkResponse.resourceGroup
							}
						}
					},
					"attributes": {
						"object_id":  networkResponse.resourceGroup
					}
				}
			}
		}
	};
	if (!gs.nil(networkResponse.tags))
		networkInfo["cmdb_ci_network"].tagValues = global.JSON.stringify(networkResponse.tags);
	
	cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-10 11:13:51&lt;/sys_created_on&gt;&lt;sys_id&gt;157334220b7032003969a387b6673a9c&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Network_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_157334220b7032003969a387b6673a9c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-03-01 11:16:16&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1687712711</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961939</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554a80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Network_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fa6d7cc5dfbf1300498ba0c8ffc2f6cc</update_guid>
<update_guid_history>fa6d7cc5dfbf1300498ba0c8ffc2f6cc:1687712711,1a1bdcc5633f1300884b5d1b855cd3f4:1687712711</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_326048440b632200668daac125673a80</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Detach_Storage_Volume_Virtual_Server&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeAttachment = global.JSON.parse(response);&amp;#13;
	var endPointId = volumeAttachment.volumeId + '_block_endpoint';&amp;#13;
	var volumeAttachInfo = {&amp;#13;
		"cmdb_ci_vm_instance": {&amp;#13;
			"validator": "volume_detach_vm",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeAttachment.instanceId&amp;#13;
						}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeAttachment.instanceId,&amp;#13;
				"disks": getDiskCount(volumeAttachment.instanceId)&amp;#13;
			},&amp;#13;
			"bindings": [&amp;#13;
				{&amp;#13;
				    "detach_from": {&amp;#13;
					    "used_by": {&amp;#13;
						    "endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
						    "endpoint_identification": {&amp;#13;
						    "object_id": endPointId&amp;#13;
						    }&amp;#13;
						}&amp;#13;
				    }&amp;#13;
				}&amp;#13;
			]&amp;#13;
		}&amp;#13;
	};&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
    function getDiskCount(instanceId){&amp;#13;
		var disks;&amp;#13;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");&amp;#13;
		diskCount.addQuery('object_id',instanceId);&amp;#13;
	    diskCount.query();&amp;#13;
	if (diskCount.next()){ &amp;#13;
		disks = parseInt(diskCount.getValue("disks"))-1;&amp;#13;
	}&amp;#13;
		return disks;&amp;#13;
	}&amp;#13;
	cloudModelString.push(volumeAttachInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeAttachment = global.JSON.parse(response);
	var endPointId = volumeAttachment.volumeId + '_block_endpoint';
	var volumeAttachInfo = {
		"cmdb_ci_vm_instance": {
			"validator": "volume_detach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": volumeAttachment.instanceId
						}
				}
			},
			"attributes": {
				"object_id": volumeAttachment.instanceId,
				"disks": getDiskCount(volumeAttachment.instanceId)
			},
			"bindings": [
				{
				    "detach_from": {
					    "used_by": {
						    "endpoint_ci": "cmdb_ci_endpoint_block",
						    "endpoint_identification": {
						    "object_id": endPointId
						    }
						}
				    }
				}
			]
		}
	};
	// Defensive Code to handle Empty Volumes Info
    function getDiskCount(instanceId){
		var disks;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");
		diskCount.addQuery('object_id',instanceId);
	    diskCount.query();
	if (diskCount.next()){ 
		disks = parseInt(diskCount.getValue("disks"))-1;
	}
		return disks;
	}
	cloudModelString.push(volumeAttachInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-02 09:33:08&lt;/sys_created_on&gt;&lt;sys_id&gt;326048440b632200668daac125673a80&lt;/sys_id&gt;&lt;sys_mod_count&gt;23&lt;/sys_mod_count&gt;&lt;sys_name&gt;Detach_Storage_Volume_Virtual_Server&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_326048440b632200668daac125673a80&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-06 12:19:46&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1524736178</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d96193d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54e7c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Detach_Storage_Volume_Virtual_Server</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ae6d7cc5e2bf1300c40ea1a7f56e2836</update_guid>
<update_guid_history>ae6d7cc5e2bf1300c40ea1a7f56e2836:-1524736178,461bdcc5753f1300f5a68240104944b1:-1524736178</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4ef501abd722220097eb6ccf6e6103d1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Storage_Volume_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeResponse = global.JSON.parse(response);&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
	var volume = {&amp;#13;
		"cmdb_ci_storage_volume": {&amp;#13;
			"validator": "default_storage_volume_validator",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_azure_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_storage_volume": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeResponse.id&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeResponse.id,&amp;#13;
				"volume_id": volumeResponse.id,&amp;#13;
				"name": volumeResponse.name,&amp;#13;
				"total_size_gb":volumeResponse.properties.diskSizeGB,&amp;#13;
				"size_bytes":volumeResponse.properties.diskSizeGB*1024*1024*1024,&amp;#13;
				"storage_type":"Block",&amp;#13;
				"state":"available",&amp;#13;
				"volume_type":volumeResponse.accountType,&amp;#13;
				"assigned_to":reqContext.userId,&amp;#13;
				"assignment_group":reqContext.groupId&amp;#13;
			},&amp;#13;
			"references": {&amp;#13;
				"cmdb_ci_resource_group": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_resource_group": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": volumeResponse.resourceGroup&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": volumeResponse.resourceGroup&amp;#13;
					}&amp;#13;
				}&amp;#13;
			}&amp;#13;
		}&amp;#13;
	};&amp;#13;
	&amp;#13;
	// Include tagValues if there are any&amp;#13;
	if (!gs.nil(volumeResponse.tags))&amp;#13;
		volume.cmdb_ci_storage_volume.tagValues= global.JSON.stringify(volumeResponse.tags);&amp;#13;
&amp;#13;
	cloudModelString.push(volume);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeResponse.id
					}
				}
			},
			"attributes": {
				"object_id": volumeResponse.id,
				"volume_id": volumeResponse.id,
				"name": volumeResponse.name,
				"total_size_gb":volumeResponse.properties.diskSizeGB,
				"size_bytes":volumeResponse.properties.diskSizeGB*1024*1024*1024,
				"storage_type":"Block",
				"state":"available",
				"volume_type":volumeResponse.accountType,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			},
			"references": {
				"cmdb_ci_resource_group": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_resource_group": {
							"criterion": {
								"object_id": volumeResponse.resourceGroup
							}
						}
					},
					"attributes": {
						"object_id": volumeResponse.resourceGroup
					}
				}
			}
		}
	};
	
	if (!gs.nil(volumeResponse.tags))
		volume['cmdb_ci_storage_volume'].tagValues= global.JSON.stringify(volumeResponse.tags);

	cloudModelString.push(volume);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;system&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-02-26 07:10:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4ef501abd722220097eb6ccf6e6103d1&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Storage_Volume_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4ef501abd722220097eb6ccf6e6103d1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-26 13:26:24&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1844057730</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961940</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555a70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Storage_Volume_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>726d7cc585bf130033efa86a4fe331d8</update_guid>
<update_guid_history>726d7cc585bf130033efa86a4fe331d8:1844057730,ea1b1009fe3f13009773a6672d5ef100:1844057730</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5a79b35e0be622009e620bcb15673a9c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Assoc_IAM_To_Storage_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>5a79b35e0be622009e620bcb15673a9c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Assoc_IAM_To_Storage_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5a79b35e0be622009e620bcb15673a9c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1693359006</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961943</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f8b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Assoc_IAM_To_Storage_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>266d7cc5abbf1300c22d743b8793e472</update_guid>
<update_guid_history>266d7cc5abbf1300c22d743b8793e472:1693359006,8a1bdcc5513f1300c6cebc8f44d12ebb:1693359006</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6637464767213200790a6c706785ef30</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_node_creds_and_associate_to_mgmt_creds_response_processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
  var vmResponse = global.JSON.parse(response);

  var identification = [
    {
        "cmdb_ci_vm_instance":
        {
            "identification":
             {
                "cmdb_ci_cloud_service_account": {
                    "criterion": {
                        "object_id": cloudServiceAccountId
                    }
                },
                "cmdb_ci_aws_datacenter": {
                    "criterion": {
                        "object_id":ldc
                    }
                },
                "cmdb_ci_vm_instance": {
                    "criterion": {
                        "object_id": vmResponse.nodeId
                    }
                }
            }
        }
    }
  ];
	
  var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
  var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
  var ci = global.JSON.parse(ciPayload);
  var nodeSysId = ci.cmdb_ci_vm_instance.sys_id;
  
  if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
	  var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
	  var mgmtCred = sshKeyScript.deleteNodeCredentials(nodeSysId);
  }
  return global.JSON.stringify([]);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-21 13:16:54&lt;/sys_created_on&gt;&lt;sys_id&gt;6637464767213200790a6c706785ef30&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_node_creds_and_associate_to_mgmt_creds_response_processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_6637464767213200790a6c706785ef30&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-21 13:16:54&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-127248394</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961946</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541f30000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_node_creds_and_associate_to_mgmt_creds_response_processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a16d3cc5b3bf13004ad11781694085a8</update_guid>
<update_guid_history>a16d3cc5b3bf13004ad11781694085a8:-127248394,1d1bdcc5133f1300f28b22578b272d27:-127248394</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7434a5126755320030066c706785ef20</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_vSphere_Node_creds_and_associate_to_mgmt_creds_response_processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
      var vmResponse = global.JSON.parse(response);
      var stepResponse = global.JSON.parse(step);
      var identification = [
      {
      "cmdb_ci_vmware_instance":
      {
      "identification":
      {
      "cmdb_ci_cloud_service_account": {
      "criterion": {
      "object_id": cloudServiceAccountId
      }
      },
      "cmdb_ci_vcenter_datacenter": {
      "criterion": {
      "object_id": stepResponse.ldcObjectId
      }
      },
      "cmdb_ci_vmware_instance": {
      "criterion": {
      "object_id": vmResponse.objectId
      }
      }
      }
      }
      }
      ];

      var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
      var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
      var ci = global.JSON.parse(ciPayload);
      var nodeSysId = ci.cmdb_ci_vmware_instance.sys_id;

      var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
      var nodeGenScript = new global.GenerateNodeCredentials();
      var nodeCredId = nodeGenScript.generateNodeCredential(nodeSysId, vmResponse.objectId, vmResponse.userId);
      gs.info("Node Credential ID in Response Processor - " + nodeCredId);

      sshKeyScript.associateToNode(nodeCredId, nodeSysId);

      return global.JSON.stringify([]);
      }
    &lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var vmResponse = global.JSON.parse(response);
	var stepResponse = global.JSON.parse(step);
	var identification = [
		{
			"cmdb_ci_vmware_instance":
			{
				"identification":
				{
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_vcenter_datacenter": {
						"criterion": {
							"object_id": stepResponse.ldcObjectId
						}
					},
					"cmdb_ci_vmware_instance": {
						"criterion": {
							"object_id": vmResponse.objectId
						}
					}
				}
			}
		}
	];

	var cloudModelScript = new sn_cmp_api.CloudModelProcessorScript();
	var ciPayload = cloudModelScript.retrieveCIs(global.JSON.stringify(identification), "shallow");
	var ci = global.JSON.parse(ciPayload);
	var nodeSysId = ci.cmdb_ci_vmware_instance.sys_id;

	var sshKeyScript = new sn_cmp_api.SSHKeyPairScript();
	var nodeGenScript = new global.GenerateNodeCredentials();
	var nodeCredId = nodeGenScript.generateNodeCredential(nodeSysId, vmResponse.objectId, vmResponse.userId);
	gs.info("Node Credential ID in Response Processor - " + nodeCredId);

	sshKeyScript.associateToNode(nodeCredId, nodeSysId);

	return global.JSON.stringify([]);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-06 16:27:25&lt;/sys_created_on&gt;&lt;sys_id&gt;7434a5126755320030066c706785ef20&lt;/sys_id&gt;&lt;sys_mod_count&gt;20&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_vSphere_Node_creds_and_associate_to_mgmt_creds_response_processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7434a5126755320030066c706785ef20&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-25 07:53:37&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>396100544</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961949</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5420c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_vSphere_Node_creds_and_associate_to_mgmt_creds_response_processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>216d3cc5acbf13005e33499a9a018aa9</update_guid>
<update_guid_history>216d3cc5acbf13005e33499a9a018aa9:396100544,d91bdcc5593f13005c215dba81e45228:396100544</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103c5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Customer_Gateways_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>7df501abd722220097eb6ccf6e6103c5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Customer_Gateways_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103c5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>99623430</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d96194c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5588b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Customer_Gateways_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8b6dbcc57dbf1300ce575252c97bea06</update_guid>
<update_guid_history>8b6dbcc57dbf1300ce575252c97bea06:99623430,a21b10090b3f13001a4dd79ace05e33e:99623430</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9679b35e0be622009e620bcb15673a8b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Load_Balancers_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'Cloud API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::ElasticLoadBalancingV2::LoadBalancer',
											   'load_balancer_create_validator');
	return global.JSON.stringify(cloudModelObject);
 }
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:48&lt;/sys_created_on&gt;&lt;sys_id&gt;9679b35e0be622009e620bcb15673a8b&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Load_Balancers_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_9679b35e0be622009e620bcb15673a8b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-16 05:28:33&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>411922849</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961950</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551960000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Load_Balancers_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ee6d7cc5a0bf13003303cec2b9207091</update_guid>
<update_guid_history>ee6d7cc5a0bf13003303cec2b9207091:411922849,161bdcc55e3f130012f27df1fb0206d0:411922849</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a9e2ce6b8793030032b6f4bbe3e3ece0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;change_storage_volume_state&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var stepObj = global.JSON.parse(step);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_vcenter_datacenter": {
						"criterion": {
							"object_id": stepObj.ldcObjectId
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeResponse.volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeResponse.volumeId,
					"state": "available"
				},
				"references" : {}
			}
		};
	
		cloudModelString.push(volume);
		return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-01-02 22:09:12&lt;/sys_created_on&gt;&lt;sys_id&gt;a9e2ce6b8793030032b6f4bbe3e3ece0&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;change_storage_volume_state&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a9e2ce6b8793030032b6f4bbe3e3ece0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-03-07 07:33:14&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-799659181</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961953</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54a9d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>change_storage_volume_state</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>5e6d7cc5a3bf1300e856f13040278b16</update_guid>
<update_guid_history>5e6d7cc5a3bf1300e856f13040278b16:-799659181,791bdcc5153f1300eb8c3987b4526e82:-799659181</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_c8219a7e67103200790a6c706785ef05</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_vSphere_Virtual_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var apiObj = global.JSON.parse(step);&amp;#13;
	var nicInfohandler = [];&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
	var status_map = { "RUNNING":"on", "SUSPENDED":"paused", "STOP":"off", "TERMINATED":"terminated", "ERROR":"error", "UNRECOGNIZED":"off", "PENDING":"" };&amp;#13;
	if(Array.isArray(vmResponse))&amp;#13;
		vmResponse = vmResponse[0];&amp;#13;
	var vmInfo ={&amp;#13;
		"cmdb_ci_vmware_instance": {&amp;#13;
			"validator": "virtual_machine_create_update_validator",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id" : cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vcenter_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": apiObj.ldcObjectId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vmware_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": vmResponse.objectId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"name": vmResponse.nodeName,&amp;#13;
				"object_id": vmResponse.objectId,&amp;#13;
				"vm_inst_id": vmResponse.nodeId,&amp;#13;
				"vcenter_uuid": cloudServiceAccountId,&amp;#13;
				"state": status_map[vmResponse.state],&amp;#13;
				"cpus": vmResponse.processors,&amp;#13;
				"memory": vmResponse.ram,&amp;#13;
				"disks": getDiskCount(vmResponse),&amp;#13;
				"disks_size": "",&amp;#13;
				"nics": "",&amp;#13;
				"terminated_on": "",&amp;#13;
				"termination_protection": "",&amp;#13;
				"ip_address":vmResponse.publicIps[0],&amp;#13;
				"assigned_to":reqContext.userId,&amp;#13;
				"assignment_group":reqContext.groupId&amp;#13;
			},&amp;#13;
			"references": {&amp;#13;
				"cmdb_ci_vmware_template": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id" : cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_vcenter_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id" : apiObj.ldcObjectId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_vmware_template": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": vmResponse.imageId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": vmResponse.imageId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_compute_template": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id" : cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_vcenter_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id" : apiObj.ldcObjectId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_compute_template": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": vmResponse.hardwareId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": vmResponse.hardwareId,&amp;#13;
						"name" : vmResponse.hardwareId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vcenter_folder": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_vcenter_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": apiObj.ldcObjectId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_vcenter_folder": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": vmResponse.nodeGroup&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": vmResponse.nodeGroup&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"bindings": nicInfohandler&amp;#13;
		}&amp;#13;
	};&amp;#13;
&amp;#13;
	if(vmResponse.networkInterfaces &amp;amp;&amp;amp; vmResponse.networkInterfaces.length &amp;gt; 0){&amp;#13;
		for (var i=0; i&amp;lt; vmResponse.networkInterfaces.length; i++){&amp;#13;
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");&amp;#13;
			var nicId;&amp;#13;
			if (nicIdTrim.length == 2)&amp;#13;
				nicId = nicIdTrim[1];&amp;#13;
			else&amp;#13;
				nicId = nicIdTrim[0];&amp;#13;
			var endPointId = "nic-" + nicId + "_endpoint";&amp;#13;
			var nicTemp = {&amp;#13;
				"attach_to":{&amp;#13;
					"used_by":{&amp;#13;
						"endpoint_ci":"cmdb_ci_endpoint_vnic",&amp;#13;
						"endpoint_identification":{&amp;#13;
							"object_id": endPointId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			nicInfohandler.push(nicTemp);&amp;#13;
		}&amp;#13;
	}&amp;#13;
&amp;#13;
	if (!gs.nil(vmResponse.tagValues)) {&amp;#13;
		vmInfo["cmdb_ci_vmware_instance"].tagValues = global.JSON.stringify(vmResponse.tagValues);&amp;#13;
	}&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
	function getDiskCount(vmResponse){&amp;#13;
		var diskCount = 1;&amp;#13;
		if(vmResponse.volumes.length == 0 || vmResponse.volumes == null)&amp;#13;
			return diskCount;&amp;#13;
	}&amp;#13;
	cloudModelString.push(vmInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var apiObj = global.JSON.parse(step);
	var vmBindings = [];
	var vmResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var status_map = { "RUNNING":"on", "SUSPENDED":"paused", "STOP":"off", "TERMINATED":"terminated", "ERROR":"error", "UNRECOGNIZED":"off", "PENDING":"" };
	if(Array.isArray(vmResponse))
		vmResponse = vmResponse[0];
	var vmInfo ={
		"cmdb_ci_vmware_instance": {
			"validator": "virtual_machine_create_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id" : cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": apiObj.ldcObjectId
					}
				},
				"cmdb_ci_vmware_instance": {
					"criterion": {
						"object_id": vmResponse.objectId
					}
				}
			},
			"attributes": {
				"name": vmResponse.nodeName,
				"object_id": vmResponse.objectId,
				"vm_inst_id": vmResponse.nodeId,
				"vcenter_uuid": cloudServiceAccountId,
				"state": status_map[vmResponse.state],
				"cpus": vmResponse.processors,
				"memory": vmResponse.ram,
				"disks": vmResponse.volumes.length,
				"disks_size": "",
				"nics": vmResponse.networkInterfaces.length,
				"terminated_on": "",
				"termination_protection": "",
				"ip_address":vmResponse.publicIps[0],
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			},
			"references": {
				"cmdb_ci_vmware_template": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id" : cloudServiceAccountId
							}
						},
						"cmdb_ci_vcenter_datacenter": {
							"criterion": {
								"object_id" : apiObj.ldcObjectId
							}
						},
						"cmdb_ci_vmware_template": {
							"criterion": {
								"object_id": vmResponse.imageId
							}
						}
					},
					"attributes": {
						"object_id": vmResponse.imageId
					}
				},
				"cmdb_ci_compute_template": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id" : cloudServiceAccountId
							}
						},
						"cmdb_ci_vcenter_datacenter": {
							"criterion": {
								"object_id" : apiObj.ldcObjectId
							}
						},
						"cmdb_ci_compute_template": {
							"criterion": {
								"object_id": vmResponse.hardwareId
							}
						}
					},
					"attributes": {
						"object_id": vmResponse.hardwareId,
						"name" : vmResponse.hardwareId
					}
				}
			},
			"bindings": vmBindings
		}
	};

	if(vmResponse.networkInterfaces &amp;&amp; vmResponse.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; vmResponse.networkInterfaces.length; i++){
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");
			var nicId;
			if (nicIdTrim.length == 2)
				nicId = nicIdTrim[1];
			else
				nicId = nicIdTrim[0];
			var endPointId = "nic-" + nicId + "_endpoint";
			var nicTemp = {
				"attach_to":{
					"used_by":{
						"endpoint_ci":"cmdb_ci_endpoint_vnic",
						"endpoint_identification":{
							"object_id": endPointId
						}
					}
				}
			};
			vmBindings.push(nicTemp);
		}
	}

	if (!gs.nil(vmResponse.nodeGroup)){
		vmInfo["cmdb_ci_vmware_instance"].references["cmdb_ci_vcenter_folder"] = {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": apiObj.ldcObjectId
					}
				},
				"cmdb_ci_vcenter_folder": {
					"criterion": {
						"object_id": vmResponse.nodeGroup
					}
				}
			},
			"attributes": {
				"object_id": vmResponse.nodeGroup
			}
		};
	}

	//Volumes Defensive Code to handle Empty Volumes Info
	if(vmResponse.volumes.length&gt;0){
		var volume = vmResponse.volumes[0];
		var volumeId = vmResponse.volumes[0].VolumeId;
		var volumeBinding = {
			"attach_to": {
				"used_by": {
					"endpoint_ci": "cmdb_ci_endpoint_block",
					"endpoint_identification": {
						"object_id": volumeId
					}
				}
			}
		};
		vmBindings.push(volumeBinding);
		var endpoints = [];
		var enpoint = {
			"attach_to":{
				"implemented_by":{
					"endpoint_ci":"cmdb_ci_endpoint_block",
					"endpoint_identification":{
						"object_id": volumeId
					},
					"attributes":{
						"attachment_info": "leased",
						"mount_point": '',
						"attach_time": '',
						"host": vmResponse.nodeId,
						"name": volumeId
					}
				}
			}
		};
		endpoints.push(enpoint);
		var volumeData = {
			"cmdb_ci_storage_volume": {
				"validator": "default_storage_volume_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_vcenter_datacenter": {
						"criterion": {
							"object_id": apiObj.ldcObjectId
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeId,
					"volume_id": volumeId,
					"name": volumeId,
					"total_size_gb":volume.SizeInKB/2048,
					"size_bytes":volume.SizeInKB*1024,
					"storage_type":"Block",
					"state":"in_use",
					"volume_type":volume.accountType ? volume.accountType : "",
					"assigned_to":reqContext.userId,
					"assignment_group":reqContext.groupId
				},
				"bindings": endpoints
			}
		};

		// Include tagValues if there are any
		if (!gs.nil(volume.tags))
			volumeData.cmdb_ci_storage_volume.tagValues = global.JSON.stringify(volume.tags);

		cloudModelString.push(volumeData);
	}

	if (!gs.nil(vmResponse.tags))
		vmInfo["cmdb_ci_vmware_instance"].tagValues = global.JSON.stringify(vmResponse.tags);

	cloudModelString.push(vmInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-17 15:56:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c8219a7e67103200790a6c706785ef05&lt;/sys_id&gt;&lt;sys_mod_count&gt;32&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_vSphere_Virtual_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_c8219a7e67103200790a6c706785ef05&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-04-28 05:55:42&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1100480319</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54b2b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_vSphere_Virtual_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>d66d7cc500bf130005fd2a665f306619</update_guid>
<update_guid_history>d66d7cc500bf130005fd2a665f306619:1100480319,b51bdcc5463f1300c63b0f52d4a5a685:1100480319</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_db074bef0b0003003503e0d425673a02</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Subscriptions_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response,cloudServiceAccountId,ldc,
 correlationId,step,requestorContext,stackId) {

	var rps = new sn_cmp_api.ResponseProcessorScript();
    var responseToProcess = rps.extractResponse(response);
    var stepObject = global.JSON.parse(step);
	var responseObject = global.JSON.parse(responseToProcess);
	
    responseObject.value.forEach(function(data){
	var ServiceAccount = {};
	data['servicePrincipal'] = stepObject.credentialId;
	ServiceAccount['account_id'] = data.subscriptionId;
	ServiceAccount['name'] = data.displayName;
	ServiceAccount['discovery_credentials'] = stepObject.credentialId;
	ServiceAccount['datacenter_type'] = 'cmdb_ci_azure_datacenter';
	ServiceAccount['object_id'] = data.subscriptionId;
	data['serviceAccount'] = ServiceAccount;
	});
	
	var responseProcessor = new sn_cmp.ResponseProcessor(null, null, 'Azure API');
    var cloudModelObject = responseProcessor.processResponseArray(responseObject.value,'Azure Subscription',null);
	return global.JSON.stringify(cloudModelObject);
 }
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-07-25 15:00:23&lt;/sys_created_on&gt;&lt;sys_id&gt;db074bef0b0003003503e0d425673a02&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Subscriptions_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_db074bef0b0003003503e0d425673a02&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-07-27 10:44:20&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1060365670</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d961959</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559a80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Subscriptions_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>436dbcc57bbf13004fb398567b2e9921</update_guid>
<update_guid_history>436dbcc57bbf13004fb398567b2e9921:1060365670,f61b1009553f1300db0b19a2cdae8072:1060365670</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_fdb502880b123200668daac125673a75</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Attach_VDisk_virtual_server&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeAttachments = global.JSON.parse(response);&amp;#13;
	var stepObj = global.JSON.parse(step);&amp;#13;
	//var endPointId = volumeAttachments.instanceId.concat( "-" , volumeAttachments.volumeId );&amp;#13;
	var endPointId = volumeAttachments.volumeId + '_block_endpoint';&amp;#13;
	var volumeAttachInfo = {&amp;#13;
		"cmdb_ci_vmware_instance": {&amp;#13;
			"validator": "volume_attach_vm",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vcenter_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": stepObj.ldcObjectId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vmware_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeAttachments.instanceId&amp;#13;
						}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeAttachments.instanceId,&amp;#13;
				"disks": getDiskCount(volumeAttachments.instanceId)&amp;#13;
			},&amp;#13;
			"bindings":[&amp;#13;
              {&amp;#13;
                "attach_to": {&amp;#13;
                  "used_by": {&amp;#13;
                    "endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
                    "endpoint_identification": {&amp;#13;
                      "object_id": endPointId&amp;#13;
                    }&amp;#13;
                  }&amp;#13;
                }&amp;#13;
              }&amp;#13;
		    ]&amp;#13;
		}&amp;#13;
	};&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
    function getDiskCount(instanceId){&amp;#13;
		var disks;&amp;#13;
	    var diskCount = new GlideRecord("cmdb_ci_vmware_instance");&amp;#13;
		diskCount.addQuery('object_id',instanceId);&amp;#13;
	    diskCount.query();&amp;#13;
	if (diskCount.next()){ &amp;#13;
		disks = parseInt(diskCount.getValue("disks"))+1;&amp;#13;
	}&amp;#13;
		return disks;&amp;#13;
	}&amp;#13;
	cloudModelString.push(volumeAttachInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var volumeAttachments = global.JSON.parse(response);
	var stepObj = global.JSON.parse(step);
	//var endPointId = volumeAttachments.instanceId.concat( "-" , volumeAttachments.volumeId );
	var endPointId = volumeAttachments.volumeId + '_block_endpoint';
	var volumeAttachInfo = {
		"cmdb_ci_vmware_instance": {
			"validator": "volume_attach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": stepObj.ldcObjectId
					}
				},
				"cmdb_ci_vmware_instance": {
					"criterion": {
						"object_id": volumeAttachments.instanceId
						}
				}
			},
			"attributes": {
				"object_id": volumeAttachments.instanceId,
				"disks": getDiskCount(volumeAttachments.instanceId)
			},
			"bindings":[
              {
                "attach_to": {
                  "used_by": {
                    "endpoint_ci": "cmdb_ci_endpoint_block",
                    "endpoint_identification": {
                      "object_id": endPointId
                    }
                  }
                }
              }
		    ]
		}
	};
	// Defensive Code to handle Empty Volumes Info
    function getDiskCount(instanceId){
		var disks;
	    var diskCount = new GlideRecord("cmdb_ci_vmware_instance");
		diskCount.addQuery('object_id',instanceId);
	    diskCount.query();
	if (diskCount.next()){ 
		disks = parseInt(diskCount.getValue("disks"))+1;
	}
		return disks;
	}
	cloudModelString.push(volumeAttachInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-18 12:09:28&lt;/sys_created_on&gt;&lt;sys_id&gt;fdb502880b123200668daac125673a75&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;Attach_VDisk_virtual_server&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_fdb502880b123200668daac125673a75&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-06 12:20:44&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-167332523</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>9b6dbcc5dbbf1300786ff1351d96195c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54c4e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Attach_VDisk_virtual_server</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>566d7cc596bf1300c51a5435bab74521</update_guid>
<update_guid_history>566d7cc596bf1300c51a5435bab74521:-167332523,351bdcc5e03f1300cda278f409ec839a:-167332523</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_a0c8fab7db5313002c87f1771d9619b7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="ModifySchedule">ce041598db9f1f00786ff1351d96196e</blueprint_stage_op><child_operation/><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.ModifySchedule">3de4d11cdb9f1f00786ff1351d961997</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>a0c8fab7db5313002c87f1771d9619b7</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_a0c8fab7db5313002c87f1771d9619b7</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>-316937025</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96192c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5410c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>2d6d3cc553bf130015c5a7537ff2d59e</update_guid>
<update_guid_history>2d6d3cc553bf130015c5a7537ff2d59e:-316937025</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_7105e3d10b0232009e620bcb15673a5a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_iscsi</endpoint><relation_type>1</relation_type><resource_block display_value="Storage Volume">266048440b632200668daac125673a63</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:01:28</sys_created_on><sys_id>7105e3d10b0232009e620bcb15673a5a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>266048440b632200668daac125673a63</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_7105e3d10b0232009e620bcb15673a5a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:01:28</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>-2073400489</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96192f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548040000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>266048440b632200668daac125673a63</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>c66d3cc5dabf1300bcaaa6c775a778e0</update_guid>
<update_guid_history>c66d3cc5dabf1300bcaaa6c775a778e0:-2073400489,311bdcc53f3f1300881cfd9390c99a63:-2073400489</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_9cc941360b632200e937c97193673a22</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="LB Server Interface">c679b35e0be622009e620bcb15673a2c</guestinterface><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>9cc941360b632200e937c97193673a22</sys_id><sys_mod_count>0</sys_mod_count><sys_name>5cc941360b632200e937c97193673a1a</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_9cc941360b632200e937c97193673a22</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1574986328</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961932</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548490000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>5cc941360b632200e937c97193673a1a</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>466d3cc53bbf13009c70f92f1ad918e4</update_guid>
<update_guid_history>466d3cc53bbf13009c70f92f1ad918e4:1574986328,b11bdcc51e3f13006a20f0782631be67:1574986328</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourceblock_ddf5cd6bd722220097eb6ccf6e610346</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sn_cmp_rb_resourceblock"><sn_cmp_rb_resourceblock action="INSERT_OR_UPDATE"><active>true</active><description/><guestinterface display_value="Discovery Interface">9c7039300b903200668daac125673ad8</guestinterface><hostinterface/><is_system_defined>true</is_system_defined><is_tlr>false</is_tlr><layer>4</layer><name>Azure Datacenter</name><refcitype>cmdb_ci_azure_datacenter</refcitype><resource_template/><status>1</status><sys_class_name>sn_cmp_rb_resourceblock</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-24 18:32:53</sys_created_on><sys_domain>global</sys_domain><sys_id>ddf5cd6bd722220097eb6ccf6e610346</sys_id><sys_mod_count>5</sys_mod_count><sys_name>Azure Datacenter</sys_name><sys_overrides/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourceblock_ddf5cd6bd722220097eb6ccf6e610346</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-16 06:46:15</sys_updated_on><type/></sn_cmp_rb_resourceblock></record_update>]]></payload>
<payload_hash>-1634946071</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961935</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553cf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure Datacenter</target_name>
<type>ResourceBlock</type>
<update_domain>global</update_domain>
<update_guid>f66d7cc59dbf1300b7c1bad4bc6332c2</update_guid>
<update_guid_history>f66d7cc59dbf1300b7c1bad4bc6332c2:-1634946071,5a1bdcc5623f1300487902cd5480fbe9:-1634946071</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_10c9c1360b632200e937c97193673ac0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_VM_Snapshots_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>10c9c1360b632200e937c97193673ac0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_VM_Snapshots_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_10c9c1360b632200e937c97193673ac0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1439259477</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961938</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548730000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_VM_Snapshots_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c26d3cc55cbf1300cb8bf9c8545835e7</update_guid>
<update_guid_history>c26d3cc55cbf1300cb8bf9c8545835e7:-1439259477,f11bdcc5a63f1300b8477e435a9aa46a:-1439259477</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_2cf67e330be003004d93294863673ae8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;GetCloudTemplate_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {	&amp;#13;
	var decodedResponse = gs.base64Decode(response);&amp;#13;
	var responseObj = global.JSON.parse(decodedResponse);&amp;#13;
    &amp;#13;
	var gr = new GlideRecord('sn_cmp_cloud_template');&amp;#13;
	gr.addQuery('name',responseObj.Name);&amp;#13;
	gr.query();&amp;#13;
	var update = gr.next();&amp;#13;
	gr.name = responseObj.Name;&amp;#13;
	gr.type = responseObj.Type;&amp;#13;
	gr.body = responseObj.response;&amp;#13;
	&amp;#13;
	if (update)&amp;#13;
			gr.update();&amp;#13;
		else&amp;#13;
			gr.insert();&amp;#13;
	&amp;#13;
	return global.JSON.stringify([]);&amp;#13;
 }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {	
	var decodedResponse = gs.base64Decode(response);
	var responseObj = global.JSON.parse(decodedResponse);
    
	var gr = new GlideRecord('sn_cmp_cloud_template');
	gr.addQuery('name',responseObj.Name);
	gr.query();
	var update = gr.next();
	gr.name = responseObj.Name;
	gr.type = responseObj.Type;
	gr.body = responseObj.response;
	
	if (update)
			gr.update();
		else
			gr.insert();
	
	return global.JSON.stringify([]);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-20 03:43:40&lt;/sys_created_on&gt;&lt;sys_id&gt;2cf67e330be003004d93294863673ae8&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetCloudTemplate_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_2cf67e330be003004d93294863673ae8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-26 06:18:57&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1631846026</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96193c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54e690000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>GetCloudTemplate_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>126d7cc550bf13009deca686591e1936</update_guid>
<update_guid_history>126d7cc550bf13009deca686591e1936:-1631846026,861bdcc5f23f13001d8226de4134a8b0:-1631846026</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4d316e5b67603200790a6c706785ef80</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Stop_vSphere_Virtual_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
		var vmInfo ={
			"cmdb_ci_vmware_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_vcenter_datacenter": {
						"criterion": {
							"object_id": getLDC()
						}
					},
					"cmdb_ci_vmware_instance": {
						"criterion": {
							"object_id": vmResponse.objectId
						}
					}
				},
				"attributes": {
					"object_id": vmResponse.objectId,
					"state": "off"
				}
			}
		};
		cloudModelString.push(vmInfo);
	}
	return global.JSON.stringify(cloudModelString);
}

function getLDC(){
	var stepResponse = global.JSON.parse(step);
	return stepResponse.ldcObjectId;
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-31 16:38:50&lt;/sys_created_on&gt;&lt;sys_id&gt;4d316e5b67603200790a6c706785ef80&lt;/sys_id&gt;&lt;sys_mod_count&gt;24&lt;/sys_mod_count&gt;&lt;sys_name&gt;Stop_vSphere_Virtual_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4d316e5b67603200790a6c706785ef80&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-13 19:49:50&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1013409760</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96193f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Stop_vSphere_Virtual_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>426d3cc532bf1300cfc007eb68758aef</update_guid>
<update_guid_history>426d3cc532bf1300cfc007eb68758aef:1013409760,b91bdcc5be3f1300e79d53d544ba5872:1013409760</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_591d389ddbf88300074cf8231f961920</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Start_Virtual_Machine_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc){&amp;#13;
	var cloudModelString = [];&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
	&amp;#13;
	var vmResponses = [];&amp;#13;
	&amp;#13;
	if (vmResponse.hasOwnProperty('successfullyDone'))&amp;#13;
		vmResponses = vmResponse.successfullyDone;&amp;#13;
	else&amp;#13;
		vmResponses.push(vmResponse);&amp;#13;
	&amp;#13;
	for (var i = 0; i &amp;lt; vmResponses.length; i++) {&amp;#13;
		var vmData = vmResponses[i];&amp;#13;
		&amp;#13;
		var publicIP = '';&amp;#13;
		if (vmData.publicIps &amp;amp;&amp;amp; vmData.publicIps.length &amp;gt; 0)&amp;#13;
			publicIP = vmData.publicIps[0];&amp;#13;
	&amp;#13;
		var vmInfo ={&amp;#13;
			"cmdb_ci_vm_instance": {&amp;#13;
				"validator": "virtual_machine_create_update_validator",&amp;#13;
				"validator_overrides": { },&amp;#13;
				"identification": {&amp;#13;
					"cmdb_ci_cloud_service_account": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": cloudServiceAccountId&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_azure_datacenter": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": ldc&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_vm_instance": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": vmData.nodeId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"attributes": {&amp;#13;
					"object_id": vmData.nodeId,&amp;#13;
					"ip_address":publicIP,&amp;#13;
					"state": "on"&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		cloudModelString.push(vmInfo);&amp;#13;
	}&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	
	var vmResponses = [];
	
	if (vmResponse.hasOwnProperty('successfullyDone'))
		vmResponses = vmResponse.successfullyDone;
	else
		vmResponses.push(vmResponse);
	
	for (var i = 0; i &lt; vmResponses.length; i++) {
		var vmData = vmResponses[i];
		
		var publicIP = '';
		if (vmData.publicIps &amp;&amp; vmData.publicIps.length &gt; 0)
			publicIP = vmData.publicIps[0];
	
		var vmInfo ={
			"cmdb_ci_vm_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_vm_instance": {
						"criterion": {
							"object_id": vmData.nodeId
						}
					}
				},
				"attributes": {
					"object_id": vmData.nodeId,
					"ip_address":publicIP,
					"state": "on"
				}
			}
		};
		cloudModelString.push(vmInfo);
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-24 10:40:14&lt;/sys_created_on&gt;&lt;sys_id&gt;591d389ddbf88300074cf8231f961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Start_Virtual_Machine_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_591d389ddbf88300074cf8231f961920&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-08 11:35:10&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1724759703</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961942</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5562a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Start_Virtual_Machine_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>766d7cc5fcbf13007ad46ddd063f78dd</update_guid>
<update_guid_history>766d7cc5fcbf13007ad46ddd063f78dd:1724759703,661b10093d3f13008c2ea67346807a06:1724759703</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103ac</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Security_Groups_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>65f501abd722220097eb6ccf6e6103ac</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Security_Groups_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103ac</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1200192958</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961945</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556b00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Security_Groups_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4b6d7cc533bf130069eb9d72799952e2</update_guid>
<update_guid_history>4b6d7cc533bf130069eb9d72799952e2:-1200192958,ee1b10091e3f13002a3ac428fb71940b:-1200192958</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103b0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_KeyPairs_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>6df501abd722220097eb6ccf6e6103b0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_KeyPairs_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103b0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>248769730</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961948</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557870000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_KeyPairs_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8b6d7cc59fbf13006b7e11804bc548f8</update_guid>
<update_guid_history>8b6d7cc59fbf13006b7e11804bc548f8:248769730,261b1009b03f130019c396a0f944df16:248769730</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103b9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_NetworkACLs_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>7df501abd722220097eb6ccf6e6103b9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_NetworkACLs_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103b9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>37157624</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96194b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5584d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_NetworkACLs_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>836dbcc55cbf130050e5135efedab203</update_guid>
<update_guid_history>836dbcc55cbf130050e5135efedab203:37157624,a61b1009ef3f130069ed9f9e9b3a0a3a:37157624</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9279b35e0be622009e620bcb15673a9e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Assoc_Credentials_To_User_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>9279b35e0be622009e620bcb15673a9e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Assoc_Credentials_To_User_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_9279b35e0be622009e620bcb15673a9e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>380823762</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96194f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551340000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Assoc_Credentials_To_User_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>666d7cc59bbf13007c3e402185a61a8f</update_guid>
<update_guid_history>666d7cc59bbf13007c3e402185a61a8f:380823762,d61bdcc58b3f1300c5e93f9e511033cd:380823762</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a57883810b6532003969a387b6673a6c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Disassociate_Network_Interface_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var nicInfoHandler = [];
	var cloudModelString = [];
	var detachResp = global.JSON.parse(response);

	var nodeData = detachResp.virtualServer;
	var nicId = detachResp.detachNetworkInterface;
	var endPointId = "nic-" + nicId + "_endpoint";

	var vmInfo ={
		"cmdb_ci_vm_instance": {
			"validator": "virtual_machine_create_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": nodeData.nodeId
					}
				}
			},
			"attributes": {
				"object_id": nodeData.nodeId,
				"nics": nodeData.networkInterfaces.length
			},
			"bindings": [
				{
					"detach_from": {
						"used_by": {
							"endpoint_ci": "cmdb_ci_endpoint_vnic",
							"endpoint_identification": {
								"object_id": endPointId
							}
						}
					}
				}
			]
		}
	};

	cloudModelString.push(vmInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-15 12:56:48&lt;/sys_created_on&gt;&lt;sys_id&gt;a57883810b6532003969a387b6673a6c&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Disassociate_Network_Interface_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a57883810b6532003969a387b6673a6c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-02 21:00:17&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1875325148</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961952</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5590e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Disassociate_Network_Interface_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0f6dbcc519bf1300d1b6d9a74808590c</update_guid>
<update_guid_history>0f6dbcc519bf1300d1b6d9a74808590c:-1875325148,fa1b10097c3f1300352000c7ade7ed44:-1875325148</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_be6048440b632200668daac125673a77</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Delete_Storage_Volume_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "storage_volume_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeResponse.volumeId
					}
				}
			},
			"attributes": {
				"object_id": volumeResponse.volumeId,
				"volume_id": volumeResponse.volumeId,
				"state": "terminated"
			}
		}
	};
	cloudModelString.push(volume);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-02 09:33:07&lt;/sys_created_on&gt;&lt;sys_id&gt;be6048440b632200668daac125673a77&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete_Storage_Volume_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_be6048440b632200668daac125673a77&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-21 10:44:19&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1329447229</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552540000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Delete_Storage_Volume_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>266d7cc51ebf130000716e79667a2ba6</update_guid>
<update_guid_history>266d7cc51ebf130000716e79667a2ba6:-1329447229,da1bdcc59e3f130004cf28c1365038d8:-1329447229</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d737c4ba9f44320048111f80a57fcf1f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_NetworkInterfaces_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure 
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Network/networkInterfaces',
											   'nic_create_validator');
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-04 19:37:57&lt;/sys_created_on&gt;&lt;sys_id&gt;d737c4ba9f44320048111f80a57fcf1f&lt;/sys_id&gt;&lt;sys_mod_count&gt;20&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_NetworkInterfaces_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_d737c4ba9f44320048111f80a57fcf1f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-15 21:19:02&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>463766514</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d961958</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559990000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_NetworkInterfaces_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c36dbcc525bf13003bc32bf14ca1f520</update_guid>
<update_guid_history>c36dbcc525bf13003bc32bf14ca1f520:463766514,3a1b10097c3f1300293e16820d2b4971:463766514</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_f1ecb3780b021300ea38812f15673a05</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_LB_Pool_Member&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var poolResponse = global.JSON.parse(response);&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
&amp;#13;
	var elbResponse = global.JSON.parse(response);&amp;#13;
&amp;#13;
	var registeredInstances = elbResponse.instances;&amp;#13;
&amp;#13;
	var loadBalancerName = elbResponse.loadBalancerName;&amp;#13;
&amp;#13;
	var lbPoolMemberArray = [];&amp;#13;
&amp;#13;
	var lbPoolId;&amp;#13;
	var lbPoolGR = new GlideRecord("cmdb_ci_lb_pool");&amp;#13;
	lbPoolGR.addQuery('name',loadBalancerName+"-Pool");&amp;#13;
	lbPoolGR.query();&amp;#13;
	if(lbPoolGR.next()){&amp;#13;
		lbPoolId = lbPoolGR.sys_id;&amp;#13;
	}&amp;#13;
&amp;#13;
	for (var i = 0; i&amp;lt; registeredInstances.length; i++) {&amp;#13;
		var lbPoolMemberInfo = {&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id":ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_cloud_load_balancer": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": loadBalancerName&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_lb_pool": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": loadBalancerName+"-Pool"&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_lb_pool_member": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": registeredInstances[i].instanceId.split('/')[1]&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": registeredInstances[i].instanceId.split('/')[1],&amp;#13;
				"name": registeredInstances[i].instanceId.split('/')[1],&amp;#13;
				"pool":lbPoolId.toString()&amp;#13;
			}&amp;#13;
		};&amp;#13;
&amp;#13;
		lbPoolMemberArray.push(lbPoolMemberInfo);&amp;#13;
	}&amp;#13;
&amp;#13;
	var lbPoolInfo = {&amp;#13;
		"cmdb_ci_lb_pool": {&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_cloud_load_balancer": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": loadBalancerName&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_lb_pool": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": loadBalancerName+"-Pool"&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": loadBalancerName+"-Pool",&amp;#13;
				"name": loadBalancerName+"-Pool"&amp;#13;
			},&amp;#13;
			"relationships": {&amp;#13;
				"cmdb_ci_lb_pool_member": lbPoolMemberArray&amp;#13;
			}&amp;#13;
		}&amp;#13;
	};&amp;#13;
&amp;#13;
	cloudModelString.push(lbPoolInfo);&amp;#13;
	gs.info(global.JSON.stringify(cloudModelString));&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&amp;#13;
&amp;#13;
&amp;#13;
&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var poolResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);

	var elbResponse = global.JSON.parse(response);

	var registeredInstances = elbResponse.instances;

	var loadBalancerName = elbResponse.loadBalancerName;

	var lbPoolMemberArray = [];

	var lbPoolId;
	var lbPoolGR = new GlideRecord("cmdb_ci_lb_pool");
	lbPoolGR.addQuery('name',loadBalancerName+"-Pool");
	lbPoolGR.query();
	if(lbPoolGR.next()){
		lbPoolId = lbPoolGR.sys_id;
	}

	for (var i = 0; i&lt; registeredInstances.length; i++) {
		var lbPoolMemberInfo = {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id":ldc
					}
				},
				"cmdb_ci_cloud_load_balancer": {
					"criterion": {
						"object_id": loadBalancerName
					}
				},
				"cmdb_ci_lb_pool": {
					"criterion": {
						"object_id": loadBalancerName+"-Pool"
					}
				},
				"cmdb_ci_lb_pool_member": {
					"criterion": {
						"object_id": registeredInstances[i].instanceId.split('/')[1]
					}
				}
			},
			"attributes": {
				"object_id": registeredInstances[i].instanceId.split('/')[1],
				"name": registeredInstances[i].instanceId.split('/')[1],
				"pool":lbPoolId.toString()
			}
		};

		lbPoolMemberArray.push(lbPoolMemberInfo);
	}

	var lbPoolInfo = {
		"cmdb_ci_lb_pool": {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_cloud_load_balancer": {
					"criterion": {
						"object_id": loadBalancerName
					}
				},
				"cmdb_ci_lb_pool": {
					"criterion": {
						"object_id": loadBalancerName+"-Pool"
					}
				}
			},
			"attributes": {
				"object_id": loadBalancerName+"-Pool",
				"name": loadBalancerName+"-Pool"
			},
			"relationships": {
				"cmdb_ci_lb_pool_member": lbPoolMemberArray
			}
		}
	};

	cloudModelString.push(lbPoolInfo);
	gs.info(global.JSON.stringify(cloudModelString));
	return global.JSON.stringify(cloudModelString);
}
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-05-11 10:52:19&lt;/sys_created_on&gt;&lt;sys_id&gt;f1ecb3780b021300ea38812f15673a05&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_LB_Pool_Member&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_f1ecb3780b021300ea38812f15673a05&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-11 16:29:50&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1129238833</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>9f6dbcc5dbbf1300786ff1351d96195b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5539c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Create_LB_Pool_Member</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fa6d7cc5eebf13004ecab06a97b2d4c0</update_guid>
<update_guid_history>fa6d7cc5eebf13004ecab06a97b2d4c0:1129238833,da1bdcc51c3f1300394e3a85fdd8a6e7:1129238833</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_0d428579931813004a9032bfa67ffb51</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Stop">3a114939931813004a9032bfa67ffb9d</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>credential</name><order>50</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Credential</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference>discovery_credentials</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:35</sys_created_on><sys_id>0d428579931813004a9032bfa67ffb51</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Credential</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_0d428579931813004a9032bfa67ffb51</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:35</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=0d428579931813004a9032bfa67ffb51"/><fx_price action="delete_multiple" query="id=0d428579931813004a9032bfa67ffb51"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>0d428579931813004a9032bfa67ffb51</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:35</sys_created_on><sys_id>09428579931813004a9032bfa67ffb53</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:35</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>0d428579931813004a9032bfa67ffb51</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:59:35</sys_created_on><sys_id>cd428579931813004a9032bfa67ffb52</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:59:35</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>2034846168</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>cb6dbcc5dbbf1300786ff1351d961929</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545150000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Credential</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>396d3cc591bf1300473661da4ad829bd</update_guid>
<update_guid_history>396d3cc591bf1300473661da4ad829bd:2034846168,a51bdcc5583f130042be31d6d69af73e:2034846168</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_dea28979931813004a9032bfa67ffb43</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Virtual Server - Stop"&gt;3a114939931813004a9032bfa67ffb9d&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Hide operation variables&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[// System generatend script, please do not change
function onLoad() {
	g_form.setDisplay('resourceBlock', false);
	g_form.setDisplay('resourceId', false);
	g_form.setDisplay('resourceInterface', false);
	g_form.setDisplay('operationName', false);
	g_form.setDisplay('credential', false);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-02-16 00:01:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;dea28979931813004a9032bfa67ffb43&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Hide operation variables&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_dea28979931813004a9032bfa67ffb43&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-16 00:01:19&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2005779472</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>cf6dbcc5dbbf1300786ff1351d961928</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545660000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Hide operation variables</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>7d6d3cc584bf1300d389f99ce0e3a6c1</update_guid>
<update_guid_history>7d6d3cc584bf1300d389f99ce0e3a6c1:-2005779472,ad1bdcc5503f1300928032783fdbbb42:-2005779472</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_c8d48d7d931813004a9032bfa67ffb18</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Start">4fa40d7d931813004a9032bfa67ffb1b</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>credential</name><order>50</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Credential</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference>discovery_credentials</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:42</sys_created_on><sys_id>c8d48d7d931813004a9032bfa67ffb18</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Credential</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_c8d48d7d931813004a9032bfa67ffb18</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:42</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=c8d48d7d931813004a9032bfa67ffb18"/><fx_price action="delete_multiple" query="id=c8d48d7d931813004a9032bfa67ffb18"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>c8d48d7d931813004a9032bfa67ffb18</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:42</sys_created_on><sys_id>c8d48d7d931813004a9032bfa67ffb1a</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:42</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>c8d48d7d931813004a9032bfa67ffb18</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-16 00:10:42</sys_created_on><sys_id>80d48d7d931813004a9032bfa67ffb1a</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:10:42</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>-1188777317</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96192b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547040000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Credential</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>ce6d3cc5cebf130010898966cfeb7cd4</update_guid>
<update_guid_history>ce6d3cc5cebf130010898966cfeb7cd4:-1188777317,6d1bdcc5843f1300cbc957ae8e3f2156:-1188777317</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_binding_12eebe910b3322009e620bcb15673a87</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_binding"><sn_cmp_rb_binding action="INSERT_OR_UPDATE"><binding_resource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</binding_resource><guest_resource display_value="Storage Volume">266048440b632200668daac125673a63</guest_resource><sys_class_name>sn_cmp_rb_binding</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-19 06:53:29</sys_created_on><sys_id>12eebe910b3322009e620bcb15673a87</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_binding_12eebe910b3322009e620bcb15673a87</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-19 06:53:29</sys_updated_on></sn_cmp_rb_binding></record_update>]]></payload>
<payload_hash>-645638785</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96192e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5428b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Binding</type>
<update_domain>global</update_domain>
<update_guid>b56d3cc5bebf13008c80bfe3f9feb3ae</update_guid>
<update_guid_history>b56d3cc5bebf13008c80bfe3f9feb3ae:-645638785,e51bdcc5313f1300181d7aed8d9eba2e:-645638785</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_14317d300b903200668daac125673a7b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Discovery Interface">9c7039300b903200668daac125673ad8</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:28:30</sys_created_on><sys_id>14317d300b903200668daac125673a7b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_14317d300b903200668daac125673a7b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-11 08:28:30</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>138263641</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961931</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54cdf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>de6d7cc52ebf130024d02a7b8305cd25</update_guid>
<update_guid_history>de6d7cc52ebf130024d02a7b8305cd25:138263641,c21bdcc50a3f13003a518b653d77509f:138263641</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_eacb39060b8132003969a387b6673a85</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Firewall Interface">4279b35e0be622009e620bcb15673a2b</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-02-21 13:14:19</sys_created_on><sys_id>eacb39060b8132003969a387b6673a85</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_eacb39060b8132003969a387b6673a85</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-02-21 13:14:19</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>2037616063</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961934</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554430000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>326d7cc5b3bf130036abe60573dfd2c9</update_guid>
<update_guid_history>326d7cc5b3bf130036abe60573dfd2c9:2037616063,5a1bdcc58a3f1300a789d6b248be8df0:2037616063</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_011e41040b3532003969a387b6673aae</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_List_Managed_Disk_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeInfo = global.JSON.parse(response);&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
&amp;#13;
	if(volumeInfo){&amp;#13;
		var disks = volumeInfo.dataDisk;&amp;#13;
		disks = disks.concat(volumeInfo.osDisk);&amp;#13;
		if(disks &amp;amp;&amp;amp; disks.length &amp;gt; 0){&amp;#13;
			for (var i=0; i&amp;lt; disks.length; i++){&amp;#13;
				var endpoints = [];&amp;#13;
				var volume = disks[i];&amp;#13;
				var volumeId = volume.id;&amp;#13;
				var state = 'available';&amp;#13;
				&amp;#13;
				if(volume.state === 'attached' || volume.state === 'Attached' || volume.state === 'leased'|| volume.state === 'Leased'){&amp;#13;
					state = 'leased';&amp;#13;
					var endPointId = volumeId;&amp;#13;
					var enpoint = {&amp;#13;
						"attach_to":{&amp;#13;
							"implemented_by":{&amp;#13;
								"endpoint_ci":"cmdb_ci_endpoint_block",&amp;#13;
								"endpoint_identification":{&amp;#13;
									"object_id": endPointId&amp;#13;
								},&amp;#13;
								"attributes":{&amp;#13;
									"attachment_info": state,&amp;#13;
									"mount_point": '',&amp;#13;
									"attach_time": '',&amp;#13;
									"host": volume.ownerId ? volume.ownerId : '',&amp;#13;
									"name": endPointId&amp;#13;
								}&amp;#13;
							}&amp;#13;
						}&amp;#13;
					};&amp;#13;
					endpoints.push(enpoint);&amp;#13;
				}&amp;#13;
				&amp;#13;
				var volumeData = {&amp;#13;
					"cmdb_ci_storage_volume": {&amp;#13;
						"validator": "default_storage_volume_validator",&amp;#13;
						"validator_overrides": { },&amp;#13;
						"identification": {&amp;#13;
							"cmdb_ci_cloud_service_account": {&amp;#13;
								"criterion": {&amp;#13;
									"object_id": cloudServiceAccountId&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"cmdb_ci_azure_datacenter": {&amp;#13;
								"criterion": {&amp;#13;
									"object_id": ldc&amp;#13;
								}&amp;#13;
							},&amp;#13;
							"cmdb_ci_storage_volume": {&amp;#13;
								"criterion": {&amp;#13;
									"object_id": volumeId&amp;#13;
								}&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"attributes": {&amp;#13;
							"object_id": volumeId,&amp;#13;
							"volume_id": volumeId,&amp;#13;
							"name": volume.name,&amp;#13;
							"total_size_gb":volume.diskSizeGB,&amp;#13;
							"size_bytes":volume.diskSizeGB*1024*1024*1024,&amp;#13;
							"storage_type":"PageBlob",&amp;#13;
							"state":state,&amp;#13;
							"volume_type":volume.accountType,&amp;#13;
							"assigned_to":reqContext.userId,&amp;#13;
							"assignment_group":reqContext.groupId&amp;#13;
						},&amp;#13;
						"references": {&amp;#13;
							"cmdb_ci_resource_group": {&amp;#13;
								"identification": {&amp;#13;
									"cmdb_ci_cloud_service_account": {&amp;#13;
										"criterion": {&amp;#13;
											"object_id": cloudServiceAccountId&amp;#13;
										}&amp;#13;
									},&amp;#13;
									"cmdb_ci_azure_datacenter": {&amp;#13;
										"criterion": {&amp;#13;
											"object_id": ldc&amp;#13;
										}&amp;#13;
									},&amp;#13;
									"cmdb_ci_resource_group": {&amp;#13;
										"criterion": {&amp;#13;
											"object_id": volume.resourceGroup&amp;#13;
										}&amp;#13;
									}&amp;#13;
								},&amp;#13;
								"attributes": {&amp;#13;
									"object_id": volume.resourceGroup&amp;#13;
								}&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"bindings": endpoints&amp;#13;
					}&amp;#13;
				};&amp;#13;
				&amp;#13;
				// Include tagValues if there are any&amp;#13;
				if (!gs.nil(volume.tags))&amp;#13;
					volumeData.cmdb_ci_storage_volume.tagValues= global.JSON.stringify(volume.tags);&amp;#13;
				&amp;#13;
				&amp;#13;
				cloudModelString.push(volumeData);&amp;#13;
			}&amp;#13;
		}&amp;#13;
	}&amp;#13;
&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeInfo = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);

	if(volumeInfo){
		var disks = volumeInfo.dataDisk;
		disks = disks.concat(volumeInfo.osDisk);
		if(disks &amp;&amp; disks.length &gt; 0){
			for (var i=0; i&lt; disks.length; i++){
				var endpoints = [];
				var volume = disks[i];
				var volumeId = volume.id;
				var state = 'available';
				
				if(volume.state === 'attached' || volume.state === 'Attached' || volume.state === 'leased'|| volume.state === 'Leased'){
					state = 'leased';
					var endPointId = volumeId;
					var enpoint = {
						"attach_to":{
							"implemented_by":{
								"endpoint_ci":"cmdb_ci_endpoint_block",
								"endpoint_identification":{
									"object_id": endPointId
								},
								"attributes":{
									"attachment_info": state,
									"mount_point": '',
									"attach_time": '',
									"host": volume.ownerId ? volume.ownerId : '',
									"name": endPointId
								}
							}
						}
					};
					endpoints.push(enpoint);
				}
				
				var volumeData = {
					"cmdb_ci_storage_volume": {
						"validator": "default_storage_volume_validator",
						"validator_overrides": { },
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_azure_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_storage_volume": {
								"criterion": {
									"object_id": volumeId
								}
							}
						},
						"attributes": {
							"object_id": volumeId,
							"volume_id": volumeId,
							"name": volume.name,
							"total_size_gb":volume.diskSizeGB,
							"size_bytes":volume.diskSizeGB*1024*1024*1024,
							"storage_type":"PageBlob",
							"state":state,
							"volume_type":volume.accountType,
							"assigned_to":reqContext.userId,
							"assignment_group":reqContext.groupId
						},
						"references": {
							"cmdb_ci_resource_group": {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_azure_datacenter": {
										"criterion": {
											"object_id": ldc
										}
									},
									"cmdb_ci_resource_group": {
										"criterion": {
											"object_id": volume.resourceGroup
										}
									}
								},
								"attributes": {
									"object_id": volume.resourceGroup
								}
							}
						},
						"bindings": endpoints
					}
				};
				
				// Include tagValues if there are any
				if (!gs.nil(volume.tags))
					volumeData.cmdb_ci_storage_volume.tagValues= global.JSON.stringify(volume.tags);
				
				
				cloudModelString.push(volumeData);
			}
		}
	}

	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-24 11:44:23&lt;/sys_created_on&gt;&lt;sys_id&gt;011e41040b3532003969a387b6673aae&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_List_Managed_Disk_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_011e41040b3532003969a387b6673aae&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-15 00:33:25&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-916618127</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961937</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554720000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_List_Managed_Disk_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fe6d7cc535bf130062dfc6303eb104ca</update_guid>
<update_guid_history>fe6d7cc535bf130062dfc6303eb104ca:-916618127,9a1bdcc5c73f130048cdf55353f7faf2:-916618127</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_18c9c1360b632200e937c97193673acc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Images_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>18c9c1360b632200e937c97193673acc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Images_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_18c9c1360b632200e937c97193673acc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-578477813</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96193a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548910000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Images_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ce6d3cc5c8bf1300ff488e624cf54be8</update_guid>
<update_guid_history>ce6d3cc5c8bf1300ff488e624cf54be8:-578477813,711bdcc5d23f13004b0c3734c915d96c:-578477813</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_417e397d0b4232000747a387b6673a65</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Route_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {

      var cloudModelString = [];
      var routeResponseArray = global.JSON.parse(response);
      var reqContext = global.JSON.parse(requestorContext);
      var state = 'Active';
      var routerObjectIdBuilder = new sn_cmp.RouterObjectIdBuilder();
      for (var i = 0; i &amp;lt; routeResponseArray.length; i++) {
        var routerId = routerObjectIdBuilder.build(routeResponseArray[i].networkId , stackId);
        var route = {
          "cmdb_ci_route": {
            "validator": "route_create_validator",
            "validator_overrides": { },
            "identification": {
              "cmdb_ci_cloud_service_account": {
                "criterion": {
                  "object_id": cloudServiceAccountId
                }
              },
              "cmdb_ci_azure_datacenter": {
                "criterion": {
                  "object_id": ldc
                }
              },
              "cmdb_ci_router": {
                "criterion": {
                  "object_id": routerId
                }
              },
              "cmdb_ci_route_table": {
                "criterion": {
                  "object_id":routeResponseArray[i].routeTableId
                }
              },
              "cmdb_ci_route": {
                "criterion": {
                  "destination":routeResponseArray[i].destinationCidrBlock,
                  "route_status":state,
                  "object_id":routeResponseArray[i].routeId
                }
              }
            },
            "attributes": {
              "object_id":routeResponseArray[i].routeId,
              "destination":routeResponseArray[i].destinationCidrBlock,
              "route_status":state,
              "target":routeResponseArray[i].gatewayId,
              "name":routeResponseArray[i].name,
              "assigned_to":reqContext.userId,
              "assignment_group":reqContext.groupId
            }
          }
        };
        cloudModelString.push(route);
      }
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routeResponseArray = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var state = 'Active';
	var routerObjectIdBuilder = new sn_cmp.RouterObjectIdBuilder();
	for (var i = 0; i &lt; routeResponseArray.length; i++) {
		var routerId = routerObjectIdBuilder.build(routeResponseArray[i].networkId , stackId);
		var route = {
			"cmdb_ci_route": {
				"validator": "route_create_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_router": {
						"criterion": {
							"object_id": routerId
						}
					},
					"cmdb_ci_route_table": {
						"criterion": {
							"object_id":routeResponseArray[i].routeTableId
						}
					},
					"cmdb_ci_route": {
						"criterion": {
							"destination":routeResponseArray[i].destinationCidrBlock,
							"route_status":state,
							"object_id":routeResponseArray[i].routeId
						}
					}
				},
				"attributes": {
					"object_id":routeResponseArray[i].routeId,
					"destination":routeResponseArray[i].destinationCidrBlock,
					"route_status":state,
					"target":routeResponseArray[i].gatewayId,
					"name":routeResponseArray[i].name,
					"assigned_to":reqContext.userId,
					"assignment_group":reqContext.groupId
				}
			}
		};
		cloudModelString.push(route);
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-11 11:51:13&lt;/sys_created_on&gt;&lt;sys_id&gt;417e397d0b4232000747a387b6673a65&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Route_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_417e397d0b4232000747a387b6673a65&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 03:04:34&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>799809343</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96193e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555490000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Route_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fa6d7cc52cbf13001926515005aa55d3</update_guid>
<update_guid_history>fa6d7cc52cbf13001926515005aa55d3:799809343,121bdcc54d3f1300009f0f9470b16ffc:799809343</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_51c68cdd0b45030069caa387b6673a17</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Delete_VM_Associated_Storage_Volumes&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeResponse = global.JSON.parse(response);&amp;#13;
	&amp;#13;
	if(volumeResponse){&amp;#13;
		var disks = volumeResponse.datadisks;&amp;#13;
		disks = disks.concat(volumeResponse.osdiskid);&amp;#13;
		if(disks &amp;amp;&amp;amp; disks.length &amp;gt; 0){&amp;#13;
			for (var i=0; i&amp;lt; disks.length; i++){&amp;#13;
			var volume = {&amp;#13;
				"cmdb_ci_storage_volume": {&amp;#13;
					"validator": "storage_volume_update_validator",&amp;#13;
					"validator_overrides": { },&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_azure_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_storage_volume": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": disks[i]&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": disks[i],&amp;#13;
						"volume_id": disks[i],&amp;#13;
						"state": "terminated"&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			cloudModelString.push(volume);&amp;#13;
			}&amp;#13;
		}&amp;#13;
	}&amp;#13;
&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	
	if(volumeResponse){
		var disks = volumeResponse.dataDisks;
		disks = disks.concat(volumeResponse.osDiskId);
		if(disks &amp;&amp; disks.length &gt; 0){
			for (var i=0; i&lt; disks.length; i++){
			var volume = {
				"cmdb_ci_storage_volume": {
					"validator": "storage_volume_update_validator",
					"validator_overrides": { },
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_storage_volume": {
							"criterion": {
								"object_id": disks[i]
							}
						}
					},
					"attributes": {
						"object_id": disks[i],
						"volume_id": disks[i],
						"state": "terminated"
					}
				}
			};
			cloudModelString.push(volume);
			}
		}
	}

	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-09-05 16:59:17&lt;/sys_created_on&gt;&lt;sys_id&gt;51c68cdd0b45030069caa387b6673a17&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Delete_VM_Associated_Storage_Volumes&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_51c68cdd0b45030069caa387b6673a17&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-03-15 21:25:24&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-346541239</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961941</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555db0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Delete_VM_Associated_Storage_Volumes</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7e6d7cc53bbf1300b28932fa2bee91d9</update_guid>
<update_guid_history>7e6d7cc53bbf1300b28932fa2bee91d9:-346541239,6a1b10093c3f130072132d6a9733de02:-346541239</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5d4714c167e32200ff506c706785efb3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Security_Group_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var secGroupResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var secGroup = {
		"cmdb_ci_compute_security_group": {
			"validator":"compute_security_group_create_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_compute_security_group": {
					"criterion": {
						"object_id": secGroupResponse.firewallId
					}
				}
			},
			"attributes": {
				"object_id": secGroupResponse.firewallId,
				"compute_security_group_id":secGroupResponse.firewallId,
				"name":secGroupResponse.firewallName,
				"short_description":secGroupResponse.description,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			}
		}
	};
	
	if (!gs.nil(secGroupResponse.tagValues)) {
		secGroup["cmdb_ci_compute_security_group"].tagValues = global.JSON.stringify(secGroupResponse.tagValues);
	}
	
	cloudModelString.push(secGroup);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-05 13:46:54&lt;/sys_created_on&gt;&lt;sys_id&gt;5d4714c167e32200ff506c706785efb3&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Security_Group_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_5d4714c167e32200ff506c706785efb3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-31 10:45:44&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1948429119</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961944</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f9e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Security_Group_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a26d7cc5f7bf1300e49a6839175df673</update_guid>
<update_guid_history>a26d7cc5f7bf1300e49a6839175df673:-1948429119,4a1bdcc5e43f1300f615b0dafceed8bc:-1948429119</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_68c840549f45320048111f80a57fcfdc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Deprovision_CloudFormation_Stack&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, 
						  step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	// Mark CIs that are part of the SerivceNow stack from this CF Stack as terminated if there is a
	// state field
	var cfStackId = responseObj.DescribeStacksResult.Stacks.member.StackId;
	var cfStackGr = new GlideRecord('cmdb_ci_aws_cloudformation_stack');
	if (cfStackGr.get('object_id', cfStackId)) {
		var stackItemGr = new GlideRecord('sn_cmp_stack_item');
		if (stackItemGr.get('ci_instance_id.sys_id', cfStackGr.sys_id)) {
			var stackSysId = '' + stackItemGr.stack.sys_id;
			
			var gr = new GlideRecord('sn_cmp_stack_item');
			gr.addQuery('stack.sys_id', stackSysId);
			gr.addQuery('ci_instance_id.sys_class_name', '!=', 'cmdb_ci_aws_cloudformation_stack');
			gr.query();
			
			while (gr.next()) {
				var ciGr = new GlideRecord(gr.ci_instance_id.sys_class_name);
				ciGr.get(gr.ci_instance_id);
				new sn_cmp.CMPReconciler().retireCI(ciGr);		
			}
		}
	}	
	
	var processor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												 ldc,
												 'Cloud API');
	var obj = processor.processResponseObject(responseObj, 
											  'AWS::CloudFormation::Stack',
											  'cloudformation_stack_create_validator');
	return global.JSON.stringify([obj]);	
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-15 18:22:38&lt;/sys_created_on&gt;&lt;sys_id&gt;68c840549f45320048111f80a57fcfdc&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Deprovision_CloudFormation_Stack&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_68c840549f45320048111f80a57fcfdc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-24 21:01:42&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-725511981</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961947</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550030000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Deprovision_CloudFormation_Stack</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>aa6d7cc554bf1300468007457318ed76</update_guid>
<update_guid_history>aa6d7cc554bf1300468007457318ed76:-725511981,461bdcc5bb3f1300b1647473c86183c0:-725511981</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103bb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Internet_Gateways_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>75f501abd722220097eb6ccf6e6103bb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Internet_Gateways_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103bb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>2027939596</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96194a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557c80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Internet_Gateways_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>836d7cc553bf13002b69faf0c8cdeffc</update_guid>
<update_guid_history>836d7cc553bf13002b69faf0c8cdeffc:2027939596,221b1009a23f13003e79afc1b460f11a:2027939596</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7e198a7d67900300a7526c706785efa3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Server_Arrays_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	
	var cloudModelString = [];
	var serverArrayResponse = global.JSON.parse(response);
	
	//Checking whether CAPI returned valid Response
	if(!(isEmpty(serverArrayResponse))){
		var healthCheck_map = { "EC2":"1", "ELB":"2"};

		for(var i=0;i&lt;serverArrayResponse.length;i++){
			var enabledLoadBal = false;
			var enabledMetrics = false;
			var enabledScalingPolicies = false;
			var enabledAvailabilityZones = false;
			var enabledVPC = false;
			var enabledVMs = false;

			//Checking If VPCZoneIdentifier is Null or not
			if(!(isEmpty(serverArrayResponse[i].VPCZoneIdentifier)))
				enabledVPC = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any Load Balancers
			if(!(isEmpty(serverArrayResponse[i].LoadBalancerNames)))
				enabledLoadBal = true;
			if(!(isEmpty(serverArrayResponse[i].EnabledMetrics)))
				enabledMetrics = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any Availability Zones
			if(!(isEmpty(serverArrayResponse[i].AvailabilityZones)))
				enabledAvailabilityZones = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any VMs
			if(!(isEmpty(serverArrayResponse[i].Instances)))
				enabledVMs = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any Scaling Policies
			if(!(isEmpty(serverArrayResponse[i].Policies)))
				if(!(isEmpty(serverArrayResponse[i].Policies.DescribePoliciesResult)))
					if(!(isEmpty(serverArrayResponse[i].Policies.DescribePoliciesResult.ScalingPolicies)))
						enabledScalingPolicies = true;

			var serverArrayInfo ={
				"cmdb_ci_sa_server_array": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_sa_server_array": {
							"criterion": {
								"object_id": serverArrayResponse[i].AutoScalingGroupName
							}
						}
					},
					"attributes": {
						"name": serverArrayResponse[i].AutoScalingGroupName,
						"object_id": serverArrayResponse[i].AutoScalingGroupName,
						"autoscaling_group_arn":serverArrayResponse[i].AutoScalingGroupARN,
						"max_size": serverArrayResponse[i].MaxSize,
						"min_size": serverArrayResponse[i].MinSize,
						"default_cooldown": serverArrayResponse[i].DefaultCooldown,
						"default_group_size": serverArrayResponse[i].DesiredCapacity,
						"target_group_arn": serverArrayResponse[i].TargetGroupARNs,
						"health_check_type": healthCheck_map[serverArrayResponse[i].HealthCheckType],
						"health_check_grace_period": serverArrayResponse[i].HealthCheckGracePeriod,
						"suspend_process_status": serverArrayResponse[i].SuspendedProcesses,
						"enabled_metric": enabledMetrics,
						"enable_loadbalancing": enabledLoadBal,
						"instance_protection": serverArrayResponse[i].NewInstancesProtectedFromScaleIn,
						"enable_scaling_policies": enabledScalingPolicies
					},
					"references": {
						"cmdb_ci_sa_launch_config": {
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_sa_launch_config": {
									"criterion": {
										"object_id": serverArrayResponse[i].LaunchConfigurationName
									}
								}
							},
							"attributes": {
								"object_id": serverArrayResponse[i].LaunchConfigurationName
							}
						}
					},
					"relationships" : {}
				}
			};

			if(enabledVPC){
				serverArrayInfo.cmdb_ci_sa_server_array.references['cmdb_ci_cloud_subnet'] = {};
				var zoneMap = {
					"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"account_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"region": ldc
								}
							},
							"cmdb_ci_network": {
								"criterion": {
									"object_id": getNetworkID(serverArrayResponse[i].VPCZoneIdentifier)
								}
							},
							"cmdb_ci_cloud_subnet": {
								"criterion": {
									"object_id": serverArrayResponse[i].VPCZoneIdentifier
								}
							}
						},
						"attributes": {
							"object_id": serverArrayResponse[i].VPCZoneIdentifier,
						}
				};
				serverArrayInfo.cmdb_ci_sa_server_array.references.cmdb_ci_cloud_subnet = zoneMap;
			}
			
			if(enabledScalingPolicies){
				var metricType = "";
				var targetValue = "";
				var disableScaleIn = "";
				var scalingPolicies = convertMapToList(serverArrayResponse[i].Policies.DescribePoliciesResult.ScalingPolicies.member);
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_sa_simple_policy'] = [];
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_sa_dynamic_policy'] = [];
				var metricType_map = { "ASGAverageCPUUtilization":"1", "ASGAverageNetworkIn":"3", "ASGAverageNetworkOut":"4", "ASGApplicationLoadBalancerRequestCountPerTarge":"1"};
				var policyType_map = { "TargetTrackingScaling" : "1","SimpleScaling" : "1", "StepScaling" : "2"};

				//Below Module Populates Simple and Dynamic Scaling Policies
				for(var j=0;j&lt;scalingPolicies.length;j++){
					var policyMapping = {};
					//Checking If "TargetTrackingConfiguration" object exists in the CAPI response
					if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration))){
						//Checking If "PredefinedMetricSpecification" Object exisits in "TargetTrackingConfiguration" object of CAPI response
						if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.PredefinedMetricSpecification))){
							//Checking If "PredefinedMetricType" Object exisits in CAPI response
							if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.PredefinedMetricSpecification.PredefinedMetricType)))
								metricType = scalingPolicies[j].TargetTrackingConfiguration.PredefinedMetricSpecification.PredefinedMetricType;
						}
						//Checking If "TargetValue" Object exisits in CAPI response
						if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.TargetValue)))
							targetValue = scalingPolicies[j].TargetTrackingConfiguration.TargetValue;
						//Checking If "DisableScaleIn" Object exisits in CAPI response
						if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.DisableScaleIn)))
							disableScaleIn = scalingPolicies[j].TargetTrackingConfiguration.DisableScaleIn;
					}

					if((scalingPolicies[j].PolicyType == "TargetTrackingScaling") || (scalingPolicies[j].PolicyType == "SimpleScaling")){
						policyMapping = {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_aws_datacenter": {
									  "criterion": {
										"object_id": ldc
									  }
									},
									"cmdb_ci_sa_server_array": {
										"criterion": {
											"object_id": scalingPolicies[j].AutoScalingGroupName
										}
									},
									"cmdb_ci_sa_simple_policy": {
									  "criterion": {
										"object_id": scalingPolicies[j].PolicyName
									  }
									}
								},
								"attributes": {
									"name": scalingPolicies[j].PolicyName,
									"object_id": scalingPolicies[j].PolicyName,
									"policy_type": policyType_map[scalingPolicies[j].PolicyType],
									"metric_type": metricType_map[metricType],
									"target_value": Math.floor(targetValue),
									"disable_scale_in": disableScaleIn
								}
						};
						serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_sa_simple_policy.push(policyMapping);
					}
					else {
						policyMapping = {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_aws_datacenter": {
									  "criterion": {
										"object_id": ldc
									  }
									},
									"cmdb_ci_sa_server_array": {
										"criterion": {
											"object_id": scalingPolicies[j].AutoScalingGroupName
										}
									},
									"cmdb_ci_sa_dynamic_policy": {
									  "criterion": {
										"object_id": scalingPolicies[j].PolicyName
									  }
									}
								},
								"attributes": {
									"name": scalingPolicies[j].PolicyName,
									"object_id": scalingPolicies[j].PolicyName,
									"policy_type": policyType_map[scalingPolicies[j].PolicyType]
								}
						};
						serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_sa_dynamic_policy.push(policyMapping);
					}		
				}
			}

			//Below Module Populates Availability Zones Information
			if(enabledAvailabilityZones){
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_availability_zone'] = [];
				var availabilityZonesArr = convertMapToList(serverArrayResponse[i].AvailabilityZones.member);
				for(var p=0; p&lt;availabilityZonesArr.length; p++){
					var availabilityZonesMap = {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_availability_zone": {
								"criterion": {
									"object_id": availabilityZonesArr[p]
								}
							}
						},
						"attributes": {
							"object_id": availabilityZonesArr[p]
						}
					};
					serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_availability_zone.push(availabilityZonesMap);
				}
			}

			//Below Module Populates VMs Information
			if(enabledVMs){
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_vm_instance'] = [];
				var vmsArr = convertMapToList(serverArrayResponse[i].Instances.member);
				for(var q=0; q&lt;vmsArr.length; q++){
					var vmsMap = {
						"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_vm_instance": {
									"criterion": {
										"object_id": vmsArr[q].InstanceId
									}
								}
							},
							"attributes": {
								"object_id": vmsArr[q].InstanceId
							}
					};
					serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_vm_instance.push(vmsMap);
				}
			}

			//Below Module Populates Load Balancer Information
			if(enabledLoadBal){
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_cloud_load_balancer'] = [];
				var loadBalDataArr = convertMapToList(serverArrayResponse[i].LoadBalancerNames.member);
				for(var k=0; k&lt;loadBalDataArr.length; k++){
					var loadBalDataMap = {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_cloud_load_balancer": {
								"criterion": {
									"object_id": loadBalDataArr[k]
								}
							}
						},
						"attributes": {
							"object_id": loadBalDataArr[k]
						}
					};
					serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_cloud_load_balancer.push(loadBalDataMap);
				}	
			}
			cloudModelString.push(serverArrayInfo);
		}
		return global.JSON.stringify(cloudModelString);
	}
	
 }

//Following Function converts Map to List
function convertMapToList(value){
	if(!(Array.isArray(value))){
		//Converting to List to Map
		var loadList = [];
		loadList.push(value);
		return loadList;
	}
	else
		return value;
}

//Following function provides Network ObjectID when Subnet's ObjectID is provided which we get from CAPI Response
function getNetworkID(subnetID){
	var subnetGR = new GlideRecord('cmdb_ci_cloud_subnet');
	subnetGR.addQuery('object_id',subnetID);
	subnetGR.query();
	if (subnetGR.next()){ 
		var networkGR = new GlideRecord('cmdb_rel_ci');
		networkGR.addQuery('child',subnetGR.getValue('sys_id'));
		networkGR.query();
		while(networkGR.next()){
			var nwGR = new GlideRecord('cmdb_ci_network');
			nwGR.addQuery('sys_id',networkGR.getValue('parent'));
			nwGR.query();
			if(nwGR.next())
				return nwGR.getValue('object_id');
		}
	}
}

//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)
function isEmpty(value){
  return (value == null || value.length === 0);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-01 08:58:11&lt;/sys_created_on&gt;&lt;sys_id&gt;7e198a7d67900300a7526c706785efa3&lt;/sys_id&gt;&lt;sys_mod_count&gt;60&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Server_Arrays_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7e198a7d67900300a7526c706785efa3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-23 07:44:56&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-875177828</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96194d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550710000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Server_Arrays_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a26d7cc54dbf1300817f734357e0407a</update_guid>
<update_guid_history>a26d7cc54dbf1300817f734357e0407a:-875177828,421bdcc5f03f1300a7d1ed237c0ad1c4:-875177828</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8a79b35e0be622009e620bcb15673a78</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Subnets_To_Networks</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>8a79b35e0be622009e620bcb15673a78</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Subnets_To_Networks</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_8a79b35e0be622009e620bcb15673a78</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1645368524</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96194e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550c70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Subnets_To_Networks</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>626d7cc53ebf1300bb945a1957f3fd8a</update_guid>
<update_guid_history>626d7cc53ebf1300bb945a1957f3fd8a:1645368524,4e1bdcc50a3f1300d1ad795d3a95fac7:1645368524</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_98c9c1360b632200e937c97193673ab7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Switches_To_LDC</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>98c9c1360b632200e937c97193673ab7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Switches_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_98c9c1360b632200e937c97193673ab7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1378527643</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961951</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54a2b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Switches_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>466d7cc529bf1300521b65ef228c3813</update_guid>
<update_guid_history>466d7cc529bf1300521b65ef228c3813:1378527643,7d1bdcc5873f13000e080276da74e17e:1378527643</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_acc9c1360b632200e937c97193673ad5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_Nodes</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:51</sys_created_on><sys_id>acc9c1360b632200e937c97193673ad5</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_Nodes</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_acc9c1360b632200e937c97193673ad5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:51</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1956295829</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54abc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_Nodes</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>da6d7cc53dbf1300d4ef4890e785cb17</update_guid>
<update_guid_history>da6d7cc53dbf1300d4ef4890e785cb17:-1956295829,391bdcc5803f130093678149a3148883:-1956295829</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_cd112e5b67603200790a6c706785ef85</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Start_vSphere_Virtual_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	if(vmResponse.state.toUpperCase() === "RUNNING"){
		var vmInfo ={
			"cmdb_ci_vmware_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_vcenter_datacenter": {
						"criterion": {
							"object_id": getLDC()
						}
					},
					"cmdb_ci_vmware_instance": {
						"criterion": {
							"object_id": vmResponse.objectId
						}
					}
				},
				"attributes": {
					"object_id": vmResponse.objectId,
					"state": "on"
				}
			}
		};
		cloudModelString.push(vmInfo);
	}
	return global.JSON.stringify(cloudModelString);
}

function getLDC(){
	var stepResponse = global.JSON.parse(step);
	return stepResponse.ldcObjectId;
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-31 16:38:23&lt;/sys_created_on&gt;&lt;sys_id&gt;cd112e5b67603200790a6c706785ef85&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start_vSphere_Virtual_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_cd112e5b67603200790a6c706785ef85&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-13 19:50:15&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1473157046</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d961957</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54b590000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Start_vSphere_Virtual_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>566d7cc5f4bf1300a846adc52848621a</update_guid>
<update_guid_history>566d7cc5f4bf1300a846adc52848621a:-1473157046,751bdcc5d33f13009756d81a0d7a7f86:-1473157046</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ddd6648b67b13200790a6c706785efa9</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_vSphere_NIC_VM_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId) {
	var nicInfohandler = [];
	var vmResponse = global.JSON.parse(response);

	if(vmResponse.networkInterfaces &amp;&amp; vmResponse.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; vmResponse.networkInterfaces.length; i++){
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");
			var nicId;
			var pubIP;
			var privIP;
			if (nicIdTrim.length == 2)
				nicId = nicIdTrim[1];
			else
				nicId = nicIdTrim[0];
			var endPointId = "nic-" + nicId + "_endpoint";

			/*if(vmResponse.networkInterfaces[i].publicIPAddresses.length &gt; 0){
				pubIP = vmResponse.networkInterfaces[i].publicIPAddresses[0];
			}

			if(vmResponse.networkInterfaces[i].privateIPAddresses.length &gt; 0){
				privIP = vmResponse.networkInterfaces[i].privateIPAddresses[0];
			}*/

			var nicInfo = {
				"cmdb_ci_nic": {
					"validator": "nic_create_validator",
					"validator_overrides": { },
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_vcenter_datacenter": {
							"criterion": {
								"object_id": getLDC()
							}
						},
						"cmdb_ci_nic":{
							"criterion":{
							    "object_id": nicId
							}
						}
					},
					"attributes":{
	                    "object_id": nicId,
	                    "name": nicId,
	                    "allocation_id":"",
	                    "attach_time":"",
	                    "gateway": vmResponse.networkInterfaces[i].gateway,
	                    "host_name": vmResponse.nodeName,
	                    "is_connected":"",
	                    "is_static":"",
	                    "netmask": vmResponse.networkInterfaces[i].netmask,
	                    "owner": vmResponse.networkInterfaces[i].ownerId,
	                    "private_dns": vmResponse.networkInterfaces[i].privateDnsName,
	                    //"private_ip": privIP,
	                    "public_dns":"",
	                    "is_source_dest_check": vmResponse.networkInterfaces[i].sourceDestCheck,
	                    //"public_ip": pubIP,
	                    "node_id":"",
						"ip_address":vmResponse.publicIps[0],
	                    "status": vmResponse.networkInterfaces[i].status
	                },
					"bindings":[
					{
					   "attach_to":{
						  "implemented_by":{
							 "endpoint_ci":"cmdb_ci_endpoint_vnic",
							 "endpoint_identification":{
								"object_id": endPointId
							 },
							 "attributes":{
								"name": endPointId,
								"host": vmResponse.objectId,
								"target_port":"",
								"object_id": endPointId,
								"uncertain":"",
								"ip_address":"",
								"region":"",
								"dns_suffix":"",
								"ipam_pool_id":"",
								"port_id":""
							}
						  }
					   }
					}
				  ]
				}
			};
			nicInfohandler.push(nicInfo);
		}
	}
	return global.JSON.stringify(nicInfohandler);
}

function getLDC(){
	var stepResponse = global.JSON.parse(step);
	return stepResponse.ldcObjectId;
}
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-02 16:29:35&lt;/sys_created_on&gt;&lt;sys_id&gt;ddd6648b67b13200790a6c706785efa9&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_vSphere_NIC_VM_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_ddd6648b67b13200790a6c706785efa9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-11 11:43:04&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-775969339</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96195a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54bc70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Create_vSphere_NIC_VM_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>5e6d7cc59fbf13001e44f83b89c6831d</update_guid>
<update_guid_history>5e6d7cc59fbf13001e44f83b89c6831d:-775969339,711bdcc5f13f13002c3fa544ca6f018a:-775969339</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rsrc_opr_cat_item_3a114939931813004a9032bfa67ffb9d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rsrc_opr_cat_item"><sn_cmp_rsrc_opr_cat_item action="INSERT_OR_UPDATE"><active>true</active><availability>on_desktop</availability><billable>false</billable><category/><cost>0</cost><custom_cart/><delivery_plan/><delivery_plan_script/><delivery_time>1970-01-03 00:00:00</delivery_time><description/><entitlement_script/><group/><hide_sp>false</hide_sp><icon/><ignore_price>true</ignore_price><image/><list_price>0</list_price><location/><meta/><mobile_hide_price>false</mobile_hide_price><mobile_picture/><mobile_picture_type>use_no_picture</mobile_picture_type><model/><name>Virtual Server - Stop</name><no_cart>false</no_cart><no_order>false</no_order><no_order_now>false</no_order_now><no_proceed_checkout>false</no_proceed_checkout><no_quantity>false</no_quantity><no_search>false</no_search><omit_price>false</omit_price><order>0</order><ordered_item_link/><picture/><preview>JavaScript: popupOpenStandard("com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;sysparm_id=3a114939931813004a9032bfa67ffb9d&amp;sysparm_preview=true", "summary");</preview><price>0</price><recurring_frequency/><recurring_price>0</recurring_price><roles/><sc_catalogs/><sc_ic_item_staging/><sc_ic_version/><short_description>Are you sure you want to perform this operation?</short_description><show_variable_help_on_load>false</show_variable_help_on_load><start_closed>false</start_closed><sys_class_name>sn_cmp_rsrc_opr_cat_item</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:54:31</sys_created_on><sys_id>3a114939931813004a9032bfa67ffb9d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Virtual Server - Stop</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy>read</sys_policy><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rsrc_opr_cat_item_3a114939931813004a9032bfa67ffb9d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:54:31</sys_updated_on><template/><type>item</type><use_sc_layout>true</use_sc_layout><vendor/><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><workflow display_value="Cloud Resource Operation Request">c61355e3875032003273f4bbe3e3ec2d</workflow></sn_cmp_rsrc_opr_cat_item><sys_translated_text action="delete_multiple" query="documentkey=3a114939931813004a9032bfa67ffb9d"/><fx_price action="delete_multiple" query="id=3a114939931813004a9032bfa67ffb9d"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price</field><id>3a114939931813004a9032bfa67ffb9d</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:54:31</sys_created_on><sys_id>7a114939931813004a9032bfa67ffb9e</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:54:31</sys_updated_on><table>sn_cmp_rsrc_opr_cat_item</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>recurring_price</field><id>3a114939931813004a9032bfa67ffb9d</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:54:31</sys_created_on><sys_id>3a114939931813004a9032bfa67ffb9f</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:54:31</sys_updated_on><table>sn_cmp_rsrc_opr_cat_item</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>2137082561</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>d36dbcc5dbbf1300786ff1351d96195d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd544950000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Virtual Server - Stop</target_name>
<type>Resource Operation Catalog Item</type>
<update_domain>global</update_domain>
<update_guid>396d3cc590bf1300bb12b9d8c1d099b8</update_guid>
<update_guid_history>396d3cc590bf1300bb12b9d8c1d099b8:2137082561,e11bdcc5183f1300eab1c712148eb139:2137082561</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>item_option_new_83e1c179931813004a9032bfa67ffbe7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Virtual Server - Stop">3a114939931813004a9032bfa67ffb9d</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>resourceId</name><order>20</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Resource Id</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:05</sys_created_on><sys_id>83e1c179931813004a9032bfa67ffbe7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Resource Id</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>item_option_new_83e1c179931813004a9032bfa67ffbe7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:05</sys_updated_on><table/><tooltip/><type>6</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=83e1c179931813004a9032bfa67ffbe7"/><fx_price action="delete_multiple" query="id=83e1c179931813004a9032bfa67ffbe7"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>83e1c179931813004a9032bfa67ffbe7</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:05</sys_created_on><sys_id>8fe1c179931813004a9032bfa67ffbe8</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:05</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>83e1c179931813004a9032bfa67ffbe7</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>admin</sys_created_by><sys_created_on>2018-02-15 23:58:05</sys_created_on><sys_id>47e1c179931813004a9032bfa67ffbe8</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-15 23:58:05</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload>
<payload_hash>112939289</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d96192a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd545330000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Resource Id</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_guid>f16d3cc58cbf1300cb763636c94af8bf</update_guid>
<update_guid_history>f16d3cc58cbf1300cb763636c94af8bf:112939289,a11bdcc5c53f1300aca3408eac6a4040:112939289</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_a8c8fab7db5313002c87f1771d9619b5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Provision">82041598db9f1f00786ff1351d961960</blueprint_stage_op><child_operation display_value="Blueprint Container Resource.Provision">4b041598db9f1f00786ff1351d9619c4</child_operation><in_degree>0</in_degree><parent_operation/><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>a8c8fab7db5313002c87f1771d9619b5</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_a8c8fab7db5313002c87f1771d9619b5</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>1231482327</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d96192d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd540c60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>216d3cc5b3bf13005eadeb7766217e9b</update_guid>
<update_guid_history>216d3cc5b3bf13005eadeb7766217e9b:1231482327</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_0279b35e0be622009e620bcb15673a30</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Compute Interface">f979b35e0be622009e620bcb15673a26</guestinterface><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>0279b35e0be622009e620bcb15673a30</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0279b35e0be622009e620bcb15673a2e</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_0279b35e0be622009e620bcb15673a30</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1119183995</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961930</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54c8e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>0279b35e0be622009e620bcb15673a2e</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>526d7cc5eebf1300c9f0b194c07bd823</update_guid>
<update_guid_history>526d7cc5eebf1300c9f0b194c07bd823:1119183995,821bdcc59e3f1300ede8b0edabbbb89c:1119183995</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_d0c941360b632200e937c97193673a21</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Network Service Container Interface">7579b35e0be622009e620bcb15673a28</guestinterface><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>d0c941360b632200e937c97193673a21</sys_id><sys_mod_count>0</sys_mod_count><sys_name>5cc941360b632200e937c97193673a1a</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_d0c941360b632200e937c97193673a21</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1606080783</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961933</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548650000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>5cc941360b632200e937c97193673a1a</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>066d3cc5dcbf13006d7fd11e685c44e6</update_guid>
<update_guid_history>066d3cc5dcbf13006d7fd11e685c44e6:1606080783,f11bdcc5f93f13006d266d4dca460c69:1606080783</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcehost_91d353f30b3222009e620bcb15673a00</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcehost"><sn_cmp_rb_resourcehost action="INSERT_OR_UPDATE"><guestresource display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</guestresource><hostresource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</hostresource><sys_class_name>sn_cmp_rb_resourcehost</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-11-07 09:47:07</sys_created_on><sys_id>91d353f30b3222009e620bcb15673a00</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcehost_91d353f30b3222009e620bcb15673a00</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-11-07 09:47:07</sys_updated_on></sn_cmp_rb_resourcehost></record_update>]]></payload>
<payload_hash>1143497429</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961936</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541700000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Resource Host</type>
<update_domain>global</update_domain>
<update_guid>a96d3cc5b8bf13009864d94d26a2d5a3</update_guid>
<update_guid_history>a96d3cc5b8bf13009864d94d26a2d5a3:1143497429,dd1bdcc5973f1300d656c4478976df22:1143497429</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_14c9c1360b632200e937c97193673ac6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Link_VM_Snapshots_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>14c9c1360b632200e937c97193673ac6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Link_VM_Snapshots_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_14c9c1360b632200e937c97193673ac6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1347676971</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961939</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548830000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Link_VM_Snapshots_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>426d3cc5c7bf13003a6f02fdf9cb80e8</update_guid>
<update_guid_history>426d3cc5c7bf13003a6f02fdf9cb80e8:1347676971,b11bdcc5603f1300921c355306230e6b:1347676971</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_324a37de0be622009e620bcb15673a9a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Virtual_Server_Response_Processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {&amp;#13;
	var cloudModelString = [];&amp;#13;
&amp;#13;
	//Below Attributes were added to handle null information&amp;#13;
	var bindInfohandler = [];&amp;#13;
	var vmCPUs = "";&amp;#13;
	var vmPubIPAddr = "";&amp;#13;
	var vmMemory = "";&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
	var reqContext = global.JSON.parse(requestorContext);&amp;#13;
	var hardwareId = vmResponse.hardwareId;&amp;#13;
	var imageIdTrim = vmResponse.imageId.substring(vmResponse.imageId.indexOf("/")+1,vmResponse.imageId.length);&amp;#13;
	var status_map = { "RUNNING":"on", "SUSPENDED":"paused", "STOP":"off", "TERMINATED":"terminated", "ERROR":"error", "UNRECOGNIZED":"off", "PENDING":"" };&amp;#13;
&amp;#13;
	//Checking if processors info is not null to populate vCPUS info for vm_instance table&amp;#13;
	if(vmResponse.processors !== null)&amp;#13;
		vmCPUs = vmResponse.processors.substring(vmResponse.processors.indexOf("=")+1, vmResponse.processors.indexOf("."));&amp;#13;
&amp;#13;
&amp;#13;
	if(vmCPUs == null || vmCPUs == "") {&amp;#13;
		var gr = new GlideRecord('cmdb_ci_compute_template');&amp;#13;
		gr.addQuery('name',hardwareId);&amp;#13;
		gr.query();&amp;#13;
		if (gr.next())&amp;#13;
			vmCPUs = gr.getValue('vcpus');&amp;#13;
	}&amp;#13;
&amp;#13;
	var vmMemGR = new GlideRecord('cmdb_ci_compute_template');&amp;#13;
	vmMemGR.addQuery('name',hardwareId);&amp;#13;
	vmMemGR.query();&amp;#13;
	if (vmMemGR.next())&amp;#13;
		vmMemory = vmMemGR.getValue('memory_mb');&amp;#13;
&amp;#13;
	//Checking if public ips info is not null to populate ip info for vm_instance table&amp;#13;
	if(vmResponse.publicIps !== null)&amp;#13;
		vmPubIPAddr = vmResponse.publicIps[0];&amp;#13;
&amp;#13;
&amp;#13;
	var vmInfo ={&amp;#13;
		"cmdb_ci_vm_instance": {&amp;#13;
			"validator": "virtual_machine_create_update_validator",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": vmResponse.nodeId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"name": vmResponse.nodeName,&amp;#13;
				"object_id": vmResponse.nodeId,&amp;#13;
				"state": status_map[vmResponse.state],&amp;#13;
				"dns_suffix": vmResponse.dnsSuffix,&amp;#13;
				"cpus": vmCPUs,&amp;#13;
				"memory": vmMemory,&amp;#13;
				"disks": vmResponse.volumes.length,&amp;#13;
				"disks_size": "",&amp;#13;
				"nics": vmResponse.networkInterfaces.length,&amp;#13;
				"terminated_on": "",&amp;#13;
				"termination_protection": "",&amp;#13;
				"ip_address":vmPubIPAddr,&amp;#13;
				"assigned_to":reqContext.userId,&amp;#13;
				"assignment_group":reqContext.groupId&amp;#13;
			},&amp;#13;
			"references": {&amp;#13;
				"cmdb_ci_os_template": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_aws_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_os_template": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": imageIdTrim&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": imageIdTrim&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_compute_template": {&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_aws_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_compute_template": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": vmResponse.hardwareId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": vmResponse.hardwareId,&amp;#13;
						"name" : vmResponse.hardwareId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"bindings": bindInfohandler&amp;#13;
		}&amp;#13;
	};&amp;#13;
&amp;#13;
	if(vmResponse.availabilityZone.length&amp;gt;0){&amp;#13;
		var zoneMap = {&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_availability_zone": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": vmResponse.availabilityZone&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": vmResponse.availabilityZone&amp;#13;
			}&amp;#13;
		};&amp;#13;
		vmInfo.cmdb_ci_vm_instance.references['cmdb_ci_availability_zone'] = zoneMap;&amp;#13;
	}&amp;#13;
&amp;#13;
	if(vmResponse.networkInterfaces &amp;amp;&amp;amp; vmResponse.networkInterfaces.length &amp;gt; 0){&amp;#13;
		for (var i=0; i&amp;lt; vmResponse.networkInterfaces.length; i++){&amp;#13;
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");&amp;#13;
			var nicId;&amp;#13;
			if (nicIdTrim.length == 2)&amp;#13;
				nicId = nicIdTrim[1];&amp;#13;
			else&amp;#13;
				nicId = nicIdTrim[0];&amp;#13;
			var endPointId = "nic-" + nicId + "_endpoint";&amp;#13;
			var nicTemp = {&amp;#13;
				"attach_to":{&amp;#13;
					"used_by":{&amp;#13;
						"endpoint_ci":"cmdb_ci_endpoint_vnic",&amp;#13;
						"endpoint_identification":{&amp;#13;
							"object_id": endPointId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			bindInfohandler.push(nicTemp);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	&amp;#13;
	//Volumes Defence Code to hangle Empty Volumes Info&amp;#13;
	if(vmResponse.volumes.length&amp;gt;0){&amp;#13;
		var volumeInfo = vmResponse.volumes[0];&amp;#13;
		var volId = volumeInfo.VolumeId;&amp;#13;
		var storageMapping = {&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_aws_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": vmResponse.nodeId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_storage_mapping": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"name": volId,&amp;#13;
				"object_id": volId,&amp;#13;
				"mapping_type": volumeInfo.MappingType,&amp;#13;
				"mount_point": volumeInfo.Device,&amp;#13;
				"source_storage": "",&amp;#13;
				"root_disk": "",&amp;#13;
				"host": vmResponse.publicIps[0],&amp;#13;
				"total_space": "",&amp;#13;
				"free_space": "",&amp;#13;
				"is_delete_on_termination": "",&amp;#13;
				"attach_time":volumeInfo.AttachTime&amp;#13;
			}&amp;#13;
		};&amp;#13;
		vmInfo.cmdb_ci_vm_instance.references['cmdb_ci_storage_mapping'] = storageMapping;&amp;#13;
&amp;#13;
		var volTemp = {&amp;#13;
			"attach_to":{&amp;#13;
				"used_by":{&amp;#13;
					"endpoint_ci":"cmdb_ci_endpoint_block",&amp;#13;
					"endpoint_identification":{&amp;#13;
						"object_id": volId&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": volId,&amp;#13;
						"host": vmResponse.nodeId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		bindInfohandler.push(volTemp);&amp;#13;
&amp;#13;
		var rootVolume = {&amp;#13;
			"cmdb_ci_storage_volume": {&amp;#13;
				"validator": "storage_volumes_list_validator",&amp;#13;
				"identification": {&amp;#13;
					"cmdb_ci_cloud_service_account": {&amp;#13;
						"criterion": {&amp;#13;
							"account_id": cloudServiceAccountId&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_aws_datacenter": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": ldc&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_storage_volume": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": volId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"attributes": {&amp;#13;
					"storage_type":"block",&amp;#13;
					"size_bytes":volumeInfo.Size*1024*1024*1024,&amp;#13;
					"volume_id": volId,&amp;#13;
					"name": volId,&amp;#13;
					"state":"in-use",&amp;#13;
					"object_id": volId,&amp;#13;
					"mapping_type":volumeInfo.MappingType&amp;#13;
				},&amp;#13;
				"bindings": [&amp;#13;
					{&amp;#13;
					  "attach_to": {&amp;#13;
						"implemented_by": {&amp;#13;
						  "endpoint_identification": {&amp;#13;
							"object_id": volId&amp;#13;
						  },&amp;#13;
						  "attributes": {&amp;#13;
							"attachment_info": "in-use",&amp;#13;
							"host": vmResponse.nodeId,&amp;#13;
							"name": volId,&amp;#13;
							"object_id": volId&amp;#13;
						  },&amp;#13;
						  "endpoint_ci": "cmdb_ci_endpoint_block"&amp;#13;
						}&amp;#13;
					  }&amp;#13;
					}&amp;#13;
			  ]&amp;#13;
			}&amp;#13;
		};&amp;#13;
		// Include tagValues if there are any&amp;#13;
		if (!gs.nil(volumeInfo.Tags))&amp;#13;
			rootVolume.cmdb_ci_storage_volume.tagValues = global.JSON.stringify(volumeInfo.Tags);&amp;#13;
&amp;#13;
		cloudModelString.push(rootVolume);&amp;#13;
	}&amp;#13;
&amp;#13;
	if (!gs.nil(vmResponse.tagValues))&amp;#13;
		vmInfo["cmdb_ci_vm_instance"].tagValues = global.JSON.stringify(vmResponse.tagValues);&amp;#13;
	&amp;#13;
	cloudModelString.push(vmInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];

	//Below Attributes were added to handle null information
	var bindInfohandler = [];
	var vmCPUs = "";
	var vmPubIPAddr = "";
	var vmMemory = "";
	var vmResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var hardwareId = vmResponse.hardwareId;
	var imageIdTrim = vmResponse.imageId.substring(vmResponse.imageId.indexOf("/")+1,vmResponse.imageId.length);
	var status_map = { "RUNNING":"on", "SUSPENDED":"paused", "STOP":"off", "TERMINATED":"terminated", "ERROR":"error", "UNRECOGNIZED":"off", "PENDING":"" };

	//Checking if processors info is not null to populate vCPUS info for vm_instance table
	if(vmResponse.processors !== null)
		vmCPUs = vmResponse.processors.substring(vmResponse.processors.indexOf("=")+1, vmResponse.processors.indexOf("."));


	if(vmCPUs == null || vmCPUs == "") {
		var gr = new GlideRecord('cmdb_ci_compute_template');
		gr.addQuery('name',hardwareId);
		gr.query();
		if (gr.next())
			vmCPUs = gr.getValue('vcpus');
	}

	var vmMemGR = new GlideRecord('cmdb_ci_compute_template');
	vmMemGR.addQuery('name',hardwareId);
	vmMemGR.query();
	if (vmMemGR.next())
		vmMemory = vmMemGR.getValue('memory_mb');

	//Checking if public ips info is not null to populate ip info for vm_instance table
	if(vmResponse.publicIps !== null)
		vmPubIPAddr = vmResponse.publicIps[0];


	var vmInfo ={
		"cmdb_ci_vm_instance": {
			"validator": "virtual_machine_create_update_validator",
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": vmResponse.nodeId
					}
				}
			},
			"attributes": {
				"name": vmResponse.nodeName,
				"object_id": vmResponse.nodeId,
				"state": status_map[vmResponse.state],
				"dns_suffix": vmResponse.dnsSuffix,
				"cpus": vmCPUs,
				"memory": vmMemory,
				"disks": vmResponse.volumes.length,
				"disks_size": "",
				"nics": vmResponse.networkInterfaces.length,
				"terminated_on": "",
				"termination_protection": "",
				"ip_address":vmPubIPAddr,
				"assigned_to":reqContext.userId,
				"assignment_group":reqContext.groupId
			},
			"references": {
				"cmdb_ci_os_template": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_os_template": {
							"criterion": {
								"object_id": imageIdTrim
							}
						}
					},
					"attributes": {
						"object_id": imageIdTrim
					}
				},
				"cmdb_ci_compute_template": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_compute_template": {
							"criterion": {
								"object_id": vmResponse.hardwareId
							}
						}
					},
					"attributes": {
						"object_id": vmResponse.hardwareId,
						"name" : vmResponse.hardwareId
					}
				}
			},
			"bindings": bindInfohandler
		}
	};

	if(vmResponse.availabilityZone.length&gt;0){
		var zoneMap = {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_availability_zone": {
					"criterion": {
						"object_id": vmResponse.availabilityZone
					}
				}
			},
			"attributes": {
				"object_id": vmResponse.availabilityZone
			}
		};
		vmInfo.cmdb_ci_vm_instance.references['cmdb_ci_availability_zone'] = zoneMap;
	}

	if(vmResponse.networkInterfaces &amp;&amp; vmResponse.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; vmResponse.networkInterfaces.length; i++){
			var nicIdTrim = vmResponse.networkInterfaces[i].networkInterfaceId.split("/");
			var nicId;
			if (nicIdTrim.length == 2)
				nicId = nicIdTrim[1];
			else
				nicId = nicIdTrim[0];
			var endPointId = "nic-" + nicId + "_endpoint";
			var nicTemp = {
				"attach_to":{
					"used_by":{
						"endpoint_ci":"cmdb_ci_endpoint_vnic",
						"endpoint_identification":{
							"object_id": endPointId
						}
					}
				}
			};
			bindInfohandler.push(nicTemp);
		}
	}
	
	//Volumes Defence Code to hangle Empty Volumes Info
	if(vmResponse.volumes.length&gt;0){
		var volumeInfo = vmResponse.volumes[0];
		var volId = volumeInfo.VolumeId;
		var storageMapping = {
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_aws_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": vmResponse.nodeId
					}
				},
				"cmdb_ci_storage_mapping": {
					"criterion": {
						"object_id": volId
					}
				}
			},
			"attributes": {
				"name": volId,
				"object_id": volId,
				"mapping_type": volumeInfo.MappingType,
				"mount_point": volumeInfo.Device,
				"source_storage": "",
				"root_disk": "",
				"host": vmResponse.publicIps[0],
				"total_space": "",
				"free_space": "",
				"is_delete_on_termination": "",
				"attach_time":volumeInfo.AttachTime
			}
		};
		vmInfo.cmdb_ci_vm_instance.references['cmdb_ci_storage_mapping'] = storageMapping;

		var volTemp = {
			"attach_to":{
				"used_by":{
					"endpoint_ci":"cmdb_ci_endpoint_block",
					"endpoint_identification":{
						"object_id": volId
					},
					"attributes": {
						"object_id": volId,
						"host": vmResponse.nodeId
					}
				}
			}
		};
		bindInfohandler.push(volTemp);

		var rootVolume = {
			"cmdb_ci_storage_volume": {
				"validator": "storage_volumes_list_validator",
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"account_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volId
						}
					}
				},
				"attributes": {
					"storage_type":"block",
					"size_bytes":volumeInfo.Size*1024*1024*1024,
					"volume_id": volId,
					"name": volId,
					"state":"in_use",
					"object_id": volId,
					"mapping_type":volumeInfo.MappingType
				},
				"bindings": [
					{
					  "attach_to": {
						"implemented_by": {
						  "endpoint_identification": {
							"object_id": volId
						  },
						  "attributes": {
							"attachment_info": "in_use",
							"host": vmResponse.nodeId,
							"name": volId,
							"object_id": volId
						  },
						  "endpoint_ci": "cmdb_ci_endpoint_block"
						}
					  }
					}
			  	]
			}
		};
		// Include tagValues if there are any
		if (!gs.nil(volumeInfo.Tags))
			rootVolume.cmdb_ci_storage_volume.tagValues = global.JSON.stringify(volumeInfo.Tags);

		cloudModelString.push(rootVolume);
	}

	if (!gs.nil(vmResponse.tags))
		vmInfo["cmdb_ci_vm_instance"].tagValues = global.JSON.stringify(vmResponse.tags);
	
	cloudModelString.push(vmInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:28:23&lt;/sys_created_on&gt;&lt;sys_id&gt;324a37de0be622009e620bcb15673a9a&lt;/sys_id&gt;&lt;sys_mod_count&gt;35&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Virtual_Server_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_324a37de0be622009e620bcb15673a9a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-19 14:01:58&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2013141641</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d96193d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541cd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Virtual_Server_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>256d3cc597bf13005b1458ef341b4fa7</update_guid>
<update_guid_history>256d3cc597bf13005b1458ef341b4fa7:-2013141641,5d1bdcc5fd3f1300e84b32b9152cdb26:-2013141641</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4ef501abd722220097eb6ccf6e6103ce</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Datacenters_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);
	
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null, 
												  'Azure API');
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject.value,
											   'Azure Datacenter',
											   'datacenter_create_update_validator');
	return global.JSON.stringify(cloudModelObject);
 }
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by/&gt;&lt;sys_created_on/&gt;&lt;sys_id&gt;4ef501abd722220097eb6ccf6e6103ce&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Datacenters_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4ef501abd722220097eb6ccf6e6103ce&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-15 00:37:40&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-480157341</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961940</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555940000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Datacenters_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f26d7cc5edbf130061376536d187e9d7</update_guid>
<update_guid_history>f26d7cc5edbf130061376536d187e9d7:-480157341,2e1bdcc52b3f1300052d06b7f0f714ff:-480157341</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5a79b35e0be622009e620bcb15673a83</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_Terminated_Containers</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>5a79b35e0be622009e620bcb15673a83</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_Terminated_Containers</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_5a79b35e0be622009e620bcb15673a83</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>972479474</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961943</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54f770000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Update_Terminated_Containers</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a66d7cc5cfbf13009b23a13e80374271</update_guid>
<update_guid_history>a66d7cc5cfbf13009b23a13e80374271:972479474,ca1bdcc56e3f130018346c9bb9e17aba:972479474</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103b8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_RouteTables_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>65f501abd722220097eb6ccf6e6103b8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_RouteTables_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103b8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:57</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-2089027190</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961946</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd556e90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_RouteTables_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c36d7cc503bf130023254ffa15fc0ce5</update_guid>
<update_guid_history>c36d7cc503bf130023254ffa15fc0ce5:-2089027190,2e1b1009d23f13005754b9bbdeb5d00e:-2089027190</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_721403410b6532003969a387b6673a09</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Associate_Network_Interface_VM_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var nicInfoHandler = [];
	var cloudModelString = [];
	var nodeData = global.JSON.parse(response);
	
	var reqContext = global.JSON.parse(requestorContext);
	
	var vmInfo ={
		"cmdb_ci_vm_instance": {
			"validator": "virtual_machine_create_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": nodeData.nodeId
					}
				}
			},
			"attributes": {
				"object_id": nodeData.nodeId,
				"nics": nodeData.networkInterfaces.length
			},
			"bindings": nicInfoHandler
		}
	};


	if(nodeData.networkInterfaces &amp;&amp; nodeData.networkInterfaces.length &gt; 0){
		for (var i=0; i&lt; nodeData.networkInterfaces.length; i++){
			var nic = nodeData.networkInterfaces[i];
			var nicId = nic.networkInterfaceId;
			var endPointId = 'nic-' + nicId + '_endpoint';

			var nicTemp = {
				"attach_to": {
					"used_by": {
						"endpoint_ci": "cmdb_ci_endpoint_vnic",
						"endpoint_identification": {
							"object_id": endPointId
						}
					}
				}
			};
			nicInfoHandler.push(nicTemp);
		}
	}
	
	cloudModelString.push(vmInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-15 12:31:07&lt;/sys_created_on&gt;&lt;sys_id&gt;721403410b6532003969a387b6673a09&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Associate_Network_Interface_VM_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_721403410b6532003969a387b6673a09&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-03 09:29:14&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1621466895</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961949</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557a50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Associate_Network_Interface_VM_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>876d7cc591bf13003c0a1fed168726fa</update_guid>
<update_guid_history>876d7cc591bf13003c0a1fed168726fa:1621466895,a21b1009e43f1300d5c1ba0cab86d218:1621466895</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103c2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Storage_Account_To_LDC</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>7df501abd722220097eb6ccf6e6103c2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Storage_Account_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_7df501abd722220097eb6ccf6e6103c2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1073079426</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d96194c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558780000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Storage_Account_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>0f6dbcc5aabf13001eb989a97c602a05</update_guid>
<update_guid_history>0f6dbcc5aabf13001eb989a97c602a05:1073079426,e21b1009573f13002915100ba0278a3d:1073079426</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_94c9c1360b632200e937c97193673ac9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Hardwares_To_Profiles</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>94c9c1360b632200e937c97193673ac9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Hardwares_To_Profiles</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_94c9c1360b632200e937c97193673ac9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1756142919</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961950</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54a0d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Hardwares_To_Profiles</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c66d7cc599bf1300892f6674a7469312</update_guid>
<update_guid_history>c66d7cc599bf1300892f6674a7469312:1756142919,bd1bdcc5ac3f1300cfe03ec7d9fff67d:1756142919</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a8c9c1360b632200e937c97193673acf</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Hardwares_To_LDC</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>a8c9c1360b632200e937c97193673acf</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Hardwares_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_a8c9c1360b632200e937c97193673acf</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1886276555</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961953</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54a7a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Hardwares_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ce6d7cc58abf13004389cb2b735ce015</update_guid>
<update_guid_history>ce6d7cc58abf13004389cb2b735ce015:1886276555,b91bdcc5e53f130054d44435e1747281:1886276555</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_c679b35e0be622009e620bcb15673a67</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Hardwares_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>c679b35e0be622009e620bcb15673a67</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Hardwares_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_c679b35e0be622009e620bcb15673a67</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1983995918</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552820000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Hardwares_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>be6d7cc5e2bf1300ef3deb90779f74a8</update_guid>
<update_guid_history>be6d7cc5e2bf1300ef3deb90779f74a8:-1983995918,1a1bdcc5363f13005ece881e4599e5db:-1983995918</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_da79b35e0be622009e620bcb15673a9f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Update_IAM_Policy_For_User_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>da79b35e0be622009e620bcb15673a9f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Update_IAM_Policy_For_User_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_da79b35e0be622009e620bcb15673a9f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-988537960</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d961959</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553230000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Update_IAM_Policy_For_User_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f26d7cc5f4bf13007e5789fc2d45cbbd</update_guid>
<update_guid_history>f26d7cc5f4bf13007e5789fc2d45cbbd:-988537960,de1bdcc5293f1300caa0b4205dc1cee3:-988537960</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_f5a68a160b163200668daac125673ac2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Associate_VPC_Security_Group_To_Network&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var securityGroup = global.JSON.parse(response);
		var networkInfo = {
			"cmdb_ci_network": {
				"validator": "network_create_update_validator",
				"validator_overrides": {

				},
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id" : cloudServiceAccountId
					 	}
					 },
				 	"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
				 		}
				 	},
				 	"cmdb_ci_network": {
				 		"criterion": {
							"object_id": securityGroup.networkId
				 		}
				 	}
				},
				"attributes": {
					"object_id": securityGroup.networkId
				},
				"references": {
					"cmdb_ci_compute_security_group": {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id" : cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id" : ldc
								}
							},
							"cmdb_ci_compute_security_group": {
								"criterion": {
									"object_id": securityGroup.firewallId
								}
							}
						},
						"attributes": {
							"object_id": securityGroup.firewallId,
							"compute_security_group_id": securityGroup.firewallId
						}
					}
				}		
			}
		};
		cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}


			]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-25 11:59:17&lt;/sys_created_on&gt;&lt;sys_id&gt;f5a68a160b163200668daac125673ac2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Associate_VPC_Security_Group_To_Network&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_f5a68a160b163200668daac125673ac2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-25 11:59:17&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1380425430</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>d76dbcc5dbbf1300786ff1351d96195c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553ba0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Associate_VPC_Security_Group_To_Network</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7a6d7cc534bf130003dd87eb33d230c1</update_guid>
<update_guid_history>7a6d7cc534bf130003dd87eb33d230c1:-1380425430,9a1bdcc5a93f1300e37b0c89670d0ce8:-1380425430</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_a0c8fab7db5313002c87f1771d9619a8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Stop">16041598db9f1f00786ff1351d961971</blueprint_stage_op><child_operation display_value="Blueprint Container Resource.Stop">0be4551cdb9f1f00786ff1351d961903</child_operation><in_degree>0</in_degree><parent_operation/><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:29</sys_created_on><sys_id>a0c8fab7db5313002c87f1771d9619a8</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_a0c8fab7db5313002c87f1771d9619a8</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:29</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>-585106190</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96192c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5405e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>ed6d3cc55cbf1300fb235be28b20f395</update_guid>
<update_guid_history>ed6d3cc55cbf1300fb235be28b20f395:-585106190</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_53e427d10b0232009e620bcb15673aa0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_block</endpoint><relation_type>1</relation_type><resource_block display_value="Storage Volume">266048440b632200668daac125673a63</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:01:05</sys_created_on><sys_id>53e427d10b0232009e620bcb15673aa0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>266048440b632200668daac125673a63</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_53e427d10b0232009e620bcb15673aa0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:01:05</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>-574898731</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96192f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd547f40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>266048440b632200668daac125673a63</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>4a6d3cc52bbf13006620f80982aa1edf</update_guid>
<update_guid_history>4a6d3cc52bbf13006620f80982aa1edf:-574898731,711bdcc5503f13000f12d3d660e2a762:-574898731</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_96de1f77d722220097eb6ccf6e61039f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Stack Orchestration Interface">64271337d722220097eb6ccf6e6103f5</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-26 00:19:29</sys_created_on><sys_id>96de1f77d722220097eb6ccf6e61039f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_96de1f77d722220097eb6ccf6e61039f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-26 00:19:29</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1434415637</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961932</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554120000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>f26d7cc557bf1300a104ebc8a7b880c6</update_guid>
<update_guid_history>f26d7cc557bf1300a104ebc8a7b880c6:1434415637,5a1bdcc5653f1300db960eb3d4eae4ed:1434415637</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourceblock_6a4a735e0be622009e620bcb15673a04</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sn_cmp_rb_resourceblock"><sn_cmp_rb_resourceblock action="INSERT_OR_UPDATE"><active>true</active><description/><guestinterface display_value="Virtual Server Interface">ee4a735e0be622009e620bcb15673a02</guestinterface><hostinterface display_value="Compute Interface">f979b35e0be622009e620bcb15673a26</hostinterface><is_system_defined>true</is_system_defined><is_tlr>false</is_tlr><layer>3</layer><name>Virtual Server</name><refcitype>cmdb_ci_vm_instance</refcitype><resource_template/><status>1</status><sys_class_name>sn_cmp_rb_resourceblock</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:28:23</sys_created_on><sys_domain>global</sys_domain><sys_id>6a4a735e0be622009e620bcb15673a04</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Virtual Server</sys_name><sys_overrides/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourceblock_6a4a735e0be622009e620bcb15673a04</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-16 06:46:14</sys_updated_on><type/></sn_cmp_rb_resourceblock></record_update>]]></payload>
<payload_hash>987356681</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961935</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541330000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Virtual Server</target_name>
<type>ResourceBlock</type>
<update_domain>global</update_domain>
<update_guid>2d6d3cc521bf130046dccc4dea2e64a0</update_guid>
<update_guid_history>2d6d3cc521bf130046dccc4dea2e64a0:987356681,9d1bdcc5e33f1300a8203c7a8ae31c1f:987356681</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0e79b35e0be622009e620bcb15673a7b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_NetworkACLs_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>0e79b35e0be622009e620bcb15673a7b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_NetworkACLs_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_0e79b35e0be622009e620bcb15673a7b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>51133704</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961938</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54d850000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_NetworkACLs_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>166d7cc5fcbf1300b136a7c35422b02d</update_guid>
<update_guid_history>166d7cc5fcbf1300b136a7c35422b02d:51133704,021bdcc5fc3f13005346333243c3b6a7:51133704</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_2c86e2c30b2532003969a387b6673a8a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Attach_Storage_Volume_VM_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc) {&amp;#13;
	var cloudModelString = [];&amp;#13;
	var volumeAttachments = global.JSON.parse(response);&amp;#13;
	var endPointId = volumeAttachments.volumeId.concat( "_" , "block_endpoint");&amp;#13;
	&amp;#13;
	var volumeAttachInfo = {&amp;#13;
		"cmdb_ci_vm_instance": {&amp;#13;
			"validator": "volume_attach_vm",&amp;#13;
			"validator_overrides": { },&amp;#13;
			"identification": {&amp;#13;
				"cmdb_ci_cloud_service_account": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": cloudServiceAccountId&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_azure_datacenter": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": ldc&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"cmdb_ci_vm_instance": {&amp;#13;
					"criterion": {&amp;#13;
						"object_id": volumeAttachments.nodeId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			},&amp;#13;
			"attributes": {&amp;#13;
				"object_id": volumeAttachments.nodeId,&amp;#13;
				"disks": getDiskCount(volumeAttachments.nodeId)&amp;#13;
				&amp;#13;
			},&amp;#13;
			"bindings": [&amp;#13;
				{&amp;#13;
					"attach_to": {&amp;#13;
						"used_by": {&amp;#13;
							"endpoint_ci": "cmdb_ci_endpoint_block",&amp;#13;
							"endpoint_identification": {&amp;#13;
								"object_id": endPointId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					}&amp;#13;
				}&amp;#13;
			]&amp;#13;
		}&amp;#13;
	};&amp;#13;
	// Defensive Code to handle Empty Volumes Info&amp;#13;
    function getDiskCount(instanceId){&amp;#13;
		var disks;&amp;#13;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");&amp;#13;
		diskCount.addQuery('object_id',instanceId);&amp;#13;
	    diskCount.query();&amp;#13;
	if (diskCount.next()){ &amp;#13;
		disks = parseInt(diskCount.getValue("disks"))+1;&amp;#13;
	}&amp;#13;
		return disks;&amp;#13;
	}&amp;#13;
	cloudModelString.push(volumeAttachInfo);&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var volumeAttachments = global.JSON.parse(response);
	var endPointId = volumeAttachments.volumeId.concat( "_" , "block_endpoint");
	
	var volumeAttachInfo = {
		"cmdb_ci_vm_instance": {
			"validator": "volume_attach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_vm_instance": {
					"criterion": {
						"object_id": volumeAttachments.nodeId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachments.nodeId,
				"disks": getDiskCount(volumeAttachments.nodeId)
				
			},
			"bindings": [
				{
					"attach_to": {
						"used_by": {
							"endpoint_ci": "cmdb_ci_endpoint_block",
							"endpoint_identification": {
								"object_id": endPointId
							}
						}
					}
				}
			]
		}
	};
	// Defensive Code to handle Empty Volumes Info
    function getDiskCount(instanceId){
		var disks;
	    var diskCount = new GlideRecord("cmdb_ci_vm_instance");
		diskCount.addQuery('object_id',instanceId);
	    diskCount.query();
	if (diskCount.next()){ 
		disks = parseInt(diskCount.getValue("disks"))+1;
	}
		return disks;
	}
	cloudModelString.push(volumeAttachInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-21 15:42:36&lt;/sys_created_on&gt;&lt;sys_id&gt;2c86e2c30b2532003969a387b6673a8a&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Attach_Storage_Volume_VM_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_2c86e2c30b2532003969a387b6673a8a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-06 12:21:35&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1058611110</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96193c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554fb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Attach_Storage_Volume_VM_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f26d7cc599bf1300efca45e5332bdbd0</update_guid>
<update_guid_history>f26d7cc599bf1300efca45e5332bdbd0:-1058611110,161bdcc53a3f1300ba6e91489c4ab6f8:-1058611110</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4ab306480b123200668daac125673a67</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_VDisk_BlockEP&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
	var cloudModelString = [];
	var volumeAttachments = global.JSON.parse(response);
	//var endPointId = volumeAttachments.instanceId.concat( "-" , volumeAttachments.volumeId );
	var endPointId = volumeAttachments.volumeId + '_block_endpoint';
	var stepObj = global.JSON.parse(step);
	var state = null;
	if(volumeAttachments.volumeState == 'attached' || volumeAttachments.volumeState == 'in-use')
		state = 'in_use';
	var volumeAttachInfo = {
		"cmdb_ci_storage_volume": {
			"validator": "volume_attach_vm",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": stepObj.ldcObjectId
					}
				},
				"cmdb_ci_storage_volume": {
					"criterion": {
						"object_id": volumeAttachments.volumeId
					}
				}
			},
			"attributes": {
				"object_id": volumeAttachments.volumeId,
				"state": state,
				"device":volumeAttachments.device
			},
			"bindings":[
            {
               "attach_to":{
                  "implemented_by":{
                     "endpoint_ci":"cmdb_ci_endpoint_block",
                     "endpoint_identification":{
                        "object_id": endPointId
                     },
                     "attributes":{
                     "attachment_info": volumeAttachments.volumeAttachmentState,
                      "mount_point": volumeAttachments.device,
                      "attach_time": volumeAttachments.attachTime,
                      "host": volumeAttachments.instanceId,
                      "name": endPointId
                      }
                  }
               }
            }
        ]
	}
  };
  cloudModelString.push(volumeAttachInfo);
  return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-18 12:02:20&lt;/sys_created_on&gt;&lt;sys_id&gt;4ab306480b123200668daac125673a67&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_VDisk_BlockEP&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_4ab306480b123200668daac125673a67&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-20 11:05:58&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>818391181</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96193f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd549090000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_VDisk_BlockEP</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>c26d3cc57dbf13000ad8008803c48dee</update_guid>
<update_guid_history>c26d3cc57dbf13000ad8008803c48dee:818391181,f91bdcc51f3f1300296787a2b1195a71:818391181</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_58c9c1360b632200e937c97193673ac1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Nodes_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>58c9c1360b632200e937c97193673ac1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Nodes_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_58c9c1360b632200e937c97193673ac1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1366939685</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961942</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5494e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Nodes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ca6d3cc5b2bf1300af6d22142e03ddf1</update_guid>
<update_guid_history>ca6d3cc5b2bf1300af6d22142e03ddf1:-1366939685,f51bdcc5763f13003de1b0b937b6b075:-1366939685</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103a9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Hardwares_To_Profiles</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>65f501abd722220097eb6ccf6e6103a9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Hardwares_To_Profiles</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_65f501abd722220097eb6ccf6e6103a9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:56</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-1260067600</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961945</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5569f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Hardwares_To_Profiles</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>cb6d7cc507bf13009148665cad528ae1</update_guid>
<update_guid_history>cb6d7cc507bf13009148665cad528ae1:-1260067600,221b1009873f1300a160e49cf8a0f60b:-1260067600</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103ad</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Volumes_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, &amp;#13;
						  correlationId, step, requestorContext, stackId) {&amp;#13;
	var rps = new sn_cmp_api.ResponseProcessorScript();&amp;#13;
	var responseToProcess = rps.extractResponse(response);&amp;#13;
	var responseObject = global.JSON.parse(responseToProcess);	&amp;#13;
&amp;#13;
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, &amp;#13;
												  ldc,&amp;#13;
												  'Azure API',&amp;#13;
												  {"correlationId": correlationId,&amp;#13;
												   "step": step,&amp;#13;
												   "requestorContext": requestorContext,&amp;#13;
												   "stackId": stackId});&amp;#13;
	&amp;#13;
	var cloudModelObject = responseProcessor.processResponseArray(responseObject,&amp;#13;
											   'Microsoft.Storage/blobs',&amp;#13;
											   'storage_blob_create_update_validator');&amp;#13;
&amp;#13;
	&amp;#13;
	// Process blobs that are private images to the image table&amp;#13;
	for (var i = 0; i &amp;lt; responseObject.length; i++) {&amp;#13;
		var blob = responseObject[i];&amp;#13;
		blob.location = ldc;&amp;#13;
		if (isPrivateImage(blob))&amp;#13;
			cloudModelObject.push(responseProcessor.processResponseObject(blob,&amp;#13;
																		'Microsoft.Compute/images',&amp;#13;
																	    'os_template_create_validator'));&amp;#13;
	}&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelObject);&amp;#13;
 }&amp;#13;
&amp;#13;
function isPrivateImage (blob) {&amp;#13;
	return blob.containerName === 'system'&amp;#13;
		&amp;amp;&amp;amp; blob.Name.indexOf('osDisk') &amp;gt; -1&amp;#13;
		&amp;amp;&amp;amp; blob.Name.indexOf('Microsoft.Compute') &amp;gt; -1&amp;#13;
		&amp;amp;&amp;amp; blob.Name.indexOf('.vhd') &amp;gt; -1 ;&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  ldc,
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Storage/blobs',
											   'storage_blob_create_update_validator');

	
	// Process blobs that are private images to the image table
	for (var i = 0; i &lt; responseObject.length; i++) {
		var blob = responseObject[i];
		blob.location = ldc;
		if (isPrivateImage(blob))
			cloudModelObject.push(responseProcessor.processResponseObject(blob,
																		'Microsoft.Compute/images',
																	    'os_template_create_validator'));
	}
	
	return global.JSON.stringify(cloudModelObject);
 }

function isPrivateImage (blob) {
	return blob.containerName === 'system'
		&amp;&amp; blob.Name.indexOf('osDisk') &gt; -1
		&amp;&amp; blob.Name.indexOf('Microsoft.Compute') &gt; -1
		&amp;&amp; blob.Name.indexOf('.vhd') &gt; -1 ;
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by/&gt;&lt;sys_created_on/&gt;&lt;sys_id&gt;6df501abd722220097eb6ccf6e6103ad&lt;/sys_id&gt;&lt;sys_mod_count&gt;21&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Volumes_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_6df501abd722220097eb6ccf6e6103ad&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-09-05 22:58:51&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1527810467</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961948</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557750000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Volumes_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>476d7cc541bf1300b008a8724dfb2aeb</update_guid>
<update_guid_history>476d7cc541bf1300b008a8724dfb2aeb:-1527810467,661b1009d03f1300b80b751753507b15:-1527810467</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_7dc716d20b8132003969a387b6673a7a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Network_Interface_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var cloudModelString = [];
	var nic = global.JSON.parse(response);
	var nicId = nic.networkInterfaceId;
	var publicIP = '';
	if (nic.publicIPAddresses &amp;&amp; nic.publicIPAddresses.length &gt; 0)
		publicIP = nic.publicIPAddresses[0];
	
	var state = 'available';
	var endpoints = [];
	
	if(nic.ownerId !== ''){
		state = 'in_use';
		var endPointId = "nic-" + nicId + "_endpoint";
		var enpoint = {
			"attach_to":{
				"implemented_by":{
					"endpoint_ci":"cmdb_ci_endpoint_vnic",
					"endpoint_identification":{
						"object_id": endPointId
					},
					"attributes":{
						"name": endPointId,
						"host": nic.ownerId,
						"target_port":"",
						"object_id": endPointId
					}
				}
			}
		};
		endpoints.push(enpoint);
	}
	
	var networkInfo = {
		"cmdb_ci_nic": {
			"validator": "nic_create_validator",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id" : cloudServiceAccountId
					}
				},
				"cmdb_ci_azure_datacenter": {
					"criterion": {
						"object_id" : ldc
					}
				},
				"cmdb_ci_nic": {
					"criterion": {
						"object_id": nicId
					}
				}
			},
			"attributes": {
				"object_id": nicId,
				"name": nic.name,
				"allocation_id":"",
				"attach_time":"",
				"gateway": nic.gateway,
				"host_name": "",
				"is_connected":"",
				"is_static":"",
				"net_mask": nic.netmask,
				"owner": nic.ownerId,
				"private_dns": nic.privateDnsName,
				"private_ip": nic.privateIPAddresses[0],
				"public_dns":"",
				"is_source_dest_check": nic.sourceDestCheck,
				"public_ip": publicIP,
				"node_id":"",
				"network_id": nic.networkId,
				"network":"",
				"subnet_id": nic.subnetId,
				"state": state
			},
			"references": {
				"cmdb_ci_cloud_subnet": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_network": {
							"criterion": {
								"object_id": nic.networkId
							}
						},
						"cmdb_ci_cloud_subnet": {
							"criterion": {
								"object_id": nic.subnetId
							}
						}
					},
					"attributes": {
						"object_id": nic.subnetId
					}
				},
				"cmdb_ci_resource_group": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_azure_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_resource_group": {
							"criterion": {
								"object_id": nic.resourceGroup
							}
						}
					},
					"attributes": {
						"object_id": nic.resourceGroup,
					}
				}
			},
			"bindings": endpoints
		}
	};
	cloudModelString.push(networkInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-22 09:55:27&lt;/sys_created_on&gt;&lt;sys_id&gt;7dc716d20b8132003969a387b6673a7a&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Network_Interface_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_7dc716d20b8132003969a387b6673a7a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-02 21:22:51&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2116283145</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96194b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5583a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Network_Interface_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>076dbcc52abf1300dccd8578379b0602</update_guid>
<update_guid_history>076dbcc52abf1300dccd8578379b0602:-2116283145,6a1b1009783f1300b4792a19b11bcf20:-2116283145</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9279b35e0be622009e620bcb15673a85</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_VPN_Gateways_Response_Processor</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>9279b35e0be622009e620bcb15673a85</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_VPN_Gateways_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_9279b35e0be622009e620bcb15673a85</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1476050418</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96194f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551220000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_VPN_Gateways_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>e66d7cc556bf1300bef5f520c2da098e</update_guid>
<update_guid_history>e66d7cc556bf1300bef5f520c2da098e:1476050418,1a1bdcc5fe3f13004c02e523a9924acc:1476050418</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_a0c9c1360b632200e937c97193673adc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Datacenters_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
    var rps = new sn_cmp_api.ResponseProcessorScript();
    var cloudModelString = [];
	var dcResponseArr = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var stepObj = global.JSON.parse(step);

	for(var i in dcResponseArr){
		var dcResponse = dcResponseArr[i];
		var vcenterHost = rps.extractHost(stepObj.endpointURL);
		// Create vcenter_ref
		var gr = new GlideRecord('cmdb_ci_vcenter');
		var sysId;
		gr.addQuery('instance_uuid',dcResponse.locationId);
		gr.query();
		if(gr.next())
			sysId=gr.getValue('sys_id');
		else{
			gr.initialize();
			gr.ip_address= vcenterHost;
			gr.name = "VMware vCenter Server @ "+vcenterHost;
			gr.url = stepObj.endpointURL;
			gr.instance_uuid=dcResponse.locationId;
			sysId = gr.insert();
		}

	var dcInfo = {
		"cmdb_ci_vcenter_datacenter":{
			"validator": "vcenter_location_update_validator",
			"validator_overrides": { },
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId,
					}
				},
				"cmdb_ci_vcenter_datacenter": {
					"criterion": {
						"object_id": dcResponse.morId
					}
				}
			},
			"attributes": {
				"name": dcResponse.locationName,
				"region": dcResponse.locationName,
				"object_id": dcResponse.morId,
				"morid": dcResponse.morId,
				"vcenter_uuid": dcResponse.locationId,
				"datacenter_url": stepObj.endpointURL,
				"vcenter_ref":sysId
			}
		}
	};
		cloudModelString.push(dcInfo);
}

	return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-11 03:56:51&lt;/sys_created_on&gt;&lt;sys_id&gt;a0c9c1360b632200e937c97193673adc&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Datacenters_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_a0c9c1360b632200e937c97193673adc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-13 23:02:47&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-934226323</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961952</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54a5c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Datacenters_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>426d7cc5b2bf1300c4b9530c54ca4c15</update_guid>
<update_guid_history>426d7cc5b2bf1300c4b9530c54ca4c15:-934226323,f91bdcc5923f13006e16c40aca357f80:-934226323</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_be4a37de0be622009e620bcb15673a9e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Destroy_Virtual_Server_Response_Processor&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc){&amp;#13;
	var cloudModelString = [];&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
	if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){&amp;#13;
		var vmInfo ={&amp;#13;
			"cmdb_ci_vm_instance": {&amp;#13;
				"validator": "virtual_machine_create_update_validator",&amp;#13;
				"validator_overrides": { },&amp;#13;
				"identification": {&amp;#13;
					"cmdb_ci_cloud_service_account": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": cloudServiceAccountId&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_aws_datacenter": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": ldc&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_vm_instance": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": vmResponse.nodeId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"attributes": {&amp;#13;
					"object_id": vmResponse.nodeId,&amp;#13;
					"state": "terminated",&amp;#13;
					"disks": 0&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		cloudModelString.push(vmInfo);&amp;#13;
&amp;#13;
		var volId = vmResponse.rootVolumeId;&amp;#13;
		if(volId){&amp;#13;
			var rootVolume = {&amp;#13;
				"cmdb_ci_storage_volume": {&amp;#13;
					"validator": "storage_volumes_list_validator",&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"account_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_aws_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": ldc&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_storage_volume": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": volId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"volume_id": volId,&amp;#13;
						"state":"terminated",&amp;#13;
						"object_id": volId&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			cloudModelString.push(rootVolume);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
		var vmInfo ={
			"cmdb_ci_vm_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_vm_instance": {
						"criterion": {
							"object_id": vmResponse.nodeId
						}
					}
				},
				"attributes": {
					"object_id": vmResponse.nodeId,
					"state": "terminated",
					"disks": 0
				}
			}
		};
		cloudModelString.push(vmInfo);

		var volId = vmResponse.RootVolumeID;
		if(volId){
			var rootVolume = {
				"cmdb_ci_storage_volume": {
					"validator": "storage_volumes_list_validator",
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"account_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_storage_volume": {
							"criterion": {
								"object_id": volId
							}
						}
					},
					"attributes": {
						"volume_id": volId,
						"state":"terminated",
						"object_id": volId
					}
				}
			};
			cloudModelString.push(rootVolume);
		}
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:28:23&lt;/sys_created_on&gt;&lt;sys_id&gt;be4a37de0be622009e620bcb15673a9e&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;Destroy_Virtual_Server_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_be4a37de0be622009e620bcb15673a9e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-02-20 10:10:09&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1826080040</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542740000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Destroy_Virtual_Server_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a56d3cc5eabf13009d1cd62aed6b2cad</update_guid>
<update_guid_history>a56d3cc5eabf13009d1cd62aed6b2cad:1826080040,951bdcc5a93f1300228bfc7bcf601d2d:1826080040</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d679b35e0be622009e620bcb15673a99</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Storage_Container_To_Datacenter</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:49</sys_created_on><sys_id>d679b35e0be622009e620bcb15673a99</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Storage_Container_To_Datacenter</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_d679b35e0be622009e620bcb15673a99</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:49</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1589312270</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d961958</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd552fa0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Associate_Storage_Container_To_Datacenter</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f66d7cc59bbf13000955481bdf317ebb</update_guid>
<update_guid_history>f66d7cc59bbf13000955481bdf317ebb:1589312270,521bdcc58f3f13003876dea4a31266e2:1589312270</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_ee2f283287c3030032b6f4bbe3e3ecbe</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;change_storage_volume_state&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var volume = {
		"cmdb_ci_storage_volume": {
			"validator": "default_storage_volume_validator",
			"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeResponse.volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeResponse.volumeId,
					"state": "available"
				},
				"references" : {}
			}
		};
	
		cloudModelString.push(volume);
		return global.JSON.stringify(cloudModelString);
	}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-12-18 21:53:02&lt;/sys_created_on&gt;&lt;sys_id&gt;ee2f283287c3030032b6f4bbe3e3ecbe&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;change_storage_volume_state&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_ee2f283287c3030032b6f4bbe3e3ecbe&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-12-19 19:02:00&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-285622915</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>db6dbcc5dbbf1300786ff1351d96195b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553720000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>change_storage_volume_state</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7e6d7cc5d6bf1300c9806f09da32d5bf</update_guid>
<update_guid_history>7e6d7cc5d6bf1300c9806f09da32d5bf:-285622915,1e1bdcc5c93f130061c79c0dc9e541e6:-285622915</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_bp_stage_res_op_graph_24c8fab7db5313002c87f1771d9619bb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_bp_stage_res_op_graph"><sn_cmp_bp_stage_res_op_graph action="INSERT_OR_UPDATE"><blueprint_stage_op display_value="Start">5a041598db9f1f00786ff1351d961973</blueprint_stage_op><child_operation display_value="Virtual Server.Start">74f4951cdb9f1f00786ff1351d96195d</child_operation><in_degree>0</in_degree><parent_operation display_value="Blueprint Container Resource.Start">acf4951cdb9f1f00786ff1351d961950</parent_operation><status>true</status><sys_class_name>sn_cmp_bp_stage_res_op_graph</sys_class_name><sys_created_by>system</sys_created_by><sys_created_on>2018-07-21 16:53:30</sys_created_on><sys_id>24c8fab7db5313002c87f1771d9619bb</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_bp_stage_res_op_graph_24c8fab7db5313002c87f1771d9619bb</sys_update_name><sys_updated_by>system</sys_updated_by><sys_updated_on>2018-07-21 16:53:30</sys_updated_on></sn_cmp_bp_stage_res_op_graph></record_update>]]></payload>
<payload_hash>-410419583</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96192b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5409f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name/>
<type>Stage Resource Operation Graph</type>
<update_domain>global</update_domain>
<update_guid>a16d3cc568bf1300b1d02d7baeb09e99</update_guid>
<update_guid_history>a16d3cc568bf1300b1d02d7baeb09e99:-410419583</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_ep_mapping_09d423d10b0232009e620bcb15673af7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_ep_mapping"><sn_cmp_rb_ep_mapping action="INSERT_OR_UPDATE"><endpoint>cmdb_ci_endpoint_block</endpoint><relation_type>2</relation_type><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_ep_mapping</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-04-10 06:00:41</sys_created_on><sys_id>09d423d10b0232009e620bcb15673af7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_ep_mapping_09d423d10b0232009e620bcb15673af7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-04-10 06:00:41</sys_updated_on></sn_cmp_rb_ep_mapping></record_update>]]></payload>
<payload_hash>-1602611193</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96192e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd542b00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Endpoint Mapping</type>
<update_domain>global</update_domain>
<update_guid>f16d3cc58cbf130038bc4b1ea61818b0</update_guid>
<update_guid_history>f16d3cc58cbf130038bc4b1ea61818b0:-1602611193,a51bdcc5bf3f1300c782d6d80f6e3b30:-1602611193</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_guest_interface_55f5cd6bd722220097eb6ccf6e61034b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_guest_interface"><sn_cmp_rb_guest_interface action="INSERT_OR_UPDATE"><guestinterface display_value="Network Service Container Interface">7579b35e0be622009e620bcb15673a28</guestinterface><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><sys_class_name>sn_cmp_rb_guest_interface</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-24 18:32:53</sys_created_on><sys_id>55f5cd6bd722220097eb6ccf6e61034b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ddf5cd6bd722220097eb6ccf6e610346</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_guest_interface_55f5cd6bd722220097eb6ccf6e61034b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-24 18:32:53</sys_updated_on></sn_cmp_rb_guest_interface></record_update>]]></payload>
<payload_hash>1742540771</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961931</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd553f20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>ddf5cd6bd722220097eb6ccf6e610346</target_name>
<type>Resource Guest Interface</type>
<update_domain>global</update_domain>
<update_guid>366d7cc5e1bf130058231d035e942dc4</update_guid>
<update_guid_history>366d7cc5e1bf130058231d035e942dc4:1742540771,1a1bdcc59a3f1300aa1c9e3d9f1d07eb:1742540771</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_op_cat_map_ad53c84067b132005ca552e457415ab9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_op_cat_map"><sn_cmp_rb_op_cat_map action="INSERT_OR_UPDATE"><cat_item display_value="Virtual Server - Start">4fa40d7d931813004a9032bfa67ffb1b</cat_item><operation display_value="Start">306a3bde0be622009e620bcb15673acb</operation><resource_block display_value="Virtual Server">6a4a735e0be622009e620bcb15673a04</resource_block><sys_class_name>sn_cmp_rb_op_cat_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-03-24 06:07:24</sys_created_on><sys_id>ad53c84067b132005ca552e457415ab9</sys_id><sys_mod_count>3</sys_mod_count><sys_name>6a4a735e0be622009e620bcb15673a04</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy>read</sys_policy><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_op_cat_map_ad53c84067b132005ca552e457415ab9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2018-02-16 00:12:55</sys_updated_on></sn_cmp_rb_op_cat_map></record_update>]]></payload>
<payload_hash>-1967753710</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961934</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd546700000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>6a4a735e0be622009e620bcb15673a04</target_name>
<type>Resource operation catalog mapping</type>
<update_domain>global</update_domain>
<update_guid>f56d3cc574bf1300bd8773b3856654ce</update_guid>
<update_guid_history>f56d3cc574bf1300bd8773b3856654ce:-1967753710,611bdcc57f3f130026393472d0d93950:-1967753710</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_0652626b0bd51300dbe7aac125673a9a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;PowerShell_Script_Response_Validator&lt;/name&gt;&lt;resource display_value="Virtual Server"&gt;6a4a735e0be622009e620bcb15673a04&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext) {
  var scriptResponse = global.JSON.parse(response);
  if(!gs.nil(scriptResponse.exitCode)) {
	 var stdErr = scriptResponse.stdErr;
	 var exitCode = scriptResponse.exitCode;
	 var stdOut = scriptResponse.stdOut;
	 if((parseInt(exitCode) == 0 &amp;&amp; !gs.nil(stdErr)) || parseInt(exitCode) &gt; 0) {
             var errorMessage = "Error executing the script. ExitCode=" +exitCode+ ". StdOut=" +stdOut+ ". StdErr=" +stdErr+".";
             throw new Error(errorMessage);
	  }
  }
  return global.JSON.stringify([]);
}
]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-04-12 10:38:07&lt;/sys_created_on&gt;&lt;sys_id&gt;0652626b0bd51300dbe7aac125673a9a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;PowerShell_Script_Response_Validator&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_0652626b0bd51300dbe7aac125673a9a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-04-12 10:38:07&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1195121299</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961937</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd541ae0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>PowerShell_Script_Response_Validator</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>a56d3cc5ebbf130068889060081516a6</update_guid>
<update_guid_history>a56d3cc5ebbf130068889060081516a6:1195121299,9d1bdcc58f3f1300487916ba6566c825:1195121299</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_1d6859c19f05320048111f80a57fcf14</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Describe_Azure_Deployment&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	var processor = new AzureARMResponseProcessor();
	processor.topLevel(false);
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObj = global.JSON.parse(responseToProcess);
	
	var arrayUtil = new global.ArrayUtil();
	responseObj = arrayUtil.ensureArray(responseObj);
	var processedResponses = [];

	// response can have multiple items - process them one by one
	for (var i = 0; i &lt; responseObj.length; i++) {
		var processed = processor.processResponse(responseObj[i], cloudServiceAccountId, ldc, 
												  correlationId, step, requestorContext, stackId);
		processedResponses = arrayUtil.union(processedResponses, processed);
	}
	
	return global.JSON.stringify(processedResponses);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jimmy.yuan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-18 08:05:37&lt;/sys_created_on&gt;&lt;sys_id&gt;1d6859c19f05320048111f80a57fcf14&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Describe_Azure_Deployment&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_1d6859c19f05320048111f80a57fcf14&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-20 02:26:17&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>67060615</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96193a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd554d00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Describe_Azure_Deployment</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>f66d7cc55bbf130081d7969c2a8fb2ce</update_guid>
<update_guid_history>f66d7cc55bbf130081d7969c2a8fb2ce:67060615,961bdcc5603f13008df4d93b80d68bf6:67060615</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_227e9e1b67603200790a6c706785ef11</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Destroy_vSphere_Virtual_Response_Processor&lt;/name&gt;&lt;resource display_value="vSphere Datacenter"&gt;5cc941360b632200e937c97193673a1a&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId){&amp;#13;
	var cloudModelString = [];&amp;#13;
	var vmResponse = global.JSON.parse(response);&amp;#13;
	if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){&amp;#13;
		var vmInfo ={&amp;#13;
			"cmdb_ci_vmware_instance": {&amp;#13;
				"validator": "virtual_machine_create_update_validator",&amp;#13;
				"validator_overrides": { },&amp;#13;
				"identification": {&amp;#13;
					"cmdb_ci_cloud_service_account": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": cloudServiceAccountId&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_vcenter_datacenter": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": getLDC()&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"cmdb_ci_vmware_instance": {&amp;#13;
						"criterion": {&amp;#13;
							"object_id": vmResponse.objectId&amp;#13;
						}&amp;#13;
					}&amp;#13;
				},&amp;#13;
				"attributes": {&amp;#13;
					"object_id": vmResponse.objectId,&amp;#13;
					"state": "terminated"&amp;#13;
				}&amp;#13;
			}&amp;#13;
		};&amp;#13;
		cloudModelString.push(vmInfo);&amp;#13;
&amp;#13;
		gs.info('***Resp Output -- '+response.volumeId);&amp;#13;
		gs.info('***Resp Output 2-- '+!gs.nil(response.volumeId));&amp;#13;
&amp;#13;
		if(!gs.nil(response.volumeId)){&amp;#13;
			var volumeData = {&amp;#13;
				"cmdb_ci_storage_volume": {&amp;#13;
					"validator": "default_storage_volume_validator",&amp;#13;
					"validator_overrides": { },&amp;#13;
					"identification": {&amp;#13;
						"cmdb_ci_cloud_service_account": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": cloudServiceAccountId&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_vcenter_datacenter": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id":  getLDC()&amp;#13;
							}&amp;#13;
						},&amp;#13;
						"cmdb_ci_storage_volume": {&amp;#13;
							"criterion": {&amp;#13;
								"object_id": response.volumeId&amp;#13;
							}&amp;#13;
						}&amp;#13;
					},&amp;#13;
					"attributes": {&amp;#13;
						"object_id": response.volumeId,&amp;#13;
						"state": "terminated"&amp;#13;
					}&amp;#13;
				}&amp;#13;
			};&amp;#13;
			cloudModelString.push(volumeData);&amp;#13;
		}&amp;#13;
	}&amp;#13;
	&amp;#13;
	return global.JSON.stringify(cloudModelString);&amp;#13;
}&amp;#13;
&amp;#13;
function getLDC(){&amp;#13;
	var stepResponse = global.JSON.parse(step);&amp;#13;
	return stepResponse.ldcObjectId;&amp;#13;
}&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId){
	var cloudModelString = [];
	var vmResponse = global.JSON.parse(response);
	if(vmResponse.TASK_RESULT.toUpperCase() === "SUCCESS"){
		var vmInfo ={
			"cmdb_ci_vmware_instance": {
				"validator": "virtual_machine_create_update_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_vcenter_datacenter": {
						"criterion": {
							"object_id": getLDC()
						}
					},
					"cmdb_ci_vmware_instance": {
						"criterion": {
							"object_id": vmResponse.objectId
						}
					}
				},
				"attributes": {
					"object_id": vmResponse.objectId,
					"state": "terminated"
				}
			}
		};
		cloudModelString.push(vmInfo);

		if(!gs.nil(vmResponse.volumeId)){
			var volumeData = {
				"cmdb_ci_storage_volume": {
					"validator": "default_storage_volume_validator",
					"validator_overrides": { },
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_vcenter_datacenter": {
							"criterion": {
								"object_id":  getLDC()
							}
						},
						"cmdb_ci_storage_volume": {
							"criterion": {
								"object_id": vmResponse.volumeId
							}
						}
					},
					"attributes": {
						"object_id": vmResponse.volumeId,
						"state": "terminated"
					}
				}
			};
			cloudModelString.push(volumeData);
		}
	}
	
	return global.JSON.stringify(cloudModelString);
}

function getLDC(){
	var stepResponse = global.JSON.parse(step);
	return stepResponse.ldcObjectId;
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-31 16:27:01&lt;/sys_created_on&gt;&lt;sys_id&gt;227e9e1b67603200790a6c706785ef11&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Destroy_vSphere_Virtual_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_227e9e1b67603200790a6c706785ef11&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-05-08 09:52:25&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2034249939</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96193b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd548c70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Destroy_vSphere_Virtual_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>4a6d3cc5c8bf13007b7121171c1843eb</update_guid>
<update_guid_history>4a6d3cc5c8bf13007b7121171c1843eb:-2034249939,bd1bdcc5b53f13009d462b5a64da0f6e:-2034249939</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_4679b35e0be622009e620bcb15673a64</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Images_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>4679b35e0be622009e620bcb15673a64</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Images_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_4679b35e0be622009e620bcb15673a64</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>291881640</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96193e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54ecd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Images_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>2a6d7cc5dbbf1300a4b33402cf570639</update_guid>
<update_guid_history>2a6d7cc5dbbf1300a4b33402cf570639:291881640,821bdcc5003f1300e2c9408c378b85b4:291881640</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_55f501abd722220097eb6ccf6e6103a3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Storage_Account_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, 
						  correlationId, step, requestorContext, stackId) {
	
	var rps = new sn_cmp_api.ResponseProcessorScript();
	var responseToProcess = rps.extractResponse(response);
	var responseObject = global.JSON.parse(responseToProcess);	

	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, 
												  null, //don't pass in LDC as it can be different for azure
												  'Azure API',
												  {"correlationId": correlationId,
												   "step": step,
												   "requestorContext": requestorContext,
												   "stackId": stackId});
	
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'Microsoft.Storage/storageAccounts',
											   'storage_account_create_update_validator');
	return global.JSON.stringify(cloudModelObject);
 }]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by/&gt;&lt;sys_created_on/&gt;&lt;sys_id&gt;55f501abd722220097eb6ccf6e6103a3&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Storage_Account_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_55f501abd722220097eb6ccf6e6103a3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-17 21:45:01&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-856904032</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961941</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd555fd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Storage_Account_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>7a6d7cc5bdbf1300e78a609574f121db</update_guid>
<update_guid_history>7a6d7cc5bdbf1300e78a609574f121db:-856904032,e61b1009713f13004e44db590bbf0e04:-856904032</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_5fe93d4867a00300a7526c706785ef0f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Server_Array_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	
	var cloudModelString = [];
	var serverArrayResponse = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	
	//Checking whether CAPI returned valid Response
	if(!(isEmpty(serverArrayResponse))){
		var healthCheck_map = { "EC2":"1", "ELB":"2"};

			var enabledLoadBal = false;
			var enabledMetrics = false;
			var enabledScalingPolicies = false;
			var enabledAvailabilityZones = false;
			var enabledVPC = false;
			var enabledVMs = false;

			//Checking If VPCZoneIdentifier is Null or not
			if(!(isEmpty(serverArrayResponse.VPCZoneIdentifier)))
				enabledVPC = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any Load Balancers
			if(!(isEmpty(serverArrayResponse.LoadBalancerNames)))
				enabledLoadBal = true;
			if(!(isEmpty(serverArrayResponse.EnabledMetrics)))
				enabledMetrics = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any Availability Zones
			if(!(isEmpty(serverArrayResponse.AvailabilityZones)))
				enabledAvailabilityZones = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any VMs
			if(!(isEmpty(serverArrayResponse.Instances)))
				enabledVMs = true;
			//Checking If each AutoScaling Entity of CAPI Response consists any Scaling Policies
			if(!(isEmpty(serverArrayResponse.Policies)))
				if(!(isEmpty(serverArrayResponse.Policies.DescribePoliciesResult)))
					if(!(isEmpty(serverArrayResponse.Policies.DescribePoliciesResult.ScalingPolicies)))
						enabledScalingPolicies = true;

			var serverArrayInfo ={
				"cmdb_ci_sa_server_array": {
					"identification": {
						"cmdb_ci_cloud_service_account": {
							"criterion": {
								"object_id": cloudServiceAccountId
							}
						},
						"cmdb_ci_aws_datacenter": {
							"criterion": {
								"object_id": ldc
							}
						},
						"cmdb_ci_sa_server_array": {
							"criterion": {
								"object_id": serverArrayResponse.AutoScalingGroupName
							}
						}
					},
					"attributes": {
						"name": serverArrayResponse.AutoScalingGroupName,
						"object_id": serverArrayResponse.AutoScalingGroupName,
						"autoscaling_group_arn":serverArrayResponse.AutoScalingGroupARN,
						"max_size": serverArrayResponse.MaxSize,
						"min_size": serverArrayResponse.MinSize,
						"default_cooldown": serverArrayResponse.DefaultCooldown,
						"default_group_size": serverArrayResponse.DesiredCapacity,
						"target_group_arn": serverArrayResponse.TargetGroupARNs,
						"health_check_type": healthCheck_map[serverArrayResponse.HealthCheckType],
						"health_check_grace_period": serverArrayResponse.HealthCheckGracePeriod,
						"suspend_process_status": serverArrayResponse.SuspendedProcesses,
						"enabled_metric": enabledMetrics,
						"enable_loadbalancing": enabledLoadBal,
						"instance_protection": serverArrayResponse.NewInstancesProtectedFromScaleIn,
						"enable_scaling_policies": enabledScalingPolicies,
						"assigned_to":reqContext.userId,
						"assignment_group":reqContext.groupId,
						"status": "1"       //On
					},
					"references": {
						"cmdb_ci_sa_launch_config": {
							"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_sa_launch_config": {
									"criterion": {
										"object_id": serverArrayResponse.LaunchConfigurationName
									}
								}
							},
							"attributes": {
								"object_id": serverArrayResponse.LaunchConfigurationName
							}
						}
					},
					"relationships" : {}
				}
			};

			if(enabledVPC){
				serverArrayInfo.cmdb_ci_sa_server_array.references['cmdb_ci_cloud_subnet'] = {};
				var zoneMap = {
					"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"account_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"region": ldc
								}
							},
							"cmdb_ci_network": {
								"criterion": {
									"object_id": getNetworkID(serverArrayResponse.VPCZoneIdentifier)
								}
							},
							"cmdb_ci_cloud_subnet": {
								"criterion": {
									"object_id": serverArrayResponse.VPCZoneIdentifier
								}
							}
						},
						"attributes": {
							"object_id": serverArrayResponse.VPCZoneIdentifier,
						}
				};
				serverArrayInfo.cmdb_ci_sa_server_array.references.cmdb_ci_cloud_subnet = zoneMap;
			}
		
			if(enabledScalingPolicies){
				var metricType = "";
				var targetValue = "";
				var disableScaleIn = "";
				var scalingPolicies = convertMapToList(serverArrayResponse.Policies.DescribePoliciesResult.ScalingPolicies.member);
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_sa_simple_policy'] = [];
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_sa_dynamic_policy'] = [];
				var metricType_map = { "ASGAverageCPUUtilization":"1", "ASGAverageNetworkIn":"3", "ASGAverageNetworkOut":"4", "ASGApplicationLoadBalancerRequestCountPerTarge":"1"};
				var policyType_map = { "TargetTrackingScaling" : "1","SimpleScaling" : "1", "StepScaling" : "2"};

				//Below Module Populates Simple and Dynamic Scaling Policies
				for(var j=0;j&lt;scalingPolicies.length;j++){
					var policyMapping = {};
					//Checking If "TargetTrackingConfiguration" object exists in the CAPI response
					if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration))){
						//Checking If "PredefinedMetricSpecification" Object exisits in "TargetTrackingConfiguration" object of CAPI response
						if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.PredefinedMetricSpecification))){
							//Checking If "PredefinedMetricType" Object exisits in CAPI response
							if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.PredefinedMetricSpecification.PredefinedMetricType)))
								metricType = scalingPolicies[j].TargetTrackingConfiguration.PredefinedMetricSpecification.PredefinedMetricType;
						}
						//Checking If "TargetValue" Object exisits in CAPI response
						if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.TargetValue)))
							targetValue = scalingPolicies[j].TargetTrackingConfiguration.TargetValue;
						//Checking If "DisableScaleIn" Object exisits in CAPI response
						if(!(isEmpty(scalingPolicies[j].TargetTrackingConfiguration.DisableScaleIn)))
							disableScaleIn = scalingPolicies[j].TargetTrackingConfiguration.DisableScaleIn;
					}

					if((scalingPolicies[j].PolicyType == "TargetTrackingScaling") || (scalingPolicies[j].PolicyType == "SimpleScaling")){
						policyMapping = {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_aws_datacenter": {
									  "criterion": {
										"object_id": ldc
									  }
									},
									"cmdb_ci_sa_server_array": {
										"criterion": {
											"object_id": scalingPolicies[j].AutoScalingGroupName
										}
									},
									"cmdb_ci_sa_simple_policy": {
									  "criterion": {
										"object_id": scalingPolicies[j].PolicyName
									  }
									}
								},
								"attributes": {
									"name": scalingPolicies[j].PolicyName,
									"object_id": scalingPolicies[j].PolicyName,
									"policy_type": policyType_map[scalingPolicies[j].PolicyType],
									"metric_type": metricType_map[metricType],
									"target_value": Math.floor(targetValue),
									"disable_scale_in": disableScaleIn
								}
						};
						serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_sa_simple_policy.push(policyMapping);
					}
					else {
						policyMapping = {
								"identification": {
									"cmdb_ci_cloud_service_account": {
										"criterion": {
											"object_id": cloudServiceAccountId
										}
									},
									"cmdb_ci_aws_datacenter": {
									  "criterion": {
										"object_id": ldc
									  }
									},
									"cmdb_ci_sa_server_array": {
										"criterion": {
											"object_id": scalingPolicies[j].AutoScalingGroupName
										}
									},
									"cmdb_ci_sa_dynamic_policy": {
									  "criterion": {
										"object_id": scalingPolicies[j].PolicyName
									  }
									}
								},
								"attributes": {
									"name": scalingPolicies[j].PolicyName,
									"object_id": scalingPolicies[j].PolicyName,
									"policy_type": policyType_map[scalingPolicies[j].PolicyType]
								}
						};
						serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_sa_dynamic_policy.push(policyMapping);
					}		
				}
			}

			//Below Module Populates Availability Zones Information
			if(enabledAvailabilityZones){
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_availability_zone'] = [];
				var availabilityZonesArr = convertMapToList(serverArrayResponse.AvailabilityZones.member);
				for(var p=0; p&lt;availabilityZonesArr.length; p++){
					var availabilityZonesMap = {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_availability_zone": {
								"criterion": {
									"object_id": availabilityZonesArr[p]
								}
							}
						},
						"attributes": {
							"object_id": availabilityZonesArr[p]
						}
					};
					serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_availability_zone.push(availabilityZonesMap);
				}
			}

			//Below Module Populates VMs Information
			if(enabledVMs){
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_vm_instance'] = [];
				var vmsArr = convertMapToList(serverArrayResponse.Instances.member);
				for(var q=0; q&lt;vmsArr.length; q++){
					var vmsMap = {
						"identification": {
								"cmdb_ci_cloud_service_account": {
									"criterion": {
										"object_id": cloudServiceAccountId
									}
								},
								"cmdb_ci_aws_datacenter": {
									"criterion": {
										"object_id": ldc
									}
								},
								"cmdb_ci_vm_instance": {
									"criterion": {
										"object_id": vmsArr[q].InstanceId
									}
								}
							},
							"attributes": {
								"object_id": vmsArr[q].InstanceId
							}
					};
					serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_vm_instance.push(vmsMap);
				}
			}

			//Below Module Populates Load Balancer Information
			if(enabledLoadBal){
				serverArrayInfo.cmdb_ci_sa_server_array.relationships['cmdb_ci_cloud_load_balancer'] = [];
				var loadBalDataArr = convertMapToList(serverArrayResponse.LoadBalancerNames.member);
				for(var k=0; k&lt;loadBalDataArr.length; k++){
					var loadBalDataMap = {
						"identification": {
							"cmdb_ci_cloud_service_account": {
								"criterion": {
									"object_id": cloudServiceAccountId
								}
							},
							"cmdb_ci_aws_datacenter": {
								"criterion": {
									"object_id": ldc
								}
							},
							"cmdb_ci_cloud_load_balancer": {
								"criterion": {
									"object_id": loadBalDataArr[k]
								}
							}
						},
						"attributes": {
							"object_id": loadBalDataArr[k]
						}
					};
					serverArrayInfo.cmdb_ci_sa_server_array.relationships.cmdb_ci_cloud_load_balancer.push(loadBalDataMap);
				}	
			}
			cloudModelString.push(serverArrayInfo);
		}
		return global.JSON.stringify(cloudModelString);
	
 }

//Following Function converts Map to List
function convertMapToList(value){
	if(!(Array.isArray(value))){
		//Converting to List to Map
		var loadList = [];
		loadList.push(value);
		return loadList;
	}
	else
		return value;
}

//Following function provides Network ObjectID when Subnet's ObjectID is provided which we get from CAPI Response
function getNetworkID(subnetID){
	var subnetGR = new GlideRecord('cmdb_ci_cloud_subnet');
	subnetGR.addQuery('object_id',subnetID);
	subnetGR.query();
	if (subnetGR.next()){ 
		var networkGR = new GlideRecord('cmdb_rel_ci');
		networkGR.addQuery('child',subnetGR.getValue('sys_id'));
		networkGR.query();
		while(networkGR.next()){
			var nwGR = new GlideRecord('cmdb_ci_network');
			nwGR.addQuery('sys_id',networkGR.getValue('parent'));
			nwGR.query();
			if(nwGR.next())
				return nwGR.getValue('object_id');
		}
	}
}

//This will return true if value is 'undefined'/ 'null' / '[]' / "" (Empty String)
function isEmpty(value){
  return (value == null || value.length === 0);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-08-08 07:38:18&lt;/sys_created_on&gt;&lt;sys_id&gt;5fe93d4867a00300a7526c706785ef0f&lt;/sys_id&gt;&lt;sys_mod_count&gt;12&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Server_Array_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_5fe93d4867a00300a7526c706785ef0f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-26 05:38:48&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2014640548</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961944</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54fcc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Create_Server_Array_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ae6d7cc509bf1300a891892a8ff7ff74</update_guid>
<update_guid_history>ae6d7cc509bf1300a891892a8ff7ff74:-2014640548,c61bdcc59a3f13005f62d60fb8e2e2be:-2014640548</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_6ca169070bb932003969a387b6673afd</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Attach_Storage_Volume_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var volumeInfo = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);

	if(volumeInfo){
		var volumeId = volumeInfo.volumeId;
		var endPointId = volumeId.concat( "_" , "block_endpoint");
		var volumeData = {
			"cmdb_ci_storage_volume": {
				"validator": "volume_attach_vm",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_azure_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_storage_volume": {
						"criterion": {
							"object_id": volumeId
						}
					}
				},
				"attributes": {
					"object_id": volumeId,
					"volume_id": volumeId,
					"state": 'leased'
				},
				"bindings": [
					{
						"attach_to":{
							"implemented_by":{
								"endpoint_ci":"cmdb_ci_endpoint_block",
								"endpoint_identification":{
									"object_id": endPointId
								},
								"attributes":{
									"attachment_info": 'leased',
									"mount_point": '',
									"attach_time": '',
									"host": volumeInfo.nodeId,
									"name": endPointId
								}
							}
						}
					}
				]
			}
		};
		cloudModelString.push(volumeData);
	}
	
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-02 20:50:35&lt;/sys_created_on&gt;&lt;sys_id&gt;6ca169070bb932003969a387b6673afd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Attach_Storage_Volume_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_6ca169070bb932003969a387b6673afd&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-02 20:50:35&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-171313043</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961947</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd557420000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Attach_Storage_Volume_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>cb6d7cc530bf13004283b2ddf88639e8</update_guid>
<update_guid_history>cb6d7cc530bf13004283b2ddf88639e8:-171313043,2a1b1009a33f130040dfd4e0e3f1e612:-171313043</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103c7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_VPN_Connections_Response_Processor</name><resource display_value="Azure Datacenter">ddf5cd6bd722220097eb6ccf6e610346</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by/><sys_created_on/><sys_id>75f501abd722220097eb6ccf6e6103c7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_VPN_Connections_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_75f501abd722220097eb6ccf6e6103c7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-25 21:34:58</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1246104786</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96194a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd558020000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_VPN_Connections_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>8b6d7cc543bf1300fdefc07fa36596ff</update_guid>
<update_guid_history>8b6d7cc543bf1300fdefc07fa36596ff:1246104786,2e1b1009f03f13002bc00b8d5f31951d:1246104786</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8a79b35e0be622009e620bcb15673a5f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Virtual_Servers_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:47</sys_created_on><sys_id>8a79b35e0be622009e620bcb15673a5f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Virtual_Servers_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_8a79b35e0be622009e620bcb15673a5f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:47</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1437763090</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96194d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550bb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Virtual_Servers_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>e26d7cc541bf1300a7f440463ddeec89</update_guid>
<update_guid_history>e26d7cc541bf1300a7f440463ddeec89:1437763090,8e1bdcc5e83f130082cea16af44cafc6:1437763090</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_8e79b35e0be622009e620bcb15673a65</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;List_Hardwares_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc) {
	var json = new global.JSON();
	var responseObject = json.decode(response);
	var responseProcessor = new sn_cmp.ResponseProcessor(cloudServiceAccountId, ldc, 'Cloud API');
	var cloudModelObject = 
		responseProcessor.processResponseArray(responseObject,
											   'AWS::EC2::InstanceType',
											   'compute_template_create_validator');
	return json.encode(cloudModelObject);	
}
		]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-10-21 10:24:47&lt;/sys_created_on&gt;&lt;sys_id&gt;8e79b35e0be622009e620bcb15673a65&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;List_Hardwares_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_8e79b35e0be622009e620bcb15673a65&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jimmy.yuan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-01-12 08:32:36&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>1551191062</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96194e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd550f70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>List_Hardwares_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ea6d7cc501bf1300e7abe7c2a695118c</update_guid>
<update_guid_history>ea6d7cc501bf1300e7abe7c2a695118c:1551191062,8a1bdcc5e33f13008fbc9fdf1ac30fca:1551191062</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_9e79b35e0be622009e620bcb15673a7e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>Associate_Igws_To_LDC</name><resource display_value="AWS Datacenter">0279b35e0be622009e620bcb15673a2e</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-10-21 10:24:48</sys_created_on><sys_id>9e79b35e0be622009e620bcb15673a7e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Associate_Igws_To_LDC</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_9e79b35e0be622009e620bcb15673a7e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-10-21 10:24:48</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>-150426012</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961951</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd551f70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Associate_Igws_To_LDC</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>ae6d7cc522bf1300f194bf08973e70a1</update_guid>
<update_guid_history>ae6d7cc522bf1300f194bf08973e70a1:-150426012,121bdcc5093f1300a6d8c2812bdd8fd4:-150426012</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_b53e4a5a0b1632003969a387b6673a53</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Azure_Create_Resource_Group_Response_Processor&lt;/name&gt;&lt;resource display_value="Azure Datacenter"&gt;ddf5cd6bd722220097eb6ccf6e610346&lt;/resource&gt;&lt;script/&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId,step, requestorContext) {
	var cloudModelString = [];
	var rgResponse = global.JSON.parse(response);
	
	var rgInfo = {
		"cmdb_ci_resource_group": {
			"validator": "",
			"validator_overrides": {
			},
			"identification": {
				"cmdb_ci_cloud_service_account": {
					"criterion": {
						"object_id": cloudServiceAccountId
					}
				},
				"cmdb_ci_logical_datacenter": {
					"criterion": {
						"object_id": ldc
					}
				},
				"cmdb_ci_resource_group": {
					"criterion": {
						"object_id": rgResponse.id
					}
				}
			},
			"attributes": {
				"object_id": rgResponse.id,
				"name" : rgResponse.name,
				"state" : "available"
			}
		}
	};
	cloudModelString.push(rgInfo);
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-04-25 12:32:13&lt;/sys_created_on&gt;&lt;sys_id&gt;b53e4a5a0b1632003969a387b6673a53&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Azure_Create_Resource_Group_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_b53e4a5a0b1632003969a387b6673a53&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-04-25 12:58:18&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1028429107</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:45</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd559640000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:45</sys_updated_on>
<table/>
<target_name>Azure_Create_Resource_Group_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>836dbcc5b3bf130014a995b2f1416f11</update_guid>
<update_guid_history>836dbcc5b3bf130014a995b2f1416f11:-1028429107,fa1b1009073f130057148cb4eea82d6e:-1028429107</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_d4c9c1360b632200e937c97193673abe</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sn_cmp_rb_resourcescript"><sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"><name>List_Datastores_Response_Processor</name><resource display_value="vSphere Datacenter">5cc941360b632200e937c97193673a1a</resource><script/><script_js/><sys_class_name>sn_cmp_rb_resourcescript</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2016-12-11 03:56:50</sys_created_on><sys_id>d4c9c1360b632200e937c97193673abe</sys_id><sys_mod_count>0</sys_mod_count><sys_name>List_Datastores_Response_Processor</sys_name><sys_package display_value="Cloud Management Platform" source="sn_cmp">80d50579eb203200979aa5115206fedd</sys_package><sys_policy/><sys_scope display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</sys_scope><sys_update_name>sn_cmp_rb_resourcescript_d4c9c1360b632200e937c97193673abe</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2016-12-11 03:56:50</sys_updated_on><type>7</type></sn_cmp_rb_resourcescript></record_update>]]></payload>
<payload_hash>1271544331</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d961957</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd54b720000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>List_Datastores_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>d26d7cc566bf130051895195b16b971b</update_guid>
<update_guid_history>d26d7cc566bf130051895195b16b971b:1271544331,351bdcc5363f13002b7d011cadb6e687:1271544331</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Cloud Management Platform">80d50579eb203200979aa5115206fedd</application>
<category>customer</category>
<comments/>
<name>sn_cmp_rb_resourcescript_e805c6e50b632200e937c97193673a1b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sn_cmp_rb_resourcescript"&gt;&lt;sn_cmp_rb_resourcescript action="INSERT_OR_UPDATE"&gt;&lt;name&gt;Create_Route_Response_Processor&lt;/name&gt;&lt;resource display_value="AWS Datacenter"&gt;0279b35e0be622009e620bcb15673a2e&lt;/resource&gt;&lt;script&gt;function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
      var temp;
      var cloudModelString = [];
      var routeResponseArray = global.JSON.parse(response);
      var reqContext = global.JSON.parse(requestorContext);
      var routerObjectIdBuilder = new sn_cmp.RouterObjectIdBuilder();
      for (var i = 0; i &amp;lt; routeResponseArray.length; i++) {
        var routerId = routerObjectIdBuilder.build(routeResponseArray[i].networkId, stackId);
        var route = {
          "cmdb_ci_route": {
            "validator": "route_create_validator",
            "validator_overrides": { },
            "identification": {
              "cmdb_ci_cloud_service_account": {
                "criterion": {
                  "object_id": cloudServiceAccountId
                }
              },
              "cmdb_ci_aws_datacenter": {
                "criterion": {
                  "object_id": ldc
                }
              },
              "cmdb_ci_router": {
                "criterion": {
                  "object_id": routerId
                }
              },
              "cmdb_ci_route_table": {
                "criterion": {
                  "object_id":routeResponseArray[i].routeTableId
                }
              },
              "cmdb_ci_route": {
                "criterion": {
                  "destination":routeResponseArray[i].destinationCidrBlock,
                  "route_status":routeResponseArray[i].state,
                  "object_id":routeResponseArray[i].gatewayId
                }
              }
            },
            "attributes": {
              "object_id":routeResponseArray[i].gatewayId,
              "destination":routeResponseArray[i].destinationCidrBlock,
              "route_status":routeResponseArray[i].state,
              "target":routeResponseArray[i].gatewayId,
              "name":routeResponseArray[i].routeTableId+'_'+routeResponseArray[i].gatewayId,
              "assigned_to":reqContext.userId,
              "assignment_group":reqContext.groupId
            }
          }
        };
        cloudModelString.push(route);
      }
      return global.JSON.stringify(cloudModelString);
    }&lt;/script&gt;&lt;script_js&gt;&lt;![CDATA[function processResponse(response, cloudServiceAccountId, ldc, correlationId, step, requestorContext, stackId) {
	var cloudModelString = [];
	var routeResponseArray = global.JSON.parse(response);
	var reqContext = global.JSON.parse(requestorContext);
	var routerObjectIdBuilder = new sn_cmp.RouterObjectIdBuilder();
	for (var i = 0; i &lt; routeResponseArray.length; i++) {
		var routerId = routerObjectIdBuilder.build(routeResponseArray[i].networkId, stackId);
		var route = {
			"cmdb_ci_route": {
				"validator": "route_create_validator",
				"validator_overrides": { },
				"identification": {
					"cmdb_ci_cloud_service_account": {
						"criterion": {
							"object_id": cloudServiceAccountId
						}
					},
					"cmdb_ci_aws_datacenter": {
						"criterion": {
							"object_id": ldc
						}
					},
					"cmdb_ci_router": {
						"criterion": {
							"object_id": routerId
						}
					},
					"cmdb_ci_route_table": {
						"criterion": {
							"object_id":routeResponseArray[i].routeTableId
						}
					},
					"cmdb_ci_route": {
						"criterion": {
							"destination":routeResponseArray[i].destinationCidrBlock,
							"route_status":routeResponseArray[i].state,
							"object_id":routeResponseArray[i].gatewayId
						}
					}
				},
				"attributes": {
					"object_id":routeResponseArray[i].gatewayId,
					"destination":routeResponseArray[i].destinationCidrBlock,
					"route_status":routeResponseArray[i].state,
					"target":routeResponseArray[i].gatewayId,
					"name":routeResponseArray[i].routeTableId+'_'+routeResponseArray[i].gatewayId,
					"assigned_to":reqContext.userId,
					"assignment_group":reqContext.groupId
				}
			}
		};
		cloudModelString.push(route);
	}
	return global.JSON.stringify(cloudModelString);
}]]&gt;&lt;/script_js&gt;&lt;sys_class_name&gt;sn_cmp_rb_resourcescript&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-12-07 11:03:19&lt;/sys_created_on&gt;&lt;sys_id&gt;e805c6e50b632200e937c97193673a1b&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create_Route_Response_Processor&lt;/sys_name&gt;&lt;sys_package display_value="Cloud Management Platform" source="sn_cmp"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Cloud Management Platform"&gt;80d50579eb203200979aa5115206fedd&lt;/sys_scope&gt;&lt;sys_update_name&gt;sn_cmp_rb_resourcescript_e805c6e50b632200e937c97193673a1b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-06-22 02:24:24&lt;/sys_updated_on&gt;&lt;type&gt;7&lt;/type&gt;&lt;/sn_cmp_rb_resourcescript&gt;&lt;/record_update&gt;</payload>
<payload_hash>619126766</payload_hash>
<remote_update_set display_value="Standard VM1 2018-08-06 15:22:38">476dbcc5dbbf1300786ff1351d961928</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2018-08-06 15:22:46</sys_created_on>
<sys_id>df6dbcc5dbbf1300786ff1351d96195a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1650fd5534d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2018-08-06 15:22:46</sys_updated_on>
<table/>
<target_name>Create_Route_Response_Processor</target_name>
<type>Resource Script</type>
<update_domain>global</update_domain>
<update_guid>fe6d7cc5e5bf13005ea70feb3e744ebe</update_guid>
<update_guid_history>fe6d7cc5e5bf13005ea70feb3e744ebe:619126766,5e1bdcc5df3f1300e5232d7f849a8ee5:619126766</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
